!function(t){var e=window.webpackJsonp;window.webpackJsonp=function(n,o,s){for(var a,u,l,c=0,h=[];c<n.length;c++)u=n[c],r[u]&&h.push(r[u][0]),r[u]=0;for(a in o)Object.prototype.hasOwnProperty.call(o,a)&&(t[a]=o[a]);for(e&&e(n,o,s);h.length;)h.shift()();if(s)for(c=0;c<s.length;c++)l=i(i.s=s[c]);return l};var n={},r={43:0};function i(e){if(n[e])return n[e].exports;var r=n[e]={i:e,l:!1,exports:{}};return t[e].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.e=function(t){var e=r[t];if(0===e)return new Promise((function(t){t()}));if(e)return e[2];var n=new Promise((function(n,i){e=r[t]=[n,i]}));e[2]=n;var o=document.getElementsByTagName("head")[0],s=document.createElement("script");s.type="text/javascript",s.charset="utf-8",s.async=!0,s.timeout=12e4,i.nc&&s.setAttribute("nonce",i.nc),s.src=i.p+""+t+".js";var a=setTimeout(u,12e4);function u(){s.onerror=s.onload=null,clearTimeout(a);var e=r[t];0!==e&&(e&&e[1](new Error("Loading chunk "+t+" failed.")),r[t]=void 0)}return s.onerror=s.onload=u,o.appendChild(s),n},i.m=t,i.c=n,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:n})},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i.oe=function(t){throw console.error(t),t},i(i.s=229)}([function(t,e,n){var r,i;r=[n(3),n(19),n(67),n(120),n(80),n(186),n(237),n(121),n(238),n(240),n(68),n(188),n(244),n(104),n(246),n(250),n(78),n(251),n(252),n(69),n(253),n(254),n(255),n(256),n(258),n(122),n(259),n(260),n(261),n(262),n(263)],void 0===(i=function(t){return window.jQuery=window.$=t}.apply(e,r))||(t.exports=i)},function(t,e,n){"use strict";(function(r){var i,o,s,a=l(n(10)),u=l(n(6));function l(t){return t&&t.__esModule?t:{default:t}}o=r,s=function(){var t={};function e(t){if("dev.duitang.net"==window.location.hostname)return"dev.duitang.net"+(window.location.port?":"+window.location.port:"");var e=t+".duitang.com";return/(class|www|buy|operate|m|activity)-(t\d+|beta\d+)\.duitang\.(net|com)/.test(window.location.hostname)&&(e=window.location.hostname.replace(/^(class|www|buy|operate|m|activity)/i,t)),e}return t.VERSION="0.0.1",t.webviewConsole=function(t){var e="";e="- "+(e="object"===(void 0===t?"undefined":(0,u.default)(t))?(0,a.default)(t):"string"==typeof t?t:String(t));var n=document.querySelector("#webview-console"),r=document.querySelector("#webview-console-content");if(!n){var i=document.createElement("div");i.setAttribute("id","webview-console"),i.setAttribute("style","position: fixed;left: 0;bottom: 0;width: 100vw;max-height: 50vh;overflow: auto;padding: 20px;font-size: 16px;line-height: 20px;color: #000;background: rgba(255,255,255,0.9);z-index: 9999;border: 1px solid rgba(0,0,0,0.2);box-sizing: border-box;"),(r=document.createElement("div")).setAttribute("id","webview-console-content"),r.setAttribute("style","word-break: break-all;");var o=document.createElement("span");o.setAttribute("style","position: absolute;right: 0;top: 0;padding: 5px;width: 10vw;height: 3vw;font-size: 14px;color: #999;"),o.textContent="clear",i.appendChild(r),i.appendChild(o),document.body.appendChild(i),n=i,o.addEventListener("click",(function(){r.innerHTML=""}))}var s=r.innerHTML;r.innerHTML=s?s+"<br />"+e:e;var l=r.offsetHeight;l>.5*window.innerHeight&&n.scrollBy({left:0,top:l+20,behavior:"smooth"})},t.dtImageTrans=function(e,n,r,i,o){if(!e)return e;if(/https/gi.test(e)||console.log("非https图片请求，请修改:"+e),!/(duitang|dtstatic)\.com/g.test(e))return console.log("非堆糖域名图片",e),e;var s=/^https?:\/\/[^\/]+(\/.+)/.exec(e),a=s&&s[1];a&&(e="https://c-ssl.dtstatic.com"+a);var u=e;if(n){i=i||0;var l=r=r||0,c=[0,100,200,300,400,500,600,700,800,900,1e3,2e3],h=c.length;if(l>0)for(var f=0;f<h-1;f++)if(c[f]<l&&l<=c[f+1]||f+1===h-1){l=c[f+1];break}if(r>0&&0==i)r=1*l;else if(r>0&&i>0){var p=i/r;r=1*l,i=parseInt(r*p)}o=o&&0!==i?"_"+o:"",u=this.dtImageTrans(e).replace(/(\.[a-z_]+)$/gi,".thumb."+r+"_"+i+o+"$1"),u=t.transToWebp(u)}else u=e.replace(/(?:\.thumb\.\w+|\.[a-z]+!\w+)(\.[a-z_]+)$/gi,"$1").replace(/_webp$/i,"");return u},t.dtUseWebp=function(t){if(!t||""===t)return t;var e,n=t;return/\.gif$/.test(t)||(DtPlatform.isPc()||DtPlatform.isAndroid()||DtPlatform.isIos()&&(e=navigator.userAgent.match(/OS (\d+)_(\d+)/)).length>=2&&e[1]>=14)&&-1===n.indexOf("_webp")&&(n+="_webp"),n},t.transToWebp=function(e){var n=e;return t.isSupportWebp()?n.endsWith("gif_jpeg")?n=n.replace(/gif_jpeg$/i,"gif_webp"):n.endsWith("gif")||(n=n.replace(/(_jpeg|_webp)$/i,""),n+="_webp"):n=n.replace(/_webp$/,""),n},t.isSupportWebp=function(){var t=navigator.userAgent.toLowerCase();if(t.indexOf("iphone os ")>-1){if(parseInt(t.split("iphone os ")[1].split("_")[0])<14)return!1}else if(t.indexOf("mac os ")>-1&&t.indexOf("safari")>-1&&-1==t.indexOf("chrome"))return!1;return!0},t.dtImageSquare=function(e,n){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return r?t.dtGifTrans(e,!0,n,n,"c"):t.dtImageTrans(e,!0,n,n,"c")},t.dtImageThumb=function(e,n){return t.dtImageTrans(e,!0,n,0)},t.dtGifTrans=function(e,n,r,i,o){e=t.dtImageTrans(e,n,r,i,o);var s=/\.gif$/;return s.test(e)?e.replace(s,".gif_jpeg"):e},t.dtUriTrans=function(t,e){if(null==e)return t;var n=[];for(var r in e){var i=r+"="+e[r];n.push(i)}return t+"?"+n.join("&")||""},t.getParams=function(t){t||(t=window.location.href);for(var e,n,r={},i=(t=t.split("#").length>1?t.split("#")[1]:t.split("#")[0]).indexOf("?"),o=(i>-1?t.substr(i+1):"").split("&"),s=0;s<o.length;s++){var a=o[s].indexOf("=");if(a>0){e=o[s].substring(0,a),n=o[s].substr(a+1);try{n.indexOf("+")>-1&&(n=n.replace(/\+/g," ")),r[e]=decodeURIComponent(n)}catch(t){}}}return r},t.addParam=function(t,e,n){var r=new RegExp("([&\\?])"+e+"=[^& ]*","g"),i=(t=t.replace(r,(function(t,e){return"?"==e?"?":""}))).indexOf("?");return t.indexOf("#")<0&&(t=(i>-1?i+1!=t.length?t+"&":t+"":t+"?")+e+"="+n),t},t.removeParam=function(t,e){var n=new RegExp("\\?"+e+"(=[^&]*)?"),r=new RegExp("\\&"+e+"(=[^&]*)?");return t.replace(n,"?").replace(r,"").replace(/\?&/,"?").replace(/\?$/,"")},t.getCookie=function(t){if(document.cookie.length>0){var e=document.cookie.indexOf(t+"=");if(-1!=e){e=e+t.length+1;var n=document.cookie.indexOf(";",e);return-1==n&&(n=document.cookie.length),unescape(document.cookie.substring(e,n))}}return""},t.setCookie=function(t,e,n,r,i){var o="";if("object"===(void 0===i?"undefined":(0,u.default)(i))&&i.toGMTString)o=";expires="+i.toGMTString();else if("number"==typeof i){var s=new Date;s.setDate(s.getDate()+i),o=";expires="+s.toGMTString()}document.cookie=t+"="+escape(e)+(n?";domain="+n:";domain="+document.domain)+(r?";path="+r:";path=/")+o},t.removeCookie=function(t,e,n){var r=new Date;this.setCookie(t,"",null==e?document.domain:e,null==n?"/":n,r)},t.leftB=function(e,n){var r=e.slice(0,n),i=r.replace(/[^\x00-\xff]/g,"**").length;if(i<=n)return r;switch(i-=r.length){case 0:return r;case n:return e.slice(0,n>>1);default:var o=n-i,s=e.slice(o,n),a=s.replace(/[\x00-\xff]/g,"").length;return a?e.slice(0,o)+t.leftB(s,a):e.slice(0,o)}},t.cut=function(e,n,r,i){var o=i?e.substr(0,n):t.leftB(e,n);return o==e?o:o+(void 0===r?"…":r)},t.setUrlOpentype=function(t,e){var n=/__urlopentype.*?=.*?[A-Za-z]+\&?/g;if(""===e)return n.test(t)&&(t=t.replace(n,"")),t;e=void 0!==e?e:"pageweb";var r=t.indexOf("__urlopentype")>-1,i=t.indexOf(e)>-1;if(r){if(i)return t;n.test(t)&&(t=t.replace(n,""))}return t=t.indexOf("?")>-1?t+"&__urlopentype="+e:t+"?__urlopentype="+e},t.trimLink=function(t,e){return"string"==typeof t?t.replace(/https?:\/\/(?:[\w-]+\.)+[\w-]+(?:\:\d+)?(?:\/[^ \t\n]*)?/gi,(function(t){return e?'<a href="'+t+'" target="_blank">'+t+"</a>":""})):t},t.digy=function(t,e,n){if(t=t||"",_digy&&t)if(n=n||"",(e=e||"")&&n){if(e){var r=t+","+e+","+("object"===(void 0===n?"undefined":(0,u.default)(n))?(0,a.default)(n):n);_digy.push(r)}}else _digy.push(t)},t.digyAndHm=function(t,e,n,r){_hmt&&_hmt.push(["_trackEvent",t,e,n,r]),_digy&&_digy.push(t+","+e+","+n+(r||""))},t.getWwwDomain=function(){return e("www")},t.getBuyDomain=function(){return e("buy")},t.getClassDomain=function(){return e("class")},t.getMdtDomain=function(){return e("m")},t.getOperateDomain=function(){return e("operate")},t.getActivityDomain=function(){return e("activity")},t},void 0===(i=function(){return o.DtTools=s()}.call(e,n,e,t))||(t.exports=i)}).call(e,n(203))},function(t,e,n){
/**!

 @license
 handlebars v4.7.6

Copyright (C) 2011-2019 by Yehuda Katz

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in
all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
THE SOFTWARE.

*/
var r;r=function(){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={exports:{},id:r,loaded:!1};return t[r].call(i.exports,i,i.exports,n),i.loaded=!0,i.exports}return n.m=t,n.c=e,n.p="",n(0)}([function(t,e,n){"use strict";var r=n(1).default;e.__esModule=!0;var i=r(n(2)),o=r(n(45)),s=n(46),a=n(51),u=r(n(52)),l=r(n(49)),c=r(n(44)),h=i.default.create;function f(){var t=h();return t.compile=function(e,n){return a.compile(e,n,t)},t.precompile=function(e,n){return a.precompile(e,n,t)},t.AST=o.default,t.Compiler=a.Compiler,t.JavaScriptCompiler=u.default,t.Parser=s.parser,t.parse=s.parse,t.parseWithoutProcessing=s.parseWithoutProcessing,t}var p=f();p.create=f,c.default(p),p.Visitor=l.default,p.default=p,e.default=p,t.exports=e.default},function(t,e){"use strict";e.default=function(t){return t&&t.__esModule?t:{default:t}},e.__esModule=!0},function(t,e,n){"use strict";var r=n(3).default,i=n(1).default;e.__esModule=!0;var o=r(n(4)),s=i(n(37)),a=i(n(6)),u=r(n(5)),l=r(n(38)),c=i(n(44));function h(){var t=new o.HandlebarsEnvironment;return u.extend(t,o),t.SafeString=s.default,t.Exception=a.default,t.Utils=u,t.escapeExpression=u.escapeExpression,t.VM=l,t.template=function(e){return l.template(e,t)},t}var f=h();f.create=h,c.default(f),f.default=f,e.default=f,t.exports=e.default},function(t,e){"use strict";e.default=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e},e.__esModule=!0},function(t,e,n){"use strict";var r=n(1).default;e.__esModule=!0,e.HandlebarsEnvironment=c;var i=n(5),o=r(n(6)),s=n(10),a=n(30),u=r(n(32)),l=n(33);function c(t,e,n){this.helpers=t||{},this.partials=e||{},this.decorators=n||{},s.registerDefaultHelpers(this),a.registerDefaultDecorators(this)}e.VERSION="4.7.6",e.COMPILER_REVISION=8,e.LAST_COMPATIBLE_COMPILER_REVISION=7,e.REVISION_CHANGES={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:"== 1.x.x",5:"== 2.0.0-alpha.x",6:">= 2.0.0-beta.1",7:">= 4.0.0 <4.3.0",8:">= 4.3.0"},c.prototype={constructor:c,logger:u.default,log:u.default.log,registerHelper:function(t,e){if("[object Object]"===i.toString.call(t)){if(e)throw new o.default("Arg not supported with multiple helpers");i.extend(this.helpers,t)}else this.helpers[t]=e},unregisterHelper:function(t){delete this.helpers[t]},registerPartial:function(t,e){if("[object Object]"===i.toString.call(t))i.extend(this.partials,t);else{if(void 0===e)throw new o.default('Attempting to register a partial called "'+t+'" as undefined');this.partials[t]=e}},unregisterPartial:function(t){delete this.partials[t]},registerDecorator:function(t,e){if("[object Object]"===i.toString.call(t)){if(e)throw new o.default("Arg not supported with multiple decorators");i.extend(this.decorators,t)}else this.decorators[t]=e},unregisterDecorator:function(t){delete this.decorators[t]},resetLoggedPropertyAccesses:function(){l.resetLoggedProperties()}};var h=u.default.log;e.log=h,e.createFrame=i.createFrame,e.logger=u.default},function(t,e){"use strict";e.__esModule=!0,e.extend=s,e.indexOf=function(t,e){for(var n=0,r=t.length;n<r;n++)if(t[n]===e)return n;return-1},e.escapeExpression=function(t){if("string"!=typeof t){if(t&&t.toHTML)return t.toHTML();if(null==t)return"";if(!t)return t+"";t=""+t}return i.test(t)?t.replace(r,o):t},e.isEmpty=function(t){return!t&&0!==t||!(!l(t)||0!==t.length)},e.createFrame=function(t){var e=s({},t);return e._parent=t,e},e.blockParams=function(t,e){return t.path=e,t},e.appendContextPath=function(t,e){return(t?t+".":"")+e};var n={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;","=":"&#x3D;"},r=/[&<>"'`=]/g,i=/[&<>"'`=]/;function o(t){return n[t]}function s(t){for(var e=1;e<arguments.length;e++)for(var n in arguments[e])Object.prototype.hasOwnProperty.call(arguments[e],n)&&(t[n]=arguments[e][n]);return t}var a=Object.prototype.toString;e.toString=a;var u=function(t){return"function"==typeof t};u(/x/)&&(e.isFunction=u=function(t){return"function"==typeof t&&"[object Function]"===a.call(t)}),e.isFunction=u;var l=Array.isArray||function(t){return!(!t||"object"!=typeof t)&&"[object Array]"===a.call(t)};e.isArray=l},function(t,e,n){"use strict";var r=n(7).default;e.__esModule=!0;var i=["description","fileName","lineNumber","endLineNumber","message","name","number","stack"];function o(t,e){var n=e&&e.loc,s=void 0,a=void 0,u=void 0,l=void 0;n&&(s=n.start.line,a=n.end.line,u=n.start.column,l=n.end.column,t+=" - "+s+":"+u);for(var c=Error.prototype.constructor.call(this,t),h=0;h<i.length;h++)this[i[h]]=c[i[h]];Error.captureStackTrace&&Error.captureStackTrace(this,o);try{n&&(this.lineNumber=s,this.endLineNumber=a,r?(Object.defineProperty(this,"column",{value:u,enumerable:!0}),Object.defineProperty(this,"endColumn",{value:l,enumerable:!0})):(this.column=u,this.endColumn=l))}catch(t){}}o.prototype=new Error,e.default=o,t.exports=e.default},function(t,e,n){t.exports={default:n(8),__esModule:!0}},function(t,e,n){var r=n(9);t.exports=function(t,e,n){return r.setDesc(t,e,n)}},function(t,e){var n=Object;t.exports={create:n.create,getProto:n.getPrototypeOf,isEnum:{}.propertyIsEnumerable,getDesc:n.getOwnPropertyDescriptor,setDesc:n.defineProperty,setDescs:n.defineProperties,getKeys:n.keys,getNames:n.getOwnPropertyNames,getSymbols:n.getOwnPropertySymbols,each:[].forEach}},function(t,e,n){"use strict";var r=n(1).default;e.__esModule=!0,e.registerDefaultHelpers=function(t){i.default(t),o.default(t),s.default(t),a.default(t),u.default(t),l.default(t),c.default(t)},e.moveHelperToHooks=function(t,e,n){t.helpers[e]&&(t.hooks[e]=t.helpers[e],n||delete t.helpers[e])};var i=r(n(11)),o=r(n(12)),s=r(n(25)),a=r(n(26)),u=r(n(27)),l=r(n(28)),c=r(n(29))},function(t,e,n){"use strict";e.__esModule=!0;var r=n(5);e.default=function(t){t.registerHelper("blockHelperMissing",(function(e,n){var i=n.inverse,o=n.fn;if(!0===e)return o(this);if(!1===e||null==e)return i(this);if(r.isArray(e))return e.length>0?(n.ids&&(n.ids=[n.name]),t.helpers.each(e,n)):i(this);if(n.data&&n.ids){var s=r.createFrame(n.data);s.contextPath=r.appendContextPath(n.data.contextPath,n.name),n={data:s}}return o(e,n)}))},t.exports=e.default},function(t,e,n){(function(r){"use strict";var i=n(13).default,o=n(1).default;e.__esModule=!0;var s=n(5),a=o(n(6));e.default=function(t){t.registerHelper("each",(function(t,e){if(!e)throw new a.default("Must pass iterator to #each");var n,o=e.fn,u=e.inverse,l=0,c="",h=void 0,f=void 0;function p(e,n,r){h&&(h.key=e,h.index=n,h.first=0===n,h.last=!!r,f&&(h.contextPath=f+e)),c+=o(t[e],{data:h,blockParams:s.blockParams([t[e],e],[f+e,null])})}if(e.data&&e.ids&&(f=s.appendContextPath(e.data.contextPath,e.ids[0])+"."),s.isFunction(t)&&(t=t.call(this)),e.data&&(h=s.createFrame(e.data)),t&&"object"==typeof t)if(s.isArray(t))for(var d=t.length;l<d;l++)l in t&&p(l,l,l===t.length-1);else if(r.Symbol&&t[r.Symbol.iterator]){for(var g=[],v=t[r.Symbol.iterator](),m=v.next();!m.done;m=v.next())g.push(m.value);for(d=(t=g).length;l<d;l++)p(l,l,l===t.length-1)}else n=void 0,i(t).forEach((function(t){void 0!==n&&p(n,l-1),n=t,l++})),void 0!==n&&p(n,l-1,!0);return 0===l&&(c=u(this)),c}))},t.exports=e.default}).call(e,function(){return this}())},function(t,e,n){t.exports={default:n(14),__esModule:!0}},function(t,e,n){n(15),t.exports=n(21).Object.keys},function(t,e,n){var r=n(16);n(18)("keys",(function(t){return function(e){return t(r(e))}}))},function(t,e,n){var r=n(17);t.exports=function(t){return Object(r(t))}},function(t,e){t.exports=function(t){if(null==t)throw TypeError("Can't call method on  "+t);return t}},function(t,e,n){var r=n(19),i=n(21),o=n(24);t.exports=function(t,e){var n=(i.Object||{})[t]||Object[t],s={};s[t]=e(n),r(r.S+r.F*o((function(){n(1)})),"Object",s)}},function(t,e,n){var r=n(20),i=n(21),o=n(22),s=function(t,e,n){var a,u,l,c=t&s.F,h=t&s.G,f=t&s.S,p=t&s.P,d=t&s.B,g=t&s.W,v=h?i:i[e]||(i[e]={}),m=h?r:f?r[e]:(r[e]||{}).prototype;for(a in h&&(n=e),n)(u=!c&&m&&a in m)&&a in v||(l=u?m[a]:n[a],v[a]=h&&"function"!=typeof m[a]?n[a]:d&&u?o(l,r):g&&m[a]==l?function(t){var e=function(e){return this instanceof t?new t(e):t(e)};return e.prototype=t.prototype,e}(l):p&&"function"==typeof l?o(Function.call,l):l,p&&((v.prototype||(v.prototype={}))[a]=l))};s.F=1,s.G=2,s.S=4,s.P=8,s.B=16,s.W=32,t.exports=s},function(t,e){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(t,e){var n=t.exports={version:"1.2.6"};"number"==typeof __e&&(__e=n)},function(t,e,n){var r=n(23);t.exports=function(t,e,n){if(r(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,i){return t.call(e,n,r,i)}}return function(){return t.apply(e,arguments)}}},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e,n){"use strict";var r=n(1).default;e.__esModule=!0;var i=r(n(6));e.default=function(t){t.registerHelper("helperMissing",(function(){if(1!==arguments.length)throw new i.default('Missing helper: "'+arguments[arguments.length-1].name+'"')}))},t.exports=e.default},function(t,e,n){"use strict";var r=n(1).default;e.__esModule=!0;var i=n(5),o=r(n(6));e.default=function(t){t.registerHelper("if",(function(t,e){if(2!=arguments.length)throw new o.default("#if requires exactly one argument");return i.isFunction(t)&&(t=t.call(this)),!e.hash.includeZero&&!t||i.isEmpty(t)?e.inverse(this):e.fn(this)})),t.registerHelper("unless",(function(e,n){if(2!=arguments.length)throw new o.default("#unless requires exactly one argument");return t.helpers.if.call(this,e,{fn:n.inverse,inverse:n.fn,hash:n.hash})}))},t.exports=e.default},function(t,e){"use strict";e.__esModule=!0,e.default=function(t){t.registerHelper("log",(function(){for(var e=[void 0],n=arguments[arguments.length-1],r=0;r<arguments.length-1;r++)e.push(arguments[r]);var i=1;null!=n.hash.level?i=n.hash.level:n.data&&null!=n.data.level&&(i=n.data.level),e[0]=i,t.log.apply(t,e)}))},t.exports=e.default},function(t,e){"use strict";e.__esModule=!0,e.default=function(t){t.registerHelper("lookup",(function(t,e,n){return t?n.lookupProperty(t,e):t}))},t.exports=e.default},function(t,e,n){"use strict";var r=n(1).default;e.__esModule=!0;var i=n(5),o=r(n(6));e.default=function(t){t.registerHelper("with",(function(t,e){if(2!=arguments.length)throw new o.default("#with requires exactly one argument");i.isFunction(t)&&(t=t.call(this));var n=e.fn;if(i.isEmpty(t))return e.inverse(this);var r=e.data;return e.data&&e.ids&&((r=i.createFrame(e.data)).contextPath=i.appendContextPath(e.data.contextPath,e.ids[0])),n(t,{data:r,blockParams:i.blockParams([t],[r&&r.contextPath])})}))},t.exports=e.default},function(t,e,n){"use strict";var r=n(1).default;e.__esModule=!0,e.registerDefaultDecorators=function(t){i.default(t)};var i=r(n(31))},function(t,e,n){"use strict";e.__esModule=!0;var r=n(5);e.default=function(t){t.registerDecorator("inline",(function(t,e,n,i){var o=t;return e.partials||(e.partials={},o=function(i,o){var s=n.partials;n.partials=r.extend({},s,e.partials);var a=t(i,o);return n.partials=s,a}),e.partials[i.args[0]]=i.fn,o}))},t.exports=e.default},function(t,e,n){"use strict";e.__esModule=!0;var r=n(5),i={methodMap:["debug","info","warn","error"],level:"info",lookupLevel:function(t){if("string"==typeof t){var e=r.indexOf(i.methodMap,t.toLowerCase());t=e>=0?e:parseInt(t,10)}return t},log:function(t){if(t=i.lookupLevel(t),"undefined"!=typeof console&&i.lookupLevel(i.level)<=t){var e=i.methodMap[t];console[e]||(e="log");for(var n=arguments.length,r=Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];console[e].apply(console,r)}}};e.default=i,t.exports=e.default},function(t,e,n){"use strict";var r=n(34).default,i=n(13).default,o=n(3).default;e.__esModule=!0,e.createProtoAccessControl=function(t){var e=r(null);e.constructor=!1,e.__defineGetter__=!1,e.__defineSetter__=!1,e.__lookupGetter__=!1;var n=r(null);return n.__proto__=!1,{properties:{whitelist:s.createNewLookupObject(n,t.allowedProtoProperties),defaultValue:t.allowProtoPropertiesByDefault},methods:{whitelist:s.createNewLookupObject(e,t.allowedProtoMethods),defaultValue:t.allowProtoMethodsByDefault}}},e.resultIsAllowed=function(t,e,n){return l("function"==typeof t?e.methods:e.properties,n)},e.resetLoggedProperties=function(){i(u).forEach((function(t){delete u[t]}))};var s=n(36),a=o(n(32)),u=r(null);function l(t,e){return void 0!==t.whitelist[e]?!0===t.whitelist[e]:void 0!==t.defaultValue?t.defaultValue:(function(t){!0!==u[t]&&(u[t]=!0,a.log("error",'Handlebars: Access has been denied to resolve the property "'+t+'" because it is not an "own property" of its parent.\nYou can add a runtime option to disable the check or this warning:\nSee https://handlebarsjs.com/api-reference/runtime-options.html#options-to-control-prototype-access for details'))}(e),!1)}},function(t,e,n){t.exports={default:n(35),__esModule:!0}},function(t,e,n){var r=n(9);t.exports=function(t,e){return r.create(t,e)}},function(t,e,n){"use strict";var r=n(34).default;e.__esModule=!0,e.createNewLookupObject=function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return i.extend.apply(void 0,[r(null)].concat(e))};var i=n(5)},function(t,e){"use strict";function n(t){this.string=t}e.__esModule=!0,n.prototype.toString=n.prototype.toHTML=function(){return""+this.string},e.default=n,t.exports=e.default},function(t,e,n){"use strict";var r=n(39).default,i=n(13).default,o=n(3).default,s=n(1).default;e.__esModule=!0,e.checkRevision=function(t){var e=t&&t[0]||1,n=l.COMPILER_REVISION;if(!(e>=l.LAST_COMPATIBLE_COMPILER_REVISION&&e<=l.COMPILER_REVISION)){if(e<l.LAST_COMPATIBLE_COMPILER_REVISION){var r=l.REVISION_CHANGES[n],i=l.REVISION_CHANGES[e];throw new u.default("Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+r+") or downgrade your runtime to an older version ("+i+").")}throw new u.default("Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+t[1]+").")}},e.template=function(t,e){if(!e)throw new u.default("No environment passed to template");if(!t||!t.main)throw new u.default("Unknown template object: "+typeof t);t.main.decorator=t.main_d,e.VM.checkRevision(t.compiler);var n=t.compiler&&7===t.compiler[0],o={strict:function(t,e,n){if(!t||!(e in t))throw new u.default('"'+e+'" not defined in '+t,{loc:n});return t[e]},lookupProperty:function(t,e){var n=t[e];return null==n||Object.prototype.hasOwnProperty.call(t,e)||f.resultIsAllowed(n,o.protoAccessControl,e)?n:void 0},lookup:function(t,e){for(var n=t.length,r=0;r<n;r++)if(null!=(t[r]&&o.lookupProperty(t[r],e)))return t[r][e]},lambda:function(t,e){return"function"==typeof t?t.call(e):t},escapeExpression:a.escapeExpression,invokePartial:function(n,r,i){i.hash&&(r=a.extend({},r,i.hash),i.ids&&(i.ids[0]=!0)),n=e.VM.resolvePartial.call(this,n,r,i);var o=a.extend({},i,{hooks:this.hooks,protoAccessControl:this.protoAccessControl}),s=e.VM.invokePartial.call(this,n,r,o);if(null==s&&e.compile&&(i.partials[i.name]=e.compile(n,t.compilerOptions,e),s=i.partials[i.name](r,o)),null!=s){if(i.indent){for(var l=s.split("\n"),c=0,h=l.length;c<h&&(l[c]||c+1!==h);c++)l[c]=i.indent+l[c];s=l.join("\n")}return s}throw new u.default("The partial "+i.name+" could not be compiled when running in runtime-only mode")},fn:function(e){var n=t[e];return n.decorator=t[e+"_d"],n},programs:[],program:function(t,e,n,r,i){var o=this.programs[t],s=this.fn(t);return e||i||r||n?o=p(this,t,s,e,n,r,i):o||(o=this.programs[t]=p(this,t,s)),o},data:function(t,e){for(;t&&e--;)t=t._parent;return t},mergeIfNeeded:function(t,e){var n=t||e;return t&&e&&t!==e&&(n=a.extend({},e,t)),n},nullContext:r({}),noop:e.VM.noop,compilerInfo:t.compiler};function s(e){var n=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],r=n.data;s._setup(n),!n.partial&&t.useData&&(r=g(e,r));var i=void 0,a=t.useBlockParams?[]:void 0;function u(e){return""+t.main(o,e,o.helpers,o.partials,r,a,i)}return t.useDepths&&(i=n.depths?e!=n.depths[0]?[e].concat(n.depths):n.depths:[e]),(u=v(t.main,u,o,n.depths||[],r,a))(e,n)}return s.isTop=!0,s._setup=function(r){if(r.partial)o.protoAccessControl=r.protoAccessControl,o.helpers=r.helpers,o.partials=r.partials,o.decorators=r.decorators,o.hooks=r.hooks;else{var s=a.extend({},e.helpers,r.helpers);!function(t,e){i(t).forEach((function(n){var r=t[n];t[n]=function(t,e){var n=e.lookupProperty;return h.wrapHelper(t,(function(t){return a.extend({lookupProperty:n},t)}))}(r,e)}))}(s,o),o.helpers=s,t.usePartial&&(o.partials=o.mergeIfNeeded(r.partials,e.partials)),(t.usePartial||t.useDecorators)&&(o.decorators=a.extend({},e.decorators,r.decorators)),o.hooks={},o.protoAccessControl=f.createProtoAccessControl(r);var u=r.allowCallsToHelperMissing||n;c.moveHelperToHooks(o,"helperMissing",u),c.moveHelperToHooks(o,"blockHelperMissing",u)}},s._child=function(e,n,r,i){if(t.useBlockParams&&!r)throw new u.default("must pass block params");if(t.useDepths&&!i)throw new u.default("must pass parent depths");return p(o,e,t[e],n,0,r,i)},s},e.wrapProgram=p,e.resolvePartial=function(t,e,n){return t?t.call||n.name||(n.name=t,t=n.partials[t]):t="@partial-block"===n.name?n.data["partial-block"]:n.partials[n.name],t},e.invokePartial=function(t,e,n){var r=n.data&&n.data["partial-block"];n.partial=!0,n.ids&&(n.data.contextPath=n.ids[0]||n.data.contextPath);var i=void 0;if(n.fn&&n.fn!==d&&function(){n.data=l.createFrame(n.data);var t=n.fn;i=n.data["partial-block"]=function(e){var n=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];return n.data=l.createFrame(n.data),n.data["partial-block"]=r,t(e,n)},t.partials&&(n.partials=a.extend({},n.partials,t.partials))}(),void 0===t&&i&&(t=i),void 0===t)throw new u.default("The partial "+n.name+" could not be found");if(t instanceof Function)return t(e,n)},e.noop=d;var a=o(n(5)),u=s(n(6)),l=n(4),c=n(10),h=n(43),f=n(33);function p(t,e,n,r,i,o,s){function a(e){var i=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],a=s;return!s||e==s[0]||e===t.nullContext&&null===s[0]||(a=[e].concat(s)),n(t,e,t.helpers,t.partials,i.data||r,o&&[i.blockParams].concat(o),a)}return(a=v(n,a,t,s,r,o)).program=e,a.depth=s?s.length:0,a.blockParams=i||0,a}function d(){return""}function g(t,e){return e&&"root"in e||((e=e?l.createFrame(e):{}).root=t),e}function v(t,e,n,r,i,o){if(t.decorator){var s={};e=t.decorator(e,s,n,r&&r[0],i,o,r),a.extend(e,s)}return e}},function(t,e,n){t.exports={default:n(40),__esModule:!0}},function(t,e,n){n(41),t.exports=n(21).Object.seal},function(t,e,n){var r=n(42);n(18)("seal",(function(t){return function(e){return t&&r(e)?t(e):e}}))},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e){"use strict";e.__esModule=!0,e.wrapHelper=function(t,e){return"function"!=typeof t?t:function(){var n=arguments[arguments.length-1];return arguments[arguments.length-1]=e(n),t.apply(this,arguments)}}},function(t,e){(function(n){"use strict";e.__esModule=!0,e.default=function(t){var e=void 0!==n?n:window,r=e.Handlebars;t.noConflict=function(){return e.Handlebars===t&&(e.Handlebars=r),t}},t.exports=e.default}).call(e,function(){return this}())},function(t,e){"use strict";e.__esModule=!0;var n={helpers:{helperExpression:function(t){return"SubExpression"===t.type||("MustacheStatement"===t.type||"BlockStatement"===t.type)&&!!(t.params&&t.params.length||t.hash)},scopedId:function(t){return/^\.|this\b/.test(t.original)},simpleId:function(t){return 1===t.parts.length&&!n.helpers.scopedId(t)&&!t.depth}}};e.default=n,t.exports=e.default},function(t,e,n){"use strict";var r=n(1).default,i=n(3).default;e.__esModule=!0,e.parseWithoutProcessing=c,e.parse=function(t,e){var n=c(t,e);return new s.default(e).accept(n)};var o=r(n(47)),s=r(n(48)),a=i(n(50)),u=n(5);e.parser=o.default;var l={};function c(t,e){return"Program"===t.type?t:(o.default.yy=l,l.locInfo=function(t){return new l.SourceLocation(e&&e.srcName,t)},o.default.parse(t))}u.extend(l,a)},function(t,e){"use strict";e.__esModule=!0;var n=function(){var t={trace:function(){},yy:{},symbols_:{error:2,root:3,program:4,EOF:5,program_repetition0:6,statement:7,mustache:8,block:9,rawBlock:10,partial:11,partialBlock:12,content:13,COMMENT:14,CONTENT:15,openRawBlock:16,rawBlock_repetition0:17,END_RAW_BLOCK:18,OPEN_RAW_BLOCK:19,helperName:20,openRawBlock_repetition0:21,openRawBlock_option0:22,CLOSE_RAW_BLOCK:23,openBlock:24,block_option0:25,closeBlock:26,openInverse:27,block_option1:28,OPEN_BLOCK:29,openBlock_repetition0:30,openBlock_option0:31,openBlock_option1:32,CLOSE:33,OPEN_INVERSE:34,openInverse_repetition0:35,openInverse_option0:36,openInverse_option1:37,openInverseChain:38,OPEN_INVERSE_CHAIN:39,openInverseChain_repetition0:40,openInverseChain_option0:41,openInverseChain_option1:42,inverseAndProgram:43,INVERSE:44,inverseChain:45,inverseChain_option0:46,OPEN_ENDBLOCK:47,OPEN:48,mustache_repetition0:49,mustache_option0:50,OPEN_UNESCAPED:51,mustache_repetition1:52,mustache_option1:53,CLOSE_UNESCAPED:54,OPEN_PARTIAL:55,partialName:56,partial_repetition0:57,partial_option0:58,openPartialBlock:59,OPEN_PARTIAL_BLOCK:60,openPartialBlock_repetition0:61,openPartialBlock_option0:62,param:63,sexpr:64,OPEN_SEXPR:65,sexpr_repetition0:66,sexpr_option0:67,CLOSE_SEXPR:68,hash:69,hash_repetition_plus0:70,hashSegment:71,ID:72,EQUALS:73,blockParams:74,OPEN_BLOCK_PARAMS:75,blockParams_repetition_plus0:76,CLOSE_BLOCK_PARAMS:77,path:78,dataName:79,STRING:80,NUMBER:81,BOOLEAN:82,UNDEFINED:83,NULL:84,DATA:85,pathSegments:86,SEP:87,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",14:"COMMENT",15:"CONTENT",18:"END_RAW_BLOCK",19:"OPEN_RAW_BLOCK",23:"CLOSE_RAW_BLOCK",29:"OPEN_BLOCK",33:"CLOSE",34:"OPEN_INVERSE",39:"OPEN_INVERSE_CHAIN",44:"INVERSE",47:"OPEN_ENDBLOCK",48:"OPEN",51:"OPEN_UNESCAPED",54:"CLOSE_UNESCAPED",55:"OPEN_PARTIAL",60:"OPEN_PARTIAL_BLOCK",65:"OPEN_SEXPR",68:"CLOSE_SEXPR",72:"ID",73:"EQUALS",75:"OPEN_BLOCK_PARAMS",77:"CLOSE_BLOCK_PARAMS",80:"STRING",81:"NUMBER",82:"BOOLEAN",83:"UNDEFINED",84:"NULL",85:"DATA",87:"SEP"},productions_:[0,[3,2],[4,1],[7,1],[7,1],[7,1],[7,1],[7,1],[7,1],[7,1],[13,1],[10,3],[16,5],[9,4],[9,4],[24,6],[27,6],[38,6],[43,2],[45,3],[45,1],[26,3],[8,5],[8,5],[11,5],[12,3],[59,5],[63,1],[63,1],[64,5],[69,1],[71,3],[74,3],[20,1],[20,1],[20,1],[20,1],[20,1],[20,1],[20,1],[56,1],[56,1],[79,2],[78,1],[86,3],[86,1],[6,0],[6,2],[17,0],[17,2],[21,0],[21,2],[22,0],[22,1],[25,0],[25,1],[28,0],[28,1],[30,0],[30,2],[31,0],[31,1],[32,0],[32,1],[35,0],[35,2],[36,0],[36,1],[37,0],[37,1],[40,0],[40,2],[41,0],[41,1],[42,0],[42,1],[46,0],[46,1],[49,0],[49,2],[50,0],[50,1],[52,0],[52,2],[53,0],[53,1],[57,0],[57,2],[58,0],[58,1],[61,0],[61,2],[62,0],[62,1],[66,0],[66,2],[67,0],[67,1],[70,1],[70,2],[76,1],[76,2]],performAction:function(t,e,n,r,i,o,s){var a=o.length-1;switch(i){case 1:return o[a-1];case 2:this.$=r.prepareProgram(o[a]);break;case 3:case 4:case 5:case 6:case 7:case 8:this.$=o[a];break;case 9:this.$={type:"CommentStatement",value:r.stripComment(o[a]),strip:r.stripFlags(o[a],o[a]),loc:r.locInfo(this._$)};break;case 10:this.$={type:"ContentStatement",original:o[a],value:o[a],loc:r.locInfo(this._$)};break;case 11:this.$=r.prepareRawBlock(o[a-2],o[a-1],o[a],this._$);break;case 12:this.$={path:o[a-3],params:o[a-2],hash:o[a-1]};break;case 13:this.$=r.prepareBlock(o[a-3],o[a-2],o[a-1],o[a],!1,this._$);break;case 14:this.$=r.prepareBlock(o[a-3],o[a-2],o[a-1],o[a],!0,this._$);break;case 15:this.$={open:o[a-5],path:o[a-4],params:o[a-3],hash:o[a-2],blockParams:o[a-1],strip:r.stripFlags(o[a-5],o[a])};break;case 16:case 17:this.$={path:o[a-4],params:o[a-3],hash:o[a-2],blockParams:o[a-1],strip:r.stripFlags(o[a-5],o[a])};break;case 18:this.$={strip:r.stripFlags(o[a-1],o[a-1]),program:o[a]};break;case 19:var u=r.prepareBlock(o[a-2],o[a-1],o[a],o[a],!1,this._$),l=r.prepareProgram([u],o[a-1].loc);l.chained=!0,this.$={strip:o[a-2].strip,program:l,chain:!0};break;case 20:this.$=o[a];break;case 21:this.$={path:o[a-1],strip:r.stripFlags(o[a-2],o[a])};break;case 22:case 23:this.$=r.prepareMustache(o[a-3],o[a-2],o[a-1],o[a-4],r.stripFlags(o[a-4],o[a]),this._$);break;case 24:this.$={type:"PartialStatement",name:o[a-3],params:o[a-2],hash:o[a-1],indent:"",strip:r.stripFlags(o[a-4],o[a]),loc:r.locInfo(this._$)};break;case 25:this.$=r.preparePartialBlock(o[a-2],o[a-1],o[a],this._$);break;case 26:this.$={path:o[a-3],params:o[a-2],hash:o[a-1],strip:r.stripFlags(o[a-4],o[a])};break;case 27:case 28:this.$=o[a];break;case 29:this.$={type:"SubExpression",path:o[a-3],params:o[a-2],hash:o[a-1],loc:r.locInfo(this._$)};break;case 30:this.$={type:"Hash",pairs:o[a],loc:r.locInfo(this._$)};break;case 31:this.$={type:"HashPair",key:r.id(o[a-2]),value:o[a],loc:r.locInfo(this._$)};break;case 32:this.$=r.id(o[a-1]);break;case 33:case 34:this.$=o[a];break;case 35:this.$={type:"StringLiteral",value:o[a],original:o[a],loc:r.locInfo(this._$)};break;case 36:this.$={type:"NumberLiteral",value:Number(o[a]),original:Number(o[a]),loc:r.locInfo(this._$)};break;case 37:this.$={type:"BooleanLiteral",value:"true"===o[a],original:"true"===o[a],loc:r.locInfo(this._$)};break;case 38:this.$={type:"UndefinedLiteral",original:void 0,value:void 0,loc:r.locInfo(this._$)};break;case 39:this.$={type:"NullLiteral",original:null,value:null,loc:r.locInfo(this._$)};break;case 40:case 41:this.$=o[a];break;case 42:this.$=r.preparePath(!0,o[a],this._$);break;case 43:this.$=r.preparePath(!1,o[a],this._$);break;case 44:o[a-2].push({part:r.id(o[a]),original:o[a],separator:o[a-1]}),this.$=o[a-2];break;case 45:this.$=[{part:r.id(o[a]),original:o[a]}];break;case 46:this.$=[];break;case 47:o[a-1].push(o[a]);break;case 48:this.$=[];break;case 49:o[a-1].push(o[a]);break;case 50:this.$=[];break;case 51:o[a-1].push(o[a]);break;case 58:this.$=[];break;case 59:o[a-1].push(o[a]);break;case 64:this.$=[];break;case 65:o[a-1].push(o[a]);break;case 70:this.$=[];break;case 71:o[a-1].push(o[a]);break;case 78:this.$=[];break;case 79:o[a-1].push(o[a]);break;case 82:this.$=[];break;case 83:o[a-1].push(o[a]);break;case 86:this.$=[];break;case 87:o[a-1].push(o[a]);break;case 90:this.$=[];break;case 91:o[a-1].push(o[a]);break;case 94:this.$=[];break;case 95:o[a-1].push(o[a]);break;case 98:this.$=[o[a]];break;case 99:o[a-1].push(o[a]);break;case 100:this.$=[o[a]];break;case 101:o[a-1].push(o[a])}},table:[{3:1,4:2,5:[2,46],6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{1:[3]},{5:[1,4]},{5:[2,2],7:5,8:6,9:7,10:8,11:9,12:10,13:11,14:[1,12],15:[1,20],16:17,19:[1,23],24:15,27:16,29:[1,21],34:[1,22],39:[2,2],44:[2,2],47:[2,2],48:[1,13],51:[1,14],55:[1,18],59:19,60:[1,24]},{1:[2,1]},{5:[2,47],14:[2,47],15:[2,47],19:[2,47],29:[2,47],34:[2,47],39:[2,47],44:[2,47],47:[2,47],48:[2,47],51:[2,47],55:[2,47],60:[2,47]},{5:[2,3],14:[2,3],15:[2,3],19:[2,3],29:[2,3],34:[2,3],39:[2,3],44:[2,3],47:[2,3],48:[2,3],51:[2,3],55:[2,3],60:[2,3]},{5:[2,4],14:[2,4],15:[2,4],19:[2,4],29:[2,4],34:[2,4],39:[2,4],44:[2,4],47:[2,4],48:[2,4],51:[2,4],55:[2,4],60:[2,4]},{5:[2,5],14:[2,5],15:[2,5],19:[2,5],29:[2,5],34:[2,5],39:[2,5],44:[2,5],47:[2,5],48:[2,5],51:[2,5],55:[2,5],60:[2,5]},{5:[2,6],14:[2,6],15:[2,6],19:[2,6],29:[2,6],34:[2,6],39:[2,6],44:[2,6],47:[2,6],48:[2,6],51:[2,6],55:[2,6],60:[2,6]},{5:[2,7],14:[2,7],15:[2,7],19:[2,7],29:[2,7],34:[2,7],39:[2,7],44:[2,7],47:[2,7],48:[2,7],51:[2,7],55:[2,7],60:[2,7]},{5:[2,8],14:[2,8],15:[2,8],19:[2,8],29:[2,8],34:[2,8],39:[2,8],44:[2,8],47:[2,8],48:[2,8],51:[2,8],55:[2,8],60:[2,8]},{5:[2,9],14:[2,9],15:[2,9],19:[2,9],29:[2,9],34:[2,9],39:[2,9],44:[2,9],47:[2,9],48:[2,9],51:[2,9],55:[2,9],60:[2,9]},{20:25,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:36,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{4:37,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],39:[2,46],44:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{4:38,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],44:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{15:[2,48],17:39,18:[2,48]},{20:41,56:40,64:42,65:[1,43],72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{4:44,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{5:[2,10],14:[2,10],15:[2,10],18:[2,10],19:[2,10],29:[2,10],34:[2,10],39:[2,10],44:[2,10],47:[2,10],48:[2,10],51:[2,10],55:[2,10],60:[2,10]},{20:45,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:46,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:47,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:41,56:48,64:42,65:[1,43],72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{33:[2,78],49:49,65:[2,78],72:[2,78],80:[2,78],81:[2,78],82:[2,78],83:[2,78],84:[2,78],85:[2,78]},{23:[2,33],33:[2,33],54:[2,33],65:[2,33],68:[2,33],72:[2,33],75:[2,33],80:[2,33],81:[2,33],82:[2,33],83:[2,33],84:[2,33],85:[2,33]},{23:[2,34],33:[2,34],54:[2,34],65:[2,34],68:[2,34],72:[2,34],75:[2,34],80:[2,34],81:[2,34],82:[2,34],83:[2,34],84:[2,34],85:[2,34]},{23:[2,35],33:[2,35],54:[2,35],65:[2,35],68:[2,35],72:[2,35],75:[2,35],80:[2,35],81:[2,35],82:[2,35],83:[2,35],84:[2,35],85:[2,35]},{23:[2,36],33:[2,36],54:[2,36],65:[2,36],68:[2,36],72:[2,36],75:[2,36],80:[2,36],81:[2,36],82:[2,36],83:[2,36],84:[2,36],85:[2,36]},{23:[2,37],33:[2,37],54:[2,37],65:[2,37],68:[2,37],72:[2,37],75:[2,37],80:[2,37],81:[2,37],82:[2,37],83:[2,37],84:[2,37],85:[2,37]},{23:[2,38],33:[2,38],54:[2,38],65:[2,38],68:[2,38],72:[2,38],75:[2,38],80:[2,38],81:[2,38],82:[2,38],83:[2,38],84:[2,38],85:[2,38]},{23:[2,39],33:[2,39],54:[2,39],65:[2,39],68:[2,39],72:[2,39],75:[2,39],80:[2,39],81:[2,39],82:[2,39],83:[2,39],84:[2,39],85:[2,39]},{23:[2,43],33:[2,43],54:[2,43],65:[2,43],68:[2,43],72:[2,43],75:[2,43],80:[2,43],81:[2,43],82:[2,43],83:[2,43],84:[2,43],85:[2,43],87:[1,50]},{72:[1,35],86:51},{23:[2,45],33:[2,45],54:[2,45],65:[2,45],68:[2,45],72:[2,45],75:[2,45],80:[2,45],81:[2,45],82:[2,45],83:[2,45],84:[2,45],85:[2,45],87:[2,45]},{52:52,54:[2,82],65:[2,82],72:[2,82],80:[2,82],81:[2,82],82:[2,82],83:[2,82],84:[2,82],85:[2,82]},{25:53,38:55,39:[1,57],43:56,44:[1,58],45:54,47:[2,54]},{28:59,43:60,44:[1,58],47:[2,56]},{13:62,15:[1,20],18:[1,61]},{33:[2,86],57:63,65:[2,86],72:[2,86],80:[2,86],81:[2,86],82:[2,86],83:[2,86],84:[2,86],85:[2,86]},{33:[2,40],65:[2,40],72:[2,40],80:[2,40],81:[2,40],82:[2,40],83:[2,40],84:[2,40],85:[2,40]},{33:[2,41],65:[2,41],72:[2,41],80:[2,41],81:[2,41],82:[2,41],83:[2,41],84:[2,41],85:[2,41]},{20:64,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{26:65,47:[1,66]},{30:67,33:[2,58],65:[2,58],72:[2,58],75:[2,58],80:[2,58],81:[2,58],82:[2,58],83:[2,58],84:[2,58],85:[2,58]},{33:[2,64],35:68,65:[2,64],72:[2,64],75:[2,64],80:[2,64],81:[2,64],82:[2,64],83:[2,64],84:[2,64],85:[2,64]},{21:69,23:[2,50],65:[2,50],72:[2,50],80:[2,50],81:[2,50],82:[2,50],83:[2,50],84:[2,50],85:[2,50]},{33:[2,90],61:70,65:[2,90],72:[2,90],80:[2,90],81:[2,90],82:[2,90],83:[2,90],84:[2,90],85:[2,90]},{20:74,33:[2,80],50:71,63:72,64:75,65:[1,43],69:73,70:76,71:77,72:[1,78],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{72:[1,79]},{23:[2,42],33:[2,42],54:[2,42],65:[2,42],68:[2,42],72:[2,42],75:[2,42],80:[2,42],81:[2,42],82:[2,42],83:[2,42],84:[2,42],85:[2,42],87:[1,50]},{20:74,53:80,54:[2,84],63:81,64:75,65:[1,43],69:82,70:76,71:77,72:[1,78],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{26:83,47:[1,66]},{47:[2,55]},{4:84,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],39:[2,46],44:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{47:[2,20]},{20:85,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{4:86,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{26:87,47:[1,66]},{47:[2,57]},{5:[2,11],14:[2,11],15:[2,11],19:[2,11],29:[2,11],34:[2,11],39:[2,11],44:[2,11],47:[2,11],48:[2,11],51:[2,11],55:[2,11],60:[2,11]},{15:[2,49],18:[2,49]},{20:74,33:[2,88],58:88,63:89,64:75,65:[1,43],69:90,70:76,71:77,72:[1,78],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{65:[2,94],66:91,68:[2,94],72:[2,94],80:[2,94],81:[2,94],82:[2,94],83:[2,94],84:[2,94],85:[2,94]},{5:[2,25],14:[2,25],15:[2,25],19:[2,25],29:[2,25],34:[2,25],39:[2,25],44:[2,25],47:[2,25],48:[2,25],51:[2,25],55:[2,25],60:[2,25]},{20:92,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:74,31:93,33:[2,60],63:94,64:75,65:[1,43],69:95,70:76,71:77,72:[1,78],75:[2,60],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:74,33:[2,66],36:96,63:97,64:75,65:[1,43],69:98,70:76,71:77,72:[1,78],75:[2,66],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:74,22:99,23:[2,52],63:100,64:75,65:[1,43],69:101,70:76,71:77,72:[1,78],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:74,33:[2,92],62:102,63:103,64:75,65:[1,43],69:104,70:76,71:77,72:[1,78],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{33:[1,105]},{33:[2,79],65:[2,79],72:[2,79],80:[2,79],81:[2,79],82:[2,79],83:[2,79],84:[2,79],85:[2,79]},{33:[2,81]},{23:[2,27],33:[2,27],54:[2,27],65:[2,27],68:[2,27],72:[2,27],75:[2,27],80:[2,27],81:[2,27],82:[2,27],83:[2,27],84:[2,27],85:[2,27]},{23:[2,28],33:[2,28],54:[2,28],65:[2,28],68:[2,28],72:[2,28],75:[2,28],80:[2,28],81:[2,28],82:[2,28],83:[2,28],84:[2,28],85:[2,28]},{23:[2,30],33:[2,30],54:[2,30],68:[2,30],71:106,72:[1,107],75:[2,30]},{23:[2,98],33:[2,98],54:[2,98],68:[2,98],72:[2,98],75:[2,98]},{23:[2,45],33:[2,45],54:[2,45],65:[2,45],68:[2,45],72:[2,45],73:[1,108],75:[2,45],80:[2,45],81:[2,45],82:[2,45],83:[2,45],84:[2,45],85:[2,45],87:[2,45]},{23:[2,44],33:[2,44],54:[2,44],65:[2,44],68:[2,44],72:[2,44],75:[2,44],80:[2,44],81:[2,44],82:[2,44],83:[2,44],84:[2,44],85:[2,44],87:[2,44]},{54:[1,109]},{54:[2,83],65:[2,83],72:[2,83],80:[2,83],81:[2,83],82:[2,83],83:[2,83],84:[2,83],85:[2,83]},{54:[2,85]},{5:[2,13],14:[2,13],15:[2,13],19:[2,13],29:[2,13],34:[2,13],39:[2,13],44:[2,13],47:[2,13],48:[2,13],51:[2,13],55:[2,13],60:[2,13]},{38:55,39:[1,57],43:56,44:[1,58],45:111,46:110,47:[2,76]},{33:[2,70],40:112,65:[2,70],72:[2,70],75:[2,70],80:[2,70],81:[2,70],82:[2,70],83:[2,70],84:[2,70],85:[2,70]},{47:[2,18]},{5:[2,14],14:[2,14],15:[2,14],19:[2,14],29:[2,14],34:[2,14],39:[2,14],44:[2,14],47:[2,14],48:[2,14],51:[2,14],55:[2,14],60:[2,14]},{33:[1,113]},{33:[2,87],65:[2,87],72:[2,87],80:[2,87],81:[2,87],82:[2,87],83:[2,87],84:[2,87],85:[2,87]},{33:[2,89]},{20:74,63:115,64:75,65:[1,43],67:114,68:[2,96],69:116,70:76,71:77,72:[1,78],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{33:[1,117]},{32:118,33:[2,62],74:119,75:[1,120]},{33:[2,59],65:[2,59],72:[2,59],75:[2,59],80:[2,59],81:[2,59],82:[2,59],83:[2,59],84:[2,59],85:[2,59]},{33:[2,61],75:[2,61]},{33:[2,68],37:121,74:122,75:[1,120]},{33:[2,65],65:[2,65],72:[2,65],75:[2,65],80:[2,65],81:[2,65],82:[2,65],83:[2,65],84:[2,65],85:[2,65]},{33:[2,67],75:[2,67]},{23:[1,123]},{23:[2,51],65:[2,51],72:[2,51],80:[2,51],81:[2,51],82:[2,51],83:[2,51],84:[2,51],85:[2,51]},{23:[2,53]},{33:[1,124]},{33:[2,91],65:[2,91],72:[2,91],80:[2,91],81:[2,91],82:[2,91],83:[2,91],84:[2,91],85:[2,91]},{33:[2,93]},{5:[2,22],14:[2,22],15:[2,22],19:[2,22],29:[2,22],34:[2,22],39:[2,22],44:[2,22],47:[2,22],48:[2,22],51:[2,22],55:[2,22],60:[2,22]},{23:[2,99],33:[2,99],54:[2,99],68:[2,99],72:[2,99],75:[2,99]},{73:[1,108]},{20:74,63:125,64:75,65:[1,43],72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{5:[2,23],14:[2,23],15:[2,23],19:[2,23],29:[2,23],34:[2,23],39:[2,23],44:[2,23],47:[2,23],48:[2,23],51:[2,23],55:[2,23],60:[2,23]},{47:[2,19]},{47:[2,77]},{20:74,33:[2,72],41:126,63:127,64:75,65:[1,43],69:128,70:76,71:77,72:[1,78],75:[2,72],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{5:[2,24],14:[2,24],15:[2,24],19:[2,24],29:[2,24],34:[2,24],39:[2,24],44:[2,24],47:[2,24],48:[2,24],51:[2,24],55:[2,24],60:[2,24]},{68:[1,129]},{65:[2,95],68:[2,95],72:[2,95],80:[2,95],81:[2,95],82:[2,95],83:[2,95],84:[2,95],85:[2,95]},{68:[2,97]},{5:[2,21],14:[2,21],15:[2,21],19:[2,21],29:[2,21],34:[2,21],39:[2,21],44:[2,21],47:[2,21],48:[2,21],51:[2,21],55:[2,21],60:[2,21]},{33:[1,130]},{33:[2,63]},{72:[1,132],76:131},{33:[1,133]},{33:[2,69]},{15:[2,12],18:[2,12]},{14:[2,26],15:[2,26],19:[2,26],29:[2,26],34:[2,26],47:[2,26],48:[2,26],51:[2,26],55:[2,26],60:[2,26]},{23:[2,31],33:[2,31],54:[2,31],68:[2,31],72:[2,31],75:[2,31]},{33:[2,74],42:134,74:135,75:[1,120]},{33:[2,71],65:[2,71],72:[2,71],75:[2,71],80:[2,71],81:[2,71],82:[2,71],83:[2,71],84:[2,71],85:[2,71]},{33:[2,73],75:[2,73]},{23:[2,29],33:[2,29],54:[2,29],65:[2,29],68:[2,29],72:[2,29],75:[2,29],80:[2,29],81:[2,29],82:[2,29],83:[2,29],84:[2,29],85:[2,29]},{14:[2,15],15:[2,15],19:[2,15],29:[2,15],34:[2,15],39:[2,15],44:[2,15],47:[2,15],48:[2,15],51:[2,15],55:[2,15],60:[2,15]},{72:[1,137],77:[1,136]},{72:[2,100],77:[2,100]},{14:[2,16],15:[2,16],19:[2,16],29:[2,16],34:[2,16],44:[2,16],47:[2,16],48:[2,16],51:[2,16],55:[2,16],60:[2,16]},{33:[1,138]},{33:[2,75]},{33:[2,32]},{72:[2,101],77:[2,101]},{14:[2,17],15:[2,17],19:[2,17],29:[2,17],34:[2,17],39:[2,17],44:[2,17],47:[2,17],48:[2,17],51:[2,17],55:[2,17],60:[2,17]}],defaultActions:{4:[2,1],54:[2,55],56:[2,20],60:[2,57],73:[2,81],82:[2,85],86:[2,18],90:[2,89],101:[2,53],104:[2,93],110:[2,19],111:[2,77],116:[2,97],119:[2,63],122:[2,69],135:[2,75],136:[2,32]},parseError:function(t,e){throw new Error(t)},parse:function(t){var e=this,n=[0],r=[null],i=[],o=this.table,s="",a=0,u=0,l=0;this.lexer.setInput(t),this.lexer.yy=this.yy,this.yy.lexer=this.lexer,this.yy.parser=this,void 0===this.lexer.yylloc&&(this.lexer.yylloc={});var c=this.lexer.yylloc;i.push(c);var h=this.lexer.options&&this.lexer.options.ranges;"function"==typeof this.yy.parseError&&(this.parseError=this.yy.parseError);for(var f,p,d,g,v,m,y,b,w,x,S={};;){if(d=n[n.length-1],this.defaultActions[d]?g=this.defaultActions[d]:(null==f&&(x=void 0,"number"!=typeof(x=e.lexer.lex()||1)&&(x=e.symbols_[x]||x),f=x),g=o[d]&&o[d][f]),void 0===g||!g.length||!g[0]){var E="";if(!l){for(m in w=[],o[d])this.terminals_[m]&&m>2&&w.push("'"+this.terminals_[m]+"'");E=this.lexer.showPosition?"Parse error on line "+(a+1)+":\n"+this.lexer.showPosition()+"\nExpecting "+w.join(", ")+", got '"+(this.terminals_[f]||f)+"'":"Parse error on line "+(a+1)+": Unexpected "+(1==f?"end of input":"'"+(this.terminals_[f]||f)+"'"),this.parseError(E,{text:this.lexer.match,token:this.terminals_[f]||f,line:this.lexer.yylineno,loc:c,expected:w})}}if(g[0]instanceof Array&&g.length>1)throw new Error("Parse Error: multiple actions possible at state: "+d+", token: "+f);switch(g[0]){case 1:n.push(f),r.push(this.lexer.yytext),i.push(this.lexer.yylloc),n.push(g[1]),f=null,p?(f=p,p=null):(u=this.lexer.yyleng,s=this.lexer.yytext,a=this.lexer.yylineno,c=this.lexer.yylloc,l>0&&l--);break;case 2:if(y=this.productions_[g[1]][1],S.$=r[r.length-y],S._$={first_line:i[i.length-(y||1)].first_line,last_line:i[i.length-1].last_line,first_column:i[i.length-(y||1)].first_column,last_column:i[i.length-1].last_column},h&&(S._$.range=[i[i.length-(y||1)].range[0],i[i.length-1].range[1]]),void 0!==(v=this.performAction.call(S,s,u,a,this.yy,g[1],r,i)))return v;y&&(n=n.slice(0,-1*y*2),r=r.slice(0,-1*y),i=i.slice(0,-1*y)),n.push(this.productions_[g[1]][0]),r.push(S.$),i.push(S._$),b=o[n[n.length-2]][n[n.length-1]],n.push(b);break;case 3:return!0}}return!0}},e=function(){var t={EOF:1,parseError:function(t,e){if(!this.yy.parser)throw new Error(t);this.yy.parser.parseError(t,e)},setInput:function(t){return this._input=t,this._more=this._less=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var t=this._input[0];return this.yytext+=t,this.yyleng++,this.offset++,this.match+=t,this.matched+=t,t.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),t},unput:function(t){var e=t.length,n=t.split(/(?:\r\n?|\n)/g);this._input=t+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-e-1),this.offset-=e;var r=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),n.length-1&&(this.yylineno-=n.length-1);var i=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:n?(n.length===r.length?this.yylloc.first_column:0)+r[r.length-n.length].length-n[0].length:this.yylloc.first_column-e},this.options.ranges&&(this.yylloc.range=[i[0],i[0]+this.yyleng-e]),this},more:function(){return this._more=!0,this},less:function(t){this.unput(this.match.slice(t))},pastInput:function(){var t=this.matched.substr(0,this.matched.length-this.match.length);return(t.length>20?"...":"")+t.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var t=this.match;return t.length<20&&(t+=this._input.substr(0,20-t.length)),(t.substr(0,20)+(t.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var t=this.pastInput(),e=new Array(t.length+1).join("-");return t+this.upcomingInput()+"\n"+e+"^"},next:function(){if(this.done)return this.EOF;var t,e,n,r,i;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var o=this._currentRules(),s=0;s<o.length&&(!(n=this._input.match(this.rules[o[s]]))||e&&!(n[0].length>e[0].length)||(e=n,r=s,this.options.flex));s++);return e?((i=e[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=i.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:i?i[i.length-1].length-i[i.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+e[0].length},this.yytext+=e[0],this.match+=e[0],this.matches=e,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._input=this._input.slice(e[0].length),this.matched+=e[0],t=this.performAction.call(this,this.yy,this,o[r],this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),t||void 0):""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var t=this.next();return void 0!==t?t:this.lex()},begin:function(t){this.conditionStack.push(t)},popState:function(){return this.conditionStack.pop()},_currentRules:function(){return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules},topState:function(){return this.conditionStack[this.conditionStack.length-2]},pushState:function(t){this.begin(t)},options:{},performAction:function(t,e,n,r){function i(t,n){return e.yytext=e.yytext.substring(t,e.yyleng-n+t)}switch(n){case 0:if("\\\\"===e.yytext.slice(-2)?(i(0,1),this.begin("mu")):"\\"===e.yytext.slice(-1)?(i(0,1),this.begin("emu")):this.begin("mu"),e.yytext)return 15;break;case 1:return 15;case 2:return this.popState(),15;case 3:return this.begin("raw"),15;case 4:return this.popState(),"raw"===this.conditionStack[this.conditionStack.length-1]?15:(i(5,9),"END_RAW_BLOCK");case 5:return 15;case 6:return this.popState(),14;case 7:return 65;case 8:return 68;case 9:return 19;case 10:return this.popState(),this.begin("raw"),23;case 11:return 55;case 12:return 60;case 13:return 29;case 14:return 47;case 15:case 16:return this.popState(),44;case 17:return 34;case 18:return 39;case 19:return 51;case 20:return 48;case 21:this.unput(e.yytext),this.popState(),this.begin("com");break;case 22:return this.popState(),14;case 23:return 48;case 24:return 73;case 25:case 26:return 72;case 27:return 87;case 28:break;case 29:return this.popState(),54;case 30:return this.popState(),33;case 31:return e.yytext=i(1,2).replace(/\\"/g,'"'),80;case 32:return e.yytext=i(1,2).replace(/\\'/g,"'"),80;case 33:return 85;case 34:case 35:return 82;case 36:return 83;case 37:return 84;case 38:return 81;case 39:return 75;case 40:return 77;case 41:return 72;case 42:return e.yytext=e.yytext.replace(/\\([\\\]])/g,"$1"),72;case 43:return"INVALID";case 44:return 5}},rules:[/^(?:[^\x00]*?(?=(\{\{)))/,/^(?:[^\x00]+)/,/^(?:[^\x00]{2,}?(?=(\{\{|\\\{\{|\\\\\{\{|$)))/,/^(?:\{\{\{\{(?=[^\/]))/,/^(?:\{\{\{\{\/[^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=[=}\s\/.])\}\}\}\})/,/^(?:[^\x00]+?(?=(\{\{\{\{)))/,/^(?:[\s\S]*?--(~)?\}\})/,/^(?:\()/,/^(?:\))/,/^(?:\{\{\{\{)/,/^(?:\}\}\}\})/,/^(?:\{\{(~)?>)/,/^(?:\{\{(~)?#>)/,/^(?:\{\{(~)?#\*?)/,/^(?:\{\{(~)?\/)/,/^(?:\{\{(~)?\^\s*(~)?\}\})/,/^(?:\{\{(~)?\s*else\s*(~)?\}\})/,/^(?:\{\{(~)?\^)/,/^(?:\{\{(~)?\s*else\b)/,/^(?:\{\{(~)?\{)/,/^(?:\{\{(~)?&)/,/^(?:\{\{(~)?!--)/,/^(?:\{\{(~)?![\s\S]*?\}\})/,/^(?:\{\{(~)?\*?)/,/^(?:=)/,/^(?:\.\.)/,/^(?:\.(?=([=~}\s\/.)|])))/,/^(?:[\/.])/,/^(?:\s+)/,/^(?:\}(~)?\}\})/,/^(?:(~)?\}\})/,/^(?:"(\\["]|[^"])*")/,/^(?:'(\\[']|[^'])*')/,/^(?:@)/,/^(?:true(?=([~}\s)])))/,/^(?:false(?=([~}\s)])))/,/^(?:undefined(?=([~}\s)])))/,/^(?:null(?=([~}\s)])))/,/^(?:-?[0-9]+(?:\.[0-9]+)?(?=([~}\s)])))/,/^(?:as\s+\|)/,/^(?:\|)/,/^(?:([^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=([=~}\s\/.)|]))))/,/^(?:\[(\\\]|[^\]])*\])/,/^(?:.)/,/^(?:$)/],conditions:{mu:{rules:[7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44],inclusive:!1},emu:{rules:[2],inclusive:!1},com:{rules:[6],inclusive:!1},raw:{rules:[3,4,5],inclusive:!1},INITIAL:{rules:[0,1,44],inclusive:!0}}};return t}();function n(){this.yy={}}return t.lexer=e,n.prototype=t,t.Parser=n,new n}();e.default=n,t.exports=e.default},function(t,e,n){"use strict";var r=n(1).default;e.__esModule=!0;var i=r(n(49));function o(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];this.options=t}function s(t,e,n){void 0===e&&(e=t.length);var r=t[e-1],i=t[e-2];return r?"ContentStatement"===r.type?(i||!n?/\r?\n\s*?$/:/(^|\r?\n)\s*?$/).test(r.original):void 0:n}function a(t,e,n){void 0===e&&(e=-1);var r=t[e+1],i=t[e+2];return r?"ContentStatement"===r.type?(i||!n?/^\s*?\r?\n/:/^\s*?(\r?\n|$)/).test(r.original):void 0:n}function u(t,e,n){var r=t[null==e?0:e+1];if(r&&"ContentStatement"===r.type&&(n||!r.rightStripped)){var i=r.value;r.value=r.value.replace(n?/^\s+/:/^[ \t]*\r?\n?/,""),r.rightStripped=r.value!==i}}function l(t,e,n){var r=t[null==e?t.length-1:e-1];if(r&&"ContentStatement"===r.type&&(n||!r.leftStripped)){var i=r.value;return r.value=r.value.replace(n?/\s+$/:/[ \t]+$/,""),r.leftStripped=r.value!==i,r.leftStripped}}o.prototype=new i.default,o.prototype.Program=function(t){var e=!this.options.ignoreStandalone,n=!this.isRootSeen;this.isRootSeen=!0;for(var r=t.body,i=0,o=r.length;i<o;i++){var c=r[i],h=this.accept(c);if(h){var f=s(r,i,n),p=a(r,i,n),d=h.openStandalone&&f,g=h.closeStandalone&&p,v=h.inlineStandalone&&f&&p;h.close&&u(r,i,!0),h.open&&l(r,i,!0),e&&v&&(u(r,i),l(r,i)&&"PartialStatement"===c.type&&(c.indent=/([ \t]+$)/.exec(r[i-1].original)[1])),e&&d&&(u((c.program||c.inverse).body),l(r,i)),e&&g&&(u(r,i),l((c.inverse||c.program).body))}}return t},o.prototype.BlockStatement=o.prototype.DecoratorBlock=o.prototype.PartialBlockStatement=function(t){this.accept(t.program),this.accept(t.inverse);var e=t.program||t.inverse,n=t.program&&t.inverse,r=n,i=n;if(n&&n.chained)for(r=n.body[0].program;i.chained;)i=i.body[i.body.length-1].program;var o={open:t.openStrip.open,close:t.closeStrip.close,openStandalone:a(e.body),closeStandalone:s((r||e).body)};if(t.openStrip.close&&u(e.body,null,!0),n){var c=t.inverseStrip;c.open&&l(e.body,null,!0),c.close&&u(r.body,null,!0),t.closeStrip.open&&l(i.body,null,!0),!this.options.ignoreStandalone&&s(e.body)&&a(r.body)&&(l(e.body),u(r.body))}else t.closeStrip.open&&l(e.body,null,!0);return o},o.prototype.Decorator=o.prototype.MustacheStatement=function(t){return t.strip},o.prototype.PartialStatement=o.prototype.CommentStatement=function(t){var e=t.strip||{};return{inlineStandalone:!0,open:e.open,close:e.close}},e.default=o,t.exports=e.default},function(t,e,n){"use strict";var r=n(1).default;e.__esModule=!0;var i=r(n(6));function o(){this.parents=[]}function s(t){this.acceptRequired(t,"path"),this.acceptArray(t.params),this.acceptKey(t,"hash")}function a(t){s.call(this,t),this.acceptKey(t,"program"),this.acceptKey(t,"inverse")}function u(t){this.acceptRequired(t,"name"),this.acceptArray(t.params),this.acceptKey(t,"hash")}o.prototype={constructor:o,mutating:!1,acceptKey:function(t,e){var n=this.accept(t[e]);if(this.mutating){if(n&&!o.prototype[n.type])throw new i.default('Unexpected node type "'+n.type+'" found when accepting '+e+" on "+t.type);t[e]=n}},acceptRequired:function(t,e){if(this.acceptKey(t,e),!t[e])throw new i.default(t.type+" requires "+e)},acceptArray:function(t){for(var e=0,n=t.length;e<n;e++)this.acceptKey(t,e),t[e]||(t.splice(e,1),e--,n--)},accept:function(t){if(t){if(!this[t.type])throw new i.default("Unknown type: "+t.type,t);this.current&&this.parents.unshift(this.current),this.current=t;var e=this[t.type](t);return this.current=this.parents.shift(),!this.mutating||e?e:!1!==e?t:void 0}},Program:function(t){this.acceptArray(t.body)},MustacheStatement:s,Decorator:s,BlockStatement:a,DecoratorBlock:a,PartialStatement:u,PartialBlockStatement:function(t){u.call(this,t),this.acceptKey(t,"program")},ContentStatement:function(){},CommentStatement:function(){},SubExpression:s,PathExpression:function(){},StringLiteral:function(){},NumberLiteral:function(){},BooleanLiteral:function(){},UndefinedLiteral:function(){},NullLiteral:function(){},Hash:function(t){this.acceptArray(t.pairs)},HashPair:function(t){this.acceptRequired(t,"value")}},e.default=o,t.exports=e.default},function(t,e,n){"use strict";var r=n(1).default;e.__esModule=!0,e.SourceLocation=function(t,e){this.source=t,this.start={line:e.first_line,column:e.first_column},this.end={line:e.last_line,column:e.last_column}},e.id=function(t){return/^\[.*\]$/.test(t)?t.substring(1,t.length-1):t},e.stripFlags=function(t,e){return{open:"~"===t.charAt(2),close:"~"===e.charAt(e.length-3)}},e.stripComment=function(t){return t.replace(/^\{\{~?!-?-?/,"").replace(/-?-?~?\}\}$/,"")},e.preparePath=function(t,e,n){n=this.locInfo(n);for(var r=t?"@":"",o=[],s=0,a=0,u=e.length;a<u;a++){var l=e[a].part,c=e[a].original!==l;if(r+=(e[a].separator||"")+l,c||".."!==l&&"."!==l&&"this"!==l)o.push(l);else{if(o.length>0)throw new i.default("Invalid path: "+r,{loc:n});".."===l&&s++}}return{type:"PathExpression",data:t,depth:s,parts:o,original:r,loc:n}},e.prepareMustache=function(t,e,n,r,i,o){var s=r.charAt(3)||r.charAt(2),a="{"!==s&&"&"!==s;return{type:/\*/.test(r)?"Decorator":"MustacheStatement",path:t,params:e,hash:n,escaped:a,strip:i,loc:this.locInfo(o)}},e.prepareRawBlock=function(t,e,n,r){o(t,n),r=this.locInfo(r);var i={type:"Program",body:e,strip:{},loc:r};return{type:"BlockStatement",path:t.path,params:t.params,hash:t.hash,program:i,openStrip:{},inverseStrip:{},closeStrip:{},loc:r}},e.prepareBlock=function(t,e,n,r,s,a){r&&r.path&&o(t,r);var u=/\*/.test(t.open);e.blockParams=t.blockParams;var l=void 0,c=void 0;if(n){if(u)throw new i.default("Unexpected inverse block on decorator",n);n.chain&&(n.program.body[0].closeStrip=r.strip),c=n.strip,l=n.program}return s&&(s=l,l=e,e=s),{type:u?"DecoratorBlock":"BlockStatement",path:t.path,params:t.params,hash:t.hash,program:e,inverse:l,openStrip:t.strip,inverseStrip:c,closeStrip:r&&r.strip,loc:this.locInfo(a)}},e.prepareProgram=function(t,e){if(!e&&t.length){var n=t[0].loc,r=t[t.length-1].loc;n&&r&&(e={source:n.source,start:{line:n.start.line,column:n.start.column},end:{line:r.end.line,column:r.end.column}})}return{type:"Program",body:t,strip:{},loc:e}},e.preparePartialBlock=function(t,e,n,r){return o(t,n),{type:"PartialBlockStatement",name:t.path,params:t.params,hash:t.hash,program:e,openStrip:t.strip,closeStrip:n&&n.strip,loc:this.locInfo(r)}};var i=r(n(6));function o(t,e){if(e=e.path?e.path.original:e,t.path.original!==e){var n={loc:t.path.loc};throw new i.default(t.path.original+" doesn't match "+e,n)}}},function(t,e,n){"use strict";var r=n(34).default,i=n(1).default;e.__esModule=!0,e.Compiler=l,e.precompile=function(t,e,n){if(null==t||"string"!=typeof t&&"Program"!==t.type)throw new o.default("You must pass a string or Handlebars AST to Handlebars.precompile. You passed "+t);"data"in(e=e||{})||(e.data=!0),e.compat&&(e.useDepths=!0);var r=n.parse(t,e),i=(new n.Compiler).compile(r,e);return(new n.JavaScriptCompiler).compile(i,e)},e.compile=function(t,e,n){if(void 0===e&&(e={}),null==t||"string"!=typeof t&&"Program"!==t.type)throw new o.default("You must pass a string or Handlebars AST to Handlebars.compile. You passed "+t);"data"in(e=s.extend({},e))||(e.data=!0),e.compat&&(e.useDepths=!0);var r=void 0;function i(){var r=n.parse(t,e),i=(new n.Compiler).compile(r,e),o=(new n.JavaScriptCompiler).compile(i,e,void 0,!0);return n.template(o)}function a(t,e){return r||(r=i()),r.call(this,t,e)}return a._setup=function(t){return r||(r=i()),r._setup(t)},a._child=function(t,e,n,o){return r||(r=i()),r._child(t,e,n,o)},a};var o=i(n(6)),s=n(5),a=i(n(45)),u=[].slice;function l(){}function c(t,e){if(t===e)return!0;if(s.isArray(t)&&s.isArray(e)&&t.length===e.length){for(var n=0;n<t.length;n++)if(!c(t[n],e[n]))return!1;return!0}}function h(t){if(!t.path.parts){var e=t.path;t.path={type:"PathExpression",data:!1,depth:0,parts:[e.original+""],original:e.original+"",loc:e.loc}}}l.prototype={compiler:l,equals:function(t){var e=this.opcodes.length;if(t.opcodes.length!==e)return!1;for(var n=0;n<e;n++){var r=this.opcodes[n],i=t.opcodes[n];if(r.opcode!==i.opcode||!c(r.args,i.args))return!1}for(e=this.children.length,n=0;n<e;n++)if(!this.children[n].equals(t.children[n]))return!1;return!0},guid:0,compile:function(t,e){return this.sourceNode=[],this.opcodes=[],this.children=[],this.options=e,this.stringParams=e.stringParams,this.trackIds=e.trackIds,e.blockParams=e.blockParams||[],e.knownHelpers=s.extend(r(null),{helperMissing:!0,blockHelperMissing:!0,each:!0,if:!0,unless:!0,with:!0,log:!0,lookup:!0},e.knownHelpers),this.accept(t)},compileProgram:function(t){var e=(new this.compiler).compile(t,this.options),n=this.guid++;return this.usePartial=this.usePartial||e.usePartial,this.children[n]=e,this.useDepths=this.useDepths||e.useDepths,n},accept:function(t){if(!this[t.type])throw new o.default("Unknown type: "+t.type,t);this.sourceNode.unshift(t);var e=this[t.type](t);return this.sourceNode.shift(),e},Program:function(t){this.options.blockParams.unshift(t.blockParams);for(var e=t.body,n=e.length,r=0;r<n;r++)this.accept(e[r]);return this.options.blockParams.shift(),this.isSimple=1===n,this.blockParams=t.blockParams?t.blockParams.length:0,this},BlockStatement:function(t){h(t);var e=t.program,n=t.inverse;e=e&&this.compileProgram(e),n=n&&this.compileProgram(n);var r=this.classifySexpr(t);"helper"===r?this.helperSexpr(t,e,n):"simple"===r?(this.simpleSexpr(t),this.opcode("pushProgram",e),this.opcode("pushProgram",n),this.opcode("emptyHash"),this.opcode("blockValue",t.path.original)):(this.ambiguousSexpr(t,e,n),this.opcode("pushProgram",e),this.opcode("pushProgram",n),this.opcode("emptyHash"),this.opcode("ambiguousBlockValue")),this.opcode("append")},DecoratorBlock:function(t){var e=t.program&&this.compileProgram(t.program),n=this.setupFullMustacheParams(t,e,void 0),r=t.path;this.useDecorators=!0,this.opcode("registerDecorator",n.length,r.original)},PartialStatement:function(t){this.usePartial=!0;var e=t.program;e&&(e=this.compileProgram(t.program));var n=t.params;if(n.length>1)throw new o.default("Unsupported number of partial arguments: "+n.length,t);n.length||(this.options.explicitPartialContext?this.opcode("pushLiteral","undefined"):n.push({type:"PathExpression",parts:[],depth:0}));var r=t.name.original,i="SubExpression"===t.name.type;i&&this.accept(t.name),this.setupFullMustacheParams(t,e,void 0,!0);var s=t.indent||"";this.options.preventIndent&&s&&(this.opcode("appendContent",s),s=""),this.opcode("invokePartial",i,r,s),this.opcode("append")},PartialBlockStatement:function(t){this.PartialStatement(t)},MustacheStatement:function(t){this.SubExpression(t),t.escaped&&!this.options.noEscape?this.opcode("appendEscaped"):this.opcode("append")},Decorator:function(t){this.DecoratorBlock(t)},ContentStatement:function(t){t.value&&this.opcode("appendContent",t.value)},CommentStatement:function(){},SubExpression:function(t){h(t);var e=this.classifySexpr(t);"simple"===e?this.simpleSexpr(t):"helper"===e?this.helperSexpr(t):this.ambiguousSexpr(t)},ambiguousSexpr:function(t,e,n){var r=t.path,i=r.parts[0],o=null!=e||null!=n;this.opcode("getContext",r.depth),this.opcode("pushProgram",e),this.opcode("pushProgram",n),r.strict=!0,this.accept(r),this.opcode("invokeAmbiguous",i,o)},simpleSexpr:function(t){var e=t.path;e.strict=!0,this.accept(e),this.opcode("resolvePossibleLambda")},helperSexpr:function(t,e,n){var r=this.setupFullMustacheParams(t,e,n),i=t.path,s=i.parts[0];if(this.options.knownHelpers[s])this.opcode("invokeKnownHelper",r.length,s);else{if(this.options.knownHelpersOnly)throw new o.default("You specified knownHelpersOnly, but used the unknown helper "+s,t);i.strict=!0,i.falsy=!0,this.accept(i),this.opcode("invokeHelper",r.length,i.original,a.default.helpers.simpleId(i))}},PathExpression:function(t){this.addDepth(t.depth),this.opcode("getContext",t.depth);var e=t.parts[0],n=a.default.helpers.scopedId(t),r=!t.depth&&!n&&this.blockParamIndex(e);r?this.opcode("lookupBlockParam",r,t.parts):e?t.data?(this.options.data=!0,this.opcode("lookupData",t.depth,t.parts,t.strict)):this.opcode("lookupOnContext",t.parts,t.falsy,t.strict,n):this.opcode("pushContext")},StringLiteral:function(t){this.opcode("pushString",t.value)},NumberLiteral:function(t){this.opcode("pushLiteral",t.value)},BooleanLiteral:function(t){this.opcode("pushLiteral",t.value)},UndefinedLiteral:function(){this.opcode("pushLiteral","undefined")},NullLiteral:function(){this.opcode("pushLiteral","null")},Hash:function(t){var e=t.pairs,n=0,r=e.length;for(this.opcode("pushHash");n<r;n++)this.pushParam(e[n].value);for(;n--;)this.opcode("assignToHash",e[n].key);this.opcode("popHash")},opcode:function(t){this.opcodes.push({opcode:t,args:u.call(arguments,1),loc:this.sourceNode[0].loc})},addDepth:function(t){t&&(this.useDepths=!0)},classifySexpr:function(t){var e=a.default.helpers.simpleId(t.path),n=e&&!!this.blockParamIndex(t.path.parts[0]),r=!n&&a.default.helpers.helperExpression(t),i=!n&&(r||e);if(i&&!r){var o=t.path.parts[0],s=this.options;s.knownHelpers[o]?r=!0:s.knownHelpersOnly&&(i=!1)}return r?"helper":i?"ambiguous":"simple"},pushParams:function(t){for(var e=0,n=t.length;e<n;e++)this.pushParam(t[e])},pushParam:function(t){var e=null!=t.value?t.value:t.original||"";if(this.stringParams)e.replace&&(e=e.replace(/^(\.?\.\/)*/g,"").replace(/\//g,".")),t.depth&&this.addDepth(t.depth),this.opcode("getContext",t.depth||0),this.opcode("pushStringParam",e,t.type),"SubExpression"===t.type&&this.accept(t);else{if(this.trackIds){var n=void 0;if(!t.parts||a.default.helpers.scopedId(t)||t.depth||(n=this.blockParamIndex(t.parts[0])),n){var r=t.parts.slice(1).join(".");this.opcode("pushId","BlockParam",n,r)}else(e=t.original||e).replace&&(e=e.replace(/^this(?:\.|$)/,"").replace(/^\.\//,"").replace(/^\.$/,"")),this.opcode("pushId",t.type,e)}this.accept(t)}},setupFullMustacheParams:function(t,e,n,r){var i=t.params;return this.pushParams(i),this.opcode("pushProgram",e),this.opcode("pushProgram",n),t.hash?this.accept(t.hash):this.opcode("emptyHash",r),i},blockParamIndex:function(t){for(var e=0,n=this.options.blockParams.length;e<n;e++){var r=this.options.blockParams[e],i=r&&s.indexOf(r,t);if(r&&i>=0)return[e,i]}}}},function(t,e,n){"use strict";var r=n(13).default,i=n(1).default;e.__esModule=!0;var o=n(4),s=i(n(6)),a=n(5),u=i(n(53));function l(t){this.value=t}function c(){}c.prototype={nameLookup:function(t,e){return this.internalNameLookup(t,e)},depthedLookup:function(t){return[this.aliasable("container.lookup"),'(depths, "',t,'")']},compilerInfo:function(){var t=o.COMPILER_REVISION;return[t,o.REVISION_CHANGES[t]]},appendToBuffer:function(t,e,n){return a.isArray(t)||(t=[t]),t=this.source.wrap(t,e),this.environment.isSimple?["return ",t,";"]:n?["buffer += ",t,";"]:(t.appendToBuffer=!0,t)},initializeBuffer:function(){return this.quotedString("")},internalNameLookup:function(t,e){return this.lookupPropertyFunctionIsUsed=!0,["lookupProperty(",t,",",JSON.stringify(e),")"]},lookupPropertyFunctionIsUsed:!1,compile:function(t,e,n,r){this.environment=t,this.options=e,this.stringParams=this.options.stringParams,this.trackIds=this.options.trackIds,this.precompile=!r,this.name=this.environment.name,this.isChild=!!n,this.context=n||{decorators:[],programs:[],environments:[]},this.preamble(),this.stackSlot=0,this.stackVars=[],this.aliases={},this.registers={list:[]},this.hashes=[],this.compileStack=[],this.inlineStack=[],this.blockParams=[],this.compileChildren(t,e),this.useDepths=this.useDepths||t.useDepths||t.useDecorators||this.options.compat,this.useBlockParams=this.useBlockParams||t.useBlockParams;var i=t.opcodes,o=void 0,a=void 0,u=void 0,l=void 0;for(u=0,l=i.length;u<l;u++)o=i[u],this.source.currentLocation=o.loc,a=a||o.loc,this[o.opcode].apply(this,o.args);if(this.source.currentLocation=a,this.pushSource(""),this.stackSlot||this.inlineStack.length||this.compileStack.length)throw new s.default("Compile completed with content left on stack");this.decorators.isEmpty()?this.decorators=void 0:(this.useDecorators=!0,this.decorators.prepend(["var decorators = container.decorators, ",this.lookupPropertyFunctionVarDeclaration(),";\n"]),this.decorators.push("return fn;"),r?this.decorators=Function.apply(this,["fn","props","container","depth0","data","blockParams","depths",this.decorators.merge()]):(this.decorators.prepend("function(fn, props, container, depth0, data, blockParams, depths) {\n"),this.decorators.push("}\n"),this.decorators=this.decorators.merge()));var c=this.createFunctionContext(r);if(this.isChild)return c;var h={compiler:this.compilerInfo(),main:c};this.decorators&&(h.main_d=this.decorators,h.useDecorators=!0);var f=this.context,p=f.programs,d=f.decorators;for(u=0,l=p.length;u<l;u++)p[u]&&(h[u]=p[u],d[u]&&(h[u+"_d"]=d[u],h.useDecorators=!0));return this.environment.usePartial&&(h.usePartial=!0),this.options.data&&(h.useData=!0),this.useDepths&&(h.useDepths=!0),this.useBlockParams&&(h.useBlockParams=!0),this.options.compat&&(h.compat=!0),r?h.compilerOptions=this.options:(h.compiler=JSON.stringify(h.compiler),this.source.currentLocation={start:{line:1,column:0}},h=this.objectLiteral(h),e.srcName?(h=h.toStringWithSourceMap({file:e.destName})).map=h.map&&h.map.toString():h=h.toString()),h},preamble:function(){this.lastContext=0,this.source=new u.default(this.options.srcName),this.decorators=new u.default(this.options.srcName)},createFunctionContext:function(t){var e=this,n="",i=this.stackVars.concat(this.registers.list);i.length>0&&(n+=", "+i.join(", "));var o=0;r(this.aliases).forEach((function(t){var r=e.aliases[t];r.children&&r.referenceCount>1&&(n+=", alias"+ ++o+"="+t,r.children[0]="alias"+o)})),this.lookupPropertyFunctionIsUsed&&(n+=", "+this.lookupPropertyFunctionVarDeclaration());var s=["container","depth0","helpers","partials","data"];(this.useBlockParams||this.useDepths)&&s.push("blockParams"),this.useDepths&&s.push("depths");var a=this.mergeSource(n);return t?(s.push(a),Function.apply(this,s)):this.source.wrap(["function(",s.join(","),") {\n  ",a,"}"])},mergeSource:function(t){var e=this.environment.isSimple,n=!this.forceBuffer,r=void 0,i=void 0,o=void 0,s=void 0;return this.source.each((function(t){t.appendToBuffer?(o?t.prepend("  + "):o=t,s=t):(o&&(i?o.prepend("buffer += "):r=!0,s.add(";"),o=s=void 0),i=!0,e||(n=!1))})),n?o?(o.prepend("return "),s.add(";")):i||this.source.push('return "";'):(t+=", buffer = "+(r?"":this.initializeBuffer()),o?(o.prepend("return buffer + "),s.add(";")):this.source.push("return buffer;")),t&&this.source.prepend("var "+t.substring(2)+(r?"":";\n")),this.source.merge()},lookupPropertyFunctionVarDeclaration:function(){return"\n      lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    }\n    ".trim()},blockValue:function(t){var e=this.aliasable("container.hooks.blockHelperMissing"),n=[this.contextName(0)];this.setupHelperArgs(t,0,n);var r=this.popStack();n.splice(1,0,r),this.push(this.source.functionCall(e,"call",n))},ambiguousBlockValue:function(){var t=this.aliasable("container.hooks.blockHelperMissing"),e=[this.contextName(0)];this.setupHelperArgs("",0,e,!0),this.flushInline();var n=this.topStack();e.splice(1,0,n),this.pushSource(["if (!",this.lastHelper,") { ",n," = ",this.source.functionCall(t,"call",e),"}"])},appendContent:function(t){this.pendingContent?t=this.pendingContent+t:this.pendingLocation=this.source.currentLocation,this.pendingContent=t},append:function(){if(this.isInline())this.replaceStack((function(t){return[" != null ? ",t,' : ""']})),this.pushSource(this.appendToBuffer(this.popStack()));else{var t=this.popStack();this.pushSource(["if (",t," != null) { ",this.appendToBuffer(t,void 0,!0)," }"]),this.environment.isSimple&&this.pushSource(["else { ",this.appendToBuffer("''",void 0,!0)," }"])}},appendEscaped:function(){this.pushSource(this.appendToBuffer([this.aliasable("container.escapeExpression"),"(",this.popStack(),")"]))},getContext:function(t){this.lastContext=t},pushContext:function(){this.pushStackLiteral(this.contextName(this.lastContext))},lookupOnContext:function(t,e,n,r){var i=0;r||!this.options.compat||this.lastContext?this.pushContext():this.push(this.depthedLookup(t[i++])),this.resolvePath("context",t,i,e,n)},lookupBlockParam:function(t,e){this.useBlockParams=!0,this.push(["blockParams[",t[0],"][",t[1],"]"]),this.resolvePath("context",e,1)},lookupData:function(t,e,n){t?this.pushStackLiteral("container.data(data, "+t+")"):this.pushStackLiteral("data"),this.resolvePath("data",e,0,!0,n)},resolvePath:function(t,e,n,r,i){var o=this;if(this.options.strict||this.options.assumeObjects)this.push(function(t,e,n,r){var i=e.popStack(),o=0,s=n.length;for(t&&s--;o<s;o++)i=e.nameLookup(i,n[o],r);return t?[e.aliasable("container.strict"),"(",i,", ",e.quotedString(n[o]),", ",JSON.stringify(e.source.currentLocation)," )"]:i}(this.options.strict&&i,this,e,t));else for(var s=e.length;n<s;n++)this.replaceStack((function(i){var s=o.nameLookup(i,e[n],t);return r?[" && ",s]:[" != null ? ",s," : ",i]}))},resolvePossibleLambda:function(){this.push([this.aliasable("container.lambda"),"(",this.popStack(),", ",this.contextName(0),")"])},pushStringParam:function(t,e){this.pushContext(),this.pushString(e),"SubExpression"!==e&&("string"==typeof t?this.pushString(t):this.pushStackLiteral(t))},emptyHash:function(t){this.trackIds&&this.push("{}"),this.stringParams&&(this.push("{}"),this.push("{}")),this.pushStackLiteral(t?"undefined":"{}")},pushHash:function(){this.hash&&this.hashes.push(this.hash),this.hash={values:{},types:[],contexts:[],ids:[]}},popHash:function(){var t=this.hash;this.hash=this.hashes.pop(),this.trackIds&&this.push(this.objectLiteral(t.ids)),this.stringParams&&(this.push(this.objectLiteral(t.contexts)),this.push(this.objectLiteral(t.types))),this.push(this.objectLiteral(t.values))},pushString:function(t){this.pushStackLiteral(this.quotedString(t))},pushLiteral:function(t){this.pushStackLiteral(t)},pushProgram:function(t){null!=t?this.pushStackLiteral(this.programExpression(t)):this.pushStackLiteral(null)},registerDecorator:function(t,e){var n=this.nameLookup("decorators",e,"decorator"),r=this.setupHelperArgs(e,t);this.decorators.push(["fn = ",this.decorators.functionCall(n,"",["fn","props","container",r])," || fn;"])},invokeHelper:function(t,e,n){var r=this.popStack(),i=this.setupHelper(t,e),o=[];n&&o.push(i.name),o.push(r),this.options.strict||o.push(this.aliasable("container.hooks.helperMissing"));var s=["(",this.itemsSeparatedBy(o,"||"),")"],a=this.source.functionCall(s,"call",i.callParams);this.push(a)},itemsSeparatedBy:function(t,e){var n=[];n.push(t[0]);for(var r=1;r<t.length;r++)n.push(e,t[r]);return n},invokeKnownHelper:function(t,e){var n=this.setupHelper(t,e);this.push(this.source.functionCall(n.name,"call",n.callParams))},invokeAmbiguous:function(t,e){this.useRegister("helper");var n=this.popStack();this.emptyHash();var r=this.setupHelper(0,t,e),i=["(","(helper = ",this.lastHelper=this.nameLookup("helpers",t,"helper")," || ",n,")"];this.options.strict||(i[0]="(helper = ",i.push(" != null ? helper : ",this.aliasable("container.hooks.helperMissing"))),this.push(["(",i,r.paramsInit?["),(",r.paramsInit]:[],"),","(typeof helper === ",this.aliasable('"function"')," ? ",this.source.functionCall("helper","call",r.callParams)," : helper))"])},invokePartial:function(t,e,n){var r=[],i=this.setupParams(e,1,r);t&&(e=this.popStack(),delete i.name),n&&(i.indent=JSON.stringify(n)),i.helpers="helpers",i.partials="partials",i.decorators="container.decorators",t?r.unshift(e):r.unshift(this.nameLookup("partials",e,"partial")),this.options.compat&&(i.depths="depths"),i=this.objectLiteral(i),r.push(i),this.push(this.source.functionCall("container.invokePartial","",r))},assignToHash:function(t){var e=this.popStack(),n=void 0,r=void 0,i=void 0;this.trackIds&&(i=this.popStack()),this.stringParams&&(r=this.popStack(),n=this.popStack());var o=this.hash;n&&(o.contexts[t]=n),r&&(o.types[t]=r),i&&(o.ids[t]=i),o.values[t]=e},pushId:function(t,e,n){"BlockParam"===t?this.pushStackLiteral("blockParams["+e[0]+"].path["+e[1]+"]"+(n?" + "+JSON.stringify("."+n):"")):"PathExpression"===t?this.pushString(e):"SubExpression"===t?this.pushStackLiteral("true"):this.pushStackLiteral("null")},compiler:c,compileChildren:function(t,e){for(var n=t.children,r=void 0,i=void 0,o=0,s=n.length;o<s;o++){r=n[o],i=new this.compiler;var a=this.matchExistingProgram(r);if(null==a){this.context.programs.push("");var u=this.context.programs.length;r.index=u,r.name="program"+u,this.context.programs[u]=i.compile(r,e,this.context,!this.precompile),this.context.decorators[u]=i.decorators,this.context.environments[u]=r,this.useDepths=this.useDepths||i.useDepths,this.useBlockParams=this.useBlockParams||i.useBlockParams,r.useDepths=this.useDepths,r.useBlockParams=this.useBlockParams}else r.index=a.index,r.name="program"+a.index,this.useDepths=this.useDepths||a.useDepths,this.useBlockParams=this.useBlockParams||a.useBlockParams}},matchExistingProgram:function(t){for(var e=0,n=this.context.environments.length;e<n;e++){var r=this.context.environments[e];if(r&&r.equals(t))return r}},programExpression:function(t){var e=this.environment.children[t],n=[e.index,"data",e.blockParams];return(this.useBlockParams||this.useDepths)&&n.push("blockParams"),this.useDepths&&n.push("depths"),"container.program("+n.join(", ")+")"},useRegister:function(t){this.registers[t]||(this.registers[t]=!0,this.registers.list.push(t))},push:function(t){return t instanceof l||(t=this.source.wrap(t)),this.inlineStack.push(t),t},pushStackLiteral:function(t){this.push(new l(t))},pushSource:function(t){this.pendingContent&&(this.source.push(this.appendToBuffer(this.source.quotedString(this.pendingContent),this.pendingLocation)),this.pendingContent=void 0),t&&this.source.push(t)},replaceStack:function(t){var e=["("],n=void 0,r=void 0,i=void 0;if(!this.isInline())throw new s.default("replaceStack on non-inline");var o=this.popStack(!0);if(o instanceof l)e=["(",n=[o.value]],i=!0;else{r=!0;var a=this.incrStack();e=["((",this.push(a)," = ",o,")"],n=this.topStack()}var u=t.call(this,n);i||this.popStack(),r&&this.stackSlot--,this.push(e.concat(u,")"))},incrStack:function(){return this.stackSlot++,this.stackSlot>this.stackVars.length&&this.stackVars.push("stack"+this.stackSlot),this.topStackName()},topStackName:function(){return"stack"+this.stackSlot},flushInline:function(){var t=this.inlineStack;this.inlineStack=[];for(var e=0,n=t.length;e<n;e++){var r=t[e];if(r instanceof l)this.compileStack.push(r);else{var i=this.incrStack();this.pushSource([i," = ",r,";"]),this.compileStack.push(i)}}},isInline:function(){return this.inlineStack.length},popStack:function(t){var e=this.isInline(),n=(e?this.inlineStack:this.compileStack).pop();if(!t&&n instanceof l)return n.value;if(!e){if(!this.stackSlot)throw new s.default("Invalid stack pop");this.stackSlot--}return n},topStack:function(){var t=this.isInline()?this.inlineStack:this.compileStack,e=t[t.length-1];return e instanceof l?e.value:e},contextName:function(t){return this.useDepths&&t?"depths["+t+"]":"depth"+t},quotedString:function(t){return this.source.quotedString(t)},objectLiteral:function(t){return this.source.objectLiteral(t)},aliasable:function(t){var e=this.aliases[t];return e?(e.referenceCount++,e):((e=this.aliases[t]=this.source.wrap(t)).aliasable=!0,e.referenceCount=1,e)},setupHelper:function(t,e,n){var r=[];return{params:r,paramsInit:this.setupHelperArgs(e,t,r,n),name:this.nameLookup("helpers",e,"helper"),callParams:[this.aliasable(this.contextName(0)+" != null ? "+this.contextName(0)+" : (container.nullContext || {})")].concat(r)}},setupParams:function(t,e,n){var r={},i=[],o=[],s=[],a=!n,u=void 0;a&&(n=[]),r.name=this.quotedString(t),r.hash=this.popStack(),this.trackIds&&(r.hashIds=this.popStack()),this.stringParams&&(r.hashTypes=this.popStack(),r.hashContexts=this.popStack());var l=this.popStack(),c=this.popStack();(c||l)&&(r.fn=c||"container.noop",r.inverse=l||"container.noop");for(var h=e;h--;)u=this.popStack(),n[h]=u,this.trackIds&&(s[h]=this.popStack()),this.stringParams&&(o[h]=this.popStack(),i[h]=this.popStack());return a&&(r.args=this.source.generateArray(n)),this.trackIds&&(r.ids=this.source.generateArray(s)),this.stringParams&&(r.types=this.source.generateArray(o),r.contexts=this.source.generateArray(i)),this.options.data&&(r.data="data"),this.useBlockParams&&(r.blockParams="blockParams"),r},setupHelperArgs:function(t,e,n,r){var i=this.setupParams(t,e,n);return i.loc=JSON.stringify(this.source.currentLocation),i=this.objectLiteral(i),r?(this.useRegister("options"),n.push("options"),["options=",i]):n?(n.push(i),""):i}},function(){for(var t="break else new var case finally return void catch for switch while continue function this with default if throw delete in try do instanceof typeof abstract enum int short boolean export interface static byte extends long super char final native synchronized class float package throws const goto private transient debugger implements protected volatile double import public let yield await null true false".split(" "),e=c.RESERVED_WORDS={},n=0,r=t.length;n<r;n++)e[t[n]]=!0}(),c.isValidJavaScriptVariableName=function(t){return!c.RESERVED_WORDS[t]&&/^[a-zA-Z_$][0-9a-zA-Z_$]*$/.test(t)},e.default=c,t.exports=e.default},function(t,e,n){"use strict";var r=n(13).default;e.__esModule=!0;var i=n(5),o=void 0;function s(t,e,n){if(i.isArray(t)){for(var r=[],o=0,s=t.length;o<s;o++)r.push(e.wrap(t[o],n));return r}return"boolean"==typeof t||"number"==typeof t?t+"":t}function a(t){this.srcFile=t,this.source=[]}o||((o=function(t,e,n,r){this.src="",r&&this.add(r)}).prototype={add:function(t){i.isArray(t)&&(t=t.join("")),this.src+=t},prepend:function(t){i.isArray(t)&&(t=t.join("")),this.src=t+this.src},toStringWithSourceMap:function(){return{code:this.toString()}},toString:function(){return this.src}}),a.prototype={isEmpty:function(){return!this.source.length},prepend:function(t,e){this.source.unshift(this.wrap(t,e))},push:function(t,e){this.source.push(this.wrap(t,e))},merge:function(){var t=this.empty();return this.each((function(e){t.add(["  ",e,"\n"])})),t},each:function(t){for(var e=0,n=this.source.length;e<n;e++)t(this.source[e])},empty:function(){var t=this.currentLocation||{start:{}};return new o(t.start.line,t.start.column,this.srcFile)},wrap:function(t){var e=arguments.length<=1||void 0===arguments[1]?this.currentLocation||{start:{}}:arguments[1];return t instanceof o?t:(t=s(t,this,e),new o(e.start.line,e.start.column,this.srcFile,t))},functionCall:function(t,e,n){return n=this.generateList(n),this.wrap([t,e?"."+e+"(":"(",n,")"])},quotedString:function(t){return'"'+(t+"").replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")+'"'},objectLiteral:function(t){var e=this,n=[];r(t).forEach((function(r){var i=s(t[r],e);"undefined"!==i&&n.push([e.quotedString(r),":",i])}));var i=this.generateList(n);return i.prepend("{"),i.add("}"),i},generateList:function(t){for(var e=this.empty(),n=0,r=t.length;n<r;n++)n&&e.add(","),e.add(s(t[n],this));return e},generateArray:function(t){var e=this.generateList(t);return e.prepend("["),e.add("]"),e}},e.default=a,t.exports=e.default}])},t.exports=r()},function(t,e,n){var r,i;r=[n(79),n(18),n(113),n(162),n(163),n(112),n(114),n(231),n(164),n(66)],void 0===(i=function(t,e,n,r,i,o,s,a,u,l){var c=function(t,e){return new c.fn.init(t,e)},h=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,f=/^-ms-/,p=/-([\da-z])/gi,d=function(t,e){return e.toUpperCase()};function g(t){var e=!!t&&"length"in t&&t.length,n=c.type(t);return"function"!==n&&!c.isWindow(t)&&("array"===n||0===e||"number"==typeof e&&e>0&&e-1 in t)}return c.fn=c.prototype={jquery:"@VERSION",constructor:c,selector:"",length:0,toArray:function(){return n.call(this)},get:function(t){return null!=t?t<0?this[t+this.length]:this[t]:n.call(this)},pushStack:function(t){var e=c.merge(this.constructor(),t);return e.prevObject=this,e.context=this.context,e},each:function(t){return c.each(this,t)},map:function(t){return this.pushStack(c.map(this,(function(e,n){return t.call(e,n,e)})))},slice:function(){return this.pushStack(n.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(t){var e=this.length,n=+t+(t<0?e:0);return this.pushStack(n>=0&&n<e?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:i,sort:t.sort,splice:t.splice},c.extend=c.fn.extend=function(){var t,e,n,r,i,o,s=arguments[0]||{},a=1,u=arguments.length,l=!1;for("boolean"==typeof s&&(l=s,s=arguments[a]||{},a++),"object"==typeof s||c.isFunction(s)||(s={}),a===u&&(s=this,a--);a<u;a++)if(null!=(t=arguments[a]))for(e in t)n=s[e],s!==(r=t[e])&&(l&&r&&(c.isPlainObject(r)||(i=c.isArray(r)))?(i?(i=!1,o=n&&c.isArray(n)?n:[]):o=n&&c.isPlainObject(n)?n:{},s[e]=c.extend(l,o,r)):void 0!==r&&(s[e]=r));return s},c.extend({expando:"jQuery"+("@VERSION"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isFunction:function(t){return"function"===c.type(t)},isArray:Array.isArray,isWindow:function(t){return null!=t&&t===t.window},isNumeric:function(t){var e=t&&t.toString();return!c.isArray(t)&&e-parseFloat(e)+1>=0},isPlainObject:function(t){var e;if("object"!==c.type(t)||t.nodeType||c.isWindow(t))return!1;if(t.constructor&&!u.call(t,"constructor")&&!u.call(t.constructor.prototype||{},"isPrototypeOf"))return!1;for(e in t);return void 0===e||u.call(t,e)},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},type:function(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?s[a.call(t)]||"object":typeof t},globalEval:function(t){var n,r=eval;(t=c.trim(t))&&(1===t.indexOf("use strict")?((n=e.createElement("script")).text=t,e.head.appendChild(n).parentNode.removeChild(n)):r(t))},camelCase:function(t){return t.replace(f,"ms-").replace(p,d)},nodeName:function(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()},each:function(t,e){var n,r=0;if(g(t))for(n=t.length;r<n&&!1!==e.call(t[r],r,t[r]);r++);else for(r in t)if(!1===e.call(t[r],r,t[r]))break;return t},trim:function(t){return null==t?"":(t+"").replace(h,"")},makeArray:function(t,e){var n=e||[];return null!=t&&(g(Object(t))?c.merge(n,"string"==typeof t?[t]:t):i.call(n,t)),n},inArray:function(t,e,n){return null==e?-1:o.call(e,t,n)},merge:function(t,e){for(var n=+e.length,r=0,i=t.length;r<n;r++)t[i++]=e[r];return t.length=i,t},grep:function(t,e,n){for(var r=[],i=0,o=t.length,s=!n;i<o;i++)!e(t[i],i)!==s&&r.push(t[i]);return r},map:function(t,e,n){var i,o,s=0,a=[];if(g(t))for(i=t.length;s<i;s++)null!=(o=e(t[s],s,n))&&a.push(o);else for(s in t)null!=(o=e(t[s],s,n))&&a.push(o);return r.apply([],a)},guid:1,proxy:function(t,e){var r,i,o;if("string"==typeof e&&(r=t[e],e=t,t=r),c.isFunction(t))return i=n.call(arguments,2),(o=function(){return t.apply(e||this,i.concat(n.call(arguments)))}).guid=t.guid=t.guid||c.guid++,o},now:Date.now,support:l}),"function"==typeof Symbol&&(c.fn[Symbol.iterator]=t[Symbol.iterator]),c.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),(function(t,e){s["[object "+e+"]"]=e.toLowerCase()})),c}.apply(e,r))||(t.exports=i)},,function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"DtImageTools",(function(){return V})),n.d(e,"DtMath",(function(){return kt})),n.d(e,"DtPlatform",(function(){return pt})),n.d(e,"DtSdk",(function(){return yt})),n.d(e,"DtTools",(function(){return Ut})),n.d(e,"addParam",(function(){return Bt})),n.d(e,"animationFrame",(function(){return Xt})),n.d(e,"appVersionCompare",(function(){return tt})),n.d(e,"base64ToBlob",(function(){return ie})),n.d(e,"compareVersion",(function(){return ht})),n.d(e,"copy",(function(){return ee})),n.d(e,"createImage",(function(){return Gt})),n.d(e,"createUrlWithQuery",(function(){return Ot})),n.d(e,"debounce",(function(){return Yt})),n.d(e,"digy",(function(){return Lt})),n.d(e,"digyAndHm",(function(){return Mt})),n.d(e,"dtImageNoWebp",(function(){return p})),n.d(e,"dtImageOrigin",(function(){return u})),n.d(e,"dtImageSquare",(function(){return h})),n.d(e,"dtImageSquareNoWebp",(function(){return d})),n.d(e,"dtImageSquareOnlyNoWebpForGif",(function(){return m})),n.d(e,"dtImageThumb",(function(){return f})),n.d(e,"dtImageThumbNoWebp",(function(){return g})),n.d(e,"dtImageThumbOnlyNoWebpForGif",(function(){return v})),n.d(e,"dtSquare",(function(){return b})),n.d(e,"dtThumb",(function(){return y})),n.d(e,"fetchBlobConvertToBase64",(function(){return re})),n.d(e,"getAppVersion",(function(){return Z})),n.d(e,"getCookie",(function(){return j})),n.d(e,"getDevicePixelRatio",(function(){return Qt})),n.d(e,"getDistance",(function(){return St})),n.d(e,"getParams",(function(){return jt})),n.d(e,"getPhoneType",(function(){return Q})),n.d(e,"getPrivateUrlOfImages",(function(){return O})),n.d(e,"getTimeWithMillisecond",(function(){return qt})),n.d(e,"getType",(function(){return gt})),n.d(e,"hslToRgb",(function(){return Ft})),n.d(e,"isAndroid",(function(){return nt})),n.d(e,"isBeta",(function(){return _t})),n.d(e,"isChrome",(function(){return st})),n.d(e,"isDev",(function(){return Tt})),n.d(e,"isDuiTang",(function(){return K})),n.d(e,"isDuitangImage",(function(){return l})),n.d(e,"isEmpty",(function(){return vt})),n.d(e,"isExist",(function(){return Vt})),n.d(e,"isFireFox",(function(){return ot})),n.d(e,"isInApp",(function(){return G})),n.d(e,"isIos",(function(){return et})),n.d(e,"isMEIZU",(function(){return J})),n.d(e,"isNaiYou",(function(){return z})),n.d(e,"isObject",(function(){return mt})),n.d(e,"isPc",(function(){return lt})),n.d(e,"isPhone",(function(){return ut})),n.d(e,"isProd",(function(){return It})),n.d(e,"isQQ",(function(){return Y})),n.d(e,"isSupportFull",(function(){return ft})),n.d(e,"isSymbian",(function(){return it})),n.d(e,"isTablet",(function(){return at})),n.d(e,"isTest",(function(){return Dt})),n.d(e,"isWeiBo",(function(){return X})),n.d(e,"isWeiXin",(function(){return W})),n.d(e,"isWindowsPhone",(function(){return rt})),n.d(e,"keepDecimal",(function(){return Kt})),n.d(e,"lineIncludedAngle",(function(){return Ct})),n.d(e,"popMsg",(function(){return te})),n.d(e,"px2vw",(function(){return zt})),n.d(e,"removeParam",(function(){return Ht})),n.d(e,"rgbToHsl",(function(){return Pt})),n.d(e,"rotatePoint",(function(){return Et})),n.d(e,"sdkVersion",(function(){return ct})),n.d(e,"segmentsIntr",(function(){return At})),n.d(e,"selectPictureInFrontend",(function(){return ne})),n.d(e,"separateNumberAndUnit",(function(){return Jt})),n.d(e,"testUa",(function(){return q})),n.d(e,"throttling",(function(){return Wt})),n.d(e,"transformUrlToCurrentEnv",(function(){return Nt})),n.d(e,"uploadImage",(function(){return U})),n.d(e,"useDevTool",(function(){return $t})),n.d(e,"validate",(function(){return Zt})),n.d(e,"verifyImageAccessibility",(function(){return T})),n.d(e,"webviewConsole",(function(){return Rt}));var r=n(57),i=n.n(r),o=function(t){for(var e=t=t||0,n=[100,200,300,400,500,600,700,800,900,1e3],r=n.length,i=0;i<r;i++)if(n[i]>=t||i===r-1){e=n[i];break}return e},s=function(t){return(t="https://d-ssl.dtstatic.com"+new URL(t).pathname).replace(/\?.*$/,"").replace(/(?:\.thumb\.\w+|\.[a-z]+!\w+)(\.[a-z_]+)$/gi,"$1")},a=function t(e,n,r,i){if(!e)return e;var a=e.trim(),u="",l="";try{var c=new URL(a);u=c.hostname,l=c.pathname}catch(t){u="",l=a}if(function(t){return t.startsWith("http://dt-img.qiniudn.com")}(a))return s(a)+"?imageView2/2/w/"+o(r);if(!function(t){return t.endsWith("duitang.com")||t.endsWith("dtstatic.com")}(u))return console.log("非堆糖域名图片",a),a;if(function(t){return t.startsWith("https")}(a)||console.log("非https图片请求，请修改:"+a),n){a="https://d-ssl.dtstatic.com"+l;var h=o(r),f=i?"_c":"",p=i?h:0;return t(a).replace(/(\.[a-z_]+)$/gi,".thumb."+h+"_"+p+f+"$1")}return s(a)},u=function(t,e){var n=a(t);return e&&(n=n.replace(/(_webp|_jpeg)$/,"")),n},l=function(t){return!(!t||!/^http(s)?:\/\/.*\.(duitang|dtstatic)\.com/.test(t.trim()))},c=function(t){var e=t;return!function(){var t=navigator.userAgent.toLowerCase();if(t.indexOf("iphone os ")>-1){var e=parseInt(t.split("iphone os ")[1].split("_")[0]);return console.log("iphone: version",e),!(e<14)}if(t.indexOf("mac os ")>-1&&t.indexOf("safari")>-1&&-1==t.indexOf("chrome")){var n=parseInt(t.split("version/")[1].split(".")[0]);return console.log("mac: version",n),!(n<14)}return!0}()?e=e.replace(/_webp$/,""):e.endsWith("gif_jpeg")?e=e.replace(/gif_jpeg$/i,"gif_webp"):e.endsWith("gif")||(e=e.replace(/(_jpeg|_webp)$/i,""),e+="_webp"),e},h=function(t,e){var n=a(t,!0,e,!0);return l(n)&&(n=n.replace(/\.gif$/,".gif_jpeg"),n=c(n)),n},f=function(t,e){var n=a(t,!0,e,!1);return l(n)&&(n=n.replace(/\.gif$/,".gif_jpeg"),n=c(n)),n},p=function(t){return l(t)&&t.endsWith("_webp")?t.replace(/_webp$/,""):t},d=function(t,e){var n=a(t,!0,e,!0);return l(n)&&p(n),n},g=function(t,e){var n=a(t,!0,e,!1);return l(n)&&p(n),n},v=function(t,e){var n=a(t,!0,e,!1);return l(n)&&(n=(n=c(n)).replace(/gif_webp/,"gif")),n},m=function(t,e){var n=a(t,!0,e,!0);return l(n)&&(n=(n=c(n)).replace(/gif_webp/,"gif")),n},y=function(t,e){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],i=a(t,!0,e,!1);return l(i)&&(n&&(i=i.replace(/\.gif$/,".gif_jpeg")),r&&(i=c(i))),i},b=function(t,e){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],i=a(t,!0,e,!0);return l(i)&&(n&&(i=i.replace(/\.gif$/,".gif_jpeg")),r&&(i=c(i))),i};function w(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function x(t){var e={exports:{}};return t(e,e.exports),e.exports}var S,E=x((function(t){t.exports=function(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r},t.exports.__esModule=!0,t.exports.default=t.exports})),A=x((function(t){t.exports=function(t){if(Array.isArray(t))return E(t)},t.exports.__esModule=!0,t.exports.default=t.exports})),C=x((function(t){t.exports=function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)},t.exports.__esModule=!0,t.exports.default=t.exports})),F=x((function(t){t.exports=function(t,e){if(t){if("string"==typeof t)return E(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?E(t,e):void 0}},t.exports.__esModule=!0,t.exports.default=t.exports})),P=x((function(t){t.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},t.exports.__esModule=!0,t.exports.default=t.exports})),k=w(x((function(t){t.exports=function(t){return A(t)||C(t)||F(t)||P()},t.exports.__esModule=!0,t.exports.default=t.exports}))),T=function t(e,n){return fetch(e[0]).then((function(t){return t.ok?t.blob():Promise.reject("404")})).then((function(t){var e=URL.createObjectURL(t);return"function"==typeof n&&n(e),e})).catch((function(){if(e[1]){var r=k(e);return r.shift(),t(r,n)}return"function"==typeof n&&n(""),""}))},_=w(x((function(t){function e(t,e,n,r,i,o,s){try{var a=t[o](s),u=a.value}catch(t){return void n(t)}a.done?e(u):Promise.resolve(u).then(r,i)}t.exports=function(t){return function(){var n=this,r=arguments;return new Promise((function(i,o){var s=t.apply(n,r);function a(t){e(s,i,o,a,u,"next",t)}function u(t){e(s,i,o,a,u,"throw",t)}a(void 0)}))}},t.exports.__esModule=!0,t.exports.default=t.exports}))),I=w(x((function(t){function e(n){return t.exports=e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t.exports.__esModule=!0,t.exports.default=t.exports,e(n)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports}))),D=x((function(t){var e=function(t){var e=Object.prototype,n=e.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},i=r.iterator||"@@iterator",o=r.asyncIterator||"@@asyncIterator",s=r.toStringTag||"@@toStringTag";function a(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{a({},"")}catch(t){a=function(t,e,n){return t[e]=n}}function u(t,e,n,r){var i=e&&e.prototype instanceof h?e:h,o=Object.create(i.prototype),s=new E(r||[]);return o._invoke=function(t,e,n){var r="suspendedStart";return function(i,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw o;return C()}for(n.method=i,n.arg=o;;){var s=n.delegate;if(s){var a=w(s,n);if(a){if(a===c)continue;return a}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=l(t,e,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===c)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}(t,n,s),o}function l(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=u;var c={};function h(){}function f(){}function p(){}var d={};a(d,i,(function(){return this}));var g=Object.getPrototypeOf,v=g&&g(g(A([])));v&&v!==e&&n.call(v,i)&&(d=v);var m=p.prototype=h.prototype=Object.create(d);function y(t){["next","throw","return"].forEach((function(e){a(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){var r;this._invoke=function(i,o){function s(){return new e((function(r,s){!function r(i,o,s,a){var u=l(t[i],t,o);if("throw"!==u.type){var c=u.arg,h=c.value;return h&&"object"===I(h)&&n.call(h,"__await")?e.resolve(h.__await).then((function(t){r("next",t,s,a)}),(function(t){r("throw",t,s,a)})):e.resolve(h).then((function(t){c.value=t,s(c)}),(function(t){return r("throw",t,s,a)}))}a(u.arg)}(i,o,r,s)}))}return r=r?r.then(s,s):s()}}function w(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,w(t,e),"throw"===e.method))return c;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return c}var r=l(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,c;var i=r.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,c):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,c)}function x(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function S(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function E(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(x,this),this.reset(!0)}function A(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:C}}function C(){return{value:void 0,done:!0}}return f.prototype=p,a(m,"constructor",p),a(p,"constructor",f),f.displayName=a(p,s,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===f||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,a(t,s,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},y(b.prototype),a(b.prototype,o,(function(){return this})),t.AsyncIterator=b,t.async=function(e,n,r,i,o){void 0===o&&(o=Promise);var s=new b(u(e,n,r,i),o);return t.isGeneratorFunction(n)?s:s.next().then((function(t){return t.done?t.value:s.next()}))},y(m),a(m,s,"Generator"),a(m,i,(function(){return this})),a(m,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=A,E.prototype={constructor:E,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return s.type="throw",s.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],s=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var a=n.call(o,"catchLoc"),u=n.call(o,"finallyLoc");if(a&&u){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var s=o?o.completion:{};return s.type=t,s.arg=e,o?(this.method="next",this.next=o.finallyLoc,c):this.complete(s)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),c},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),S(n),c}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;S(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:A(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),c}},t}(t.exports);try{regeneratorRuntime=e}catch(t){"object"===("undefined"==typeof globalThis?"undefined":I(globalThis))?globalThis.regeneratorRuntime=e:Function("r","regeneratorRuntime = r")(e)}})),N=function(t){return fetch("/operator/oss/op/private_url/",{method:"post",body:JSON.stringify(t),headers:{"content-type":"application/json; charset=UTF-8"}}).then((function(t){return t.ok?t.json().then((function(t){return t.data})):null}))},R=function(t){var e=/^\//;return/^https?/.test(t)?t.replace(/^https?:\/\/[^/]+\//,""):e.test(t)?t.replace(e,""):t},O=function(){var t=_(D.mark((function t(e,n,r){var i,o,s,a,u,l,c,h,f,p,d,g,v;return D.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,o=(i=e||{}).urls,s=void 0===o?[]:o,a=i.expireSec,u=void 0===a?3600:a,l=[],c={},h=Array.isArray(n)?s.filter((function(t,e){return!!n[e]&&(l.push(e),c[e]=l.length-1,!0)})):s,!Array.isArray(n)||n.some((function(t){return t}))){t.next=7;break}return t.abrupt("return",s);case 7:return t.next=9,N({keys:h.map((function(t){return R(t)})),expireSec:u});case 9:if(!(f=t.sent)){t.next=26;break}if(p=f.QINIU,d=f.JD,Array.isArray(p)&&0!==p.length&&Array.isArray(d)&&0!==d.length){t.next=14;break}return t.abrupt("return",s);case 14:if(!n){t.next=21;break}return g=k(s),l.forEach((function(t){g[t]=""})),"function"==typeof r&&g.forEach((function(t,e){""!==t?setTimeout((function(){r(t,e,!0)}),0):T([d[c[e]].privateUrl,p[c[e]].privateUrl],(function(t){return r(t,e)}))})),t.abrupt("return",g);case 21:return v=p.map((function(){return""})),"function"==typeof r&&v.forEach((function(t,e){T([d[c[e]].privateUrl,p[c[e]].privateUrl],(function(t){return r(t,e)}))})),t.abrupt("return",v);case 24:t.next=27;break;case 26:return t.abrupt("return",s);case 27:t.next=32;break;case 29:return t.prev=29,t.t0=t.catch(0),t.abrupt("return",Promise.reject(t.t0));case 32:case"end":return t.stop()}}),t,null,[[0,29]])})));return function(e,n,r){return t.apply(this,arguments)}}(),j=function(t){if(document.cookie.length>0){var e=document.cookie.indexOf(t+"=");if(-1!=e){e=e+t.length+1;var n=document.cookie.indexOf(";",e);return-1==n&&(n=document.cookie.length),unescape(document.cookie.substring(e,n))}}return""},B=x((function(t){t.exports=function(t){if(Array.isArray(t))return t},t.exports.__esModule=!0,t.exports.default=t.exports})),H=x((function(t){t.exports=function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o=[],s=!0,a=!1;try{for(n=n.call(t);!(s=(r=n.next()).done)&&(o.push(r.value),!e||o.length!==e);s=!0);}catch(t){a=!0,i=t}finally{try{s||null==n.return||n.return()}finally{if(a)throw i}}return o}},t.exports.__esModule=!0,t.exports.default=t.exports})),L=x((function(t){t.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},t.exports.__esModule=!0,t.exports.default=t.exports})),M=w(x((function(t){t.exports=function(t,e){return B(t)||H(t,e)||F(t,e)||L()},t.exports.__esModule=!0,t.exports.default=t.exports}))),$=function(t){var e=t.method,n=t.url,r=t.data,i=t.responseType,o=void 0===i?"json":i,s=t.onprogress,a=t.onProgress,u=t.onUploadProgress,l=t.headers,c=t.withCredentials;return new Promise((function(t,i){var h=new XMLHttpRequest;c&&(h.withCredentials=!0),h.open(e,n);var f="function"==typeof a,p="function"==typeof s;(f||p)&&(h.onprogress=function(t){f?a(t):p&&s(t)}),"function"==typeof u&&(h.upload.onprogress=u),l&&Object.entries(l).forEach((function(t){var e=M(t,2),n=e[0],r=e[1];h.setRequestHeader(n,r)})),h.send(r),h.responseType=o,h.onreadystatechange=function(){4===h.readyState&&(200===h.status?t(h.response):i(h.response))}}))},U=function(){var t=_(D.mark((function t(e,n){var r,o,s,a,u,l,c,h,f,p,d,g,v;return D.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=n.ossName,o=void 0===r?"jd":r,s=n.type,a=n.onprogress,u=n.onProgress,l=n.onUploadProgress,c=n.onApplyForToken,h=n.host,f=void 0===h?"www.duitang.com":h,t.prev=1,p=e.type.split("/")[1],d=e.size,g=e.type,(v=new Image).src=URL.createObjectURL(e),t.abrupt("return",new Promise((function(t,n){v.onload=_(D.mark((function r(){var h,m,y,b,w,x,S;return D.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return h=v.width,m=v.height,r.next=4,$({method:"post",url:"https://".concat(f,"/napi/upload/token/photo/v3/"),data:JSON.stringify({type:s,file_type:p,size:d,mime_type:g,width:h,height:m,oss_name:o}),headers:{"content-type":"application/json"},withCredentials:!0}).then((function(t){return t.data})).catch((function(t){return y=t,null}));case 4:(b=r.sent)?(w=b.oss_name,x={key:b.key,photo_width:h,photo_height:m,photo_id:b.photo_id},(S=new FileReader).readAsArrayBuffer(e),S.onload=function(){if("jd"===w)$({url:b.upload_url.replace("http://","https://"),method:"PUT",headers:{"content-type":g},data:S.result,onprogress:a,onProgress:u,onUploadProgress:l}).then((function(){$({method:"POST",data:JSON.stringify({type:s,file_type:p,size:d,mime_type:g,width:h,height:m,photo_id:b.photo_id,key:b.key,hash:i()(S.result)}),headers:{"content-type":"application/json"},url:"https://".concat(f,"/napi/upload/photo/confirm/"),withCredentials:!0}).then((function(e){"function"==typeof c&&c(b),e.data&&t(x)}))})).catch((function(t){n(t)}));else{var r=j("_auth_user_id"),o=new FormData;o.append("file",e),o.append("token",b.token),o.append("x:uid",r),o.append("key",b.key),$({method:"POST",data:o,url:"https://up.qbox.me/",onprogress:a,onProgress:u,onUploadProgress:l}).then((function(){"function"==typeof c&&c(b),t(x)})).catch((function(t){n(t)}))}}):n(y);case 6:case"end":return r.stop()}}),r)})))})));case 10:return t.prev=10,t.t0=t.catch(1),t.abrupt("return",Promise.reject(t.t0));case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,n){return t.apply(this,arguments)}}(),V={dtImageOrigin:u,isDuitangImage:l,dtImageSquare:h,dtImageThumb:f,dtImageSquareNoWebp:d,dtImageThumbNoWebp:g,dtImageNoWebp:p,dtImageThumbOnlyNoWebpForGif:v,dtImageSquareOnlyNoWebpForGif:m,dtThumb:y,dtSquare:b,verifyImageAccessibility:T,getPrivateUrlOfImages:O,uploadImage:U},q=function(t){var e=navigator.userAgent.toLowerCase();return!!t.test(e)},K=function(){return q(/(duitang)/gi)},z=function(){return q(/(naiyoubz)/gi)},G=function(){return K()||z()},W=function(){return q(/(micromessenger)/gi)},Y=function(){return q(/( qq)/gi)&&!q(/( qqbrowser)/gi)},X=function(){return q(/(weibo)/gi)},J=function(){var t=(navigator.userAgent.match(";s?([^;]+?)s?(Build)?/")||[])[1];return!!/\b[M]\d{3}\b/.test(t)||!!/\b[M][X]\d{1}\b/.test(t)},Q=function(){var t=navigator.userAgent.toString().toLowerCase();return/iphone/gi.test(t)?"iphone":/ipad/gi.test(t)?"ipad":/android/gi.test(t)?"android":"other"},Z=function(t){var e=(t||navigator.userAgent).match(/duitang\/([^\s]+)/i);return e?e[1]:null},tt=function(t,e){for(var n=t.split("."),r=e.split("."),i=0;i<n.length&&i<r.length;i++){var o=Number(n[i]),s=Number(r[i]);if(o>s)return 1;if(o<s)return-1}return n.length>r.length?1:n.length<r.length?-1:0},et=function(){return"iphone"===Q()||"ipad"===Q()},nt=function(){return"android"===Q()},rt=function(){return/(?:Windows Phone)/.test(navigator.userAgent)},it=function(){return/(?:SymbianOS)/.test(navigator.userAgent)||rt()},ot=function(){return/(?:Firefox)/.test(navigator.userAgent)},st=function(){return/(?:Chrome|CriOS)/.test(navigator.userAgent)},at=function(){var t=navigator.userAgent;return/(?:iPad|PlayBook)/.test(t)||nt()&&!/(?:Mobile)/.test(t)||ot()&&/(?:Tablet)/.test(t)},ut=function(){return/(?:iPhone)/.test(navigator.userAgent)&&!at()},lt=function(){return!ut()&&!nt()&&!it()},ct=function(){var t,e=navigator.userAgent.toLowerCase(),n=/(jssdk)[ \/]([\w.]+)/.exec(e);return null===n?(t="0",parseFloat(t)):(t=n[2]||"0.1",parseFloat(t))},ht=function(t,e){if("string"!=typeof t||"string"!=typeof e)throw new Error("versionA and versionB must be string in function compareVersion");for(var n=t.split("."),r=e.split("."),i=0;i<n.length&&i<r.length;i++){var o=Number(n[i]),s=Number(r[i]);if(o>s)return 1;if(o<s)return-1}return n.length>r.length?1:n.length<r.length?-1:0},ft=function(){var t=Z("");return[0,1].includes(ht(t||"0.00","8.15"))},pt={testUa:q,isDuiTang:K,isNaiYou:z,isInApp:G,isWeiXin:W,isQQ:Y,isWeiBo:X,isMEIZU:J,getPhoneType:Q,getAppVersion:Z,appVersionCompare:tt,isIos:et,isAndroid:nt,isWindowsPhone:rt,isSymbian:it,isFireFox:ot,isChrome:st,isTablet:at,isPhone:ut,isPc:lt,sdkVersion:ct,isSupportFull:ft};!function(t){t.Object="object",t.Array="array",t.String="string",t.Number="number",t.Function="function",t.Undefined="undefined",t.Null="null",t.Symbol="symbol",t.BigInt="bigInt",t.Map="map",t.Set="set",t.ReadableStream="readableStream",t.FileReader="fileReader",t.Blob="blob",t.HTMLDocument="HTMLDocument",t.Window="window",t.Request="request",t.Response="response",t.Unknown="unknown"}(S||(S={}));var dt,gt=function(t){switch(Object.prototype.toString.call(t)){case"[object Object]":return S.Object;case"[object Array]":return S.Array;case"[object String]":return S.String;case"[object Function]":return S.Function;case"[object Number]":return S.Number;case"[object Undefined]":return S.Undefined;case"[object Null]":return S.Null;case"[object Symbol]":return S.Symbol;case"[object BigInt]":return S.BigInt;case"[object Map]":return S.Map;case"[object Set]":return S.Set;case"[object ReadableStream]":return S.ReadableStream;case"[object FileReader]":return S.FileReader;case"[object Blob]":return S.Blob;case"[object HTMLDocument]":return S.HTMLDocument;case"[object Window]":return S.Window;case"[object Request]":return S.Request;case"[object Response]":return S.Response;default:return S.Unknown}},vt=function(t){return null==t||""===t||gt(t)===S.Array&&0===t.length||gt(t)===S.Object&&0===Object.keys(t).length||gt(t)===S.Set&&0===t.size||gt(t)===S.Map&&0===t.size},mt=function(t){return"object"===I(t)&&!Array.isArray(t)&&null!==t},yt={};function bt(t,e,n){"object"!==I(e)?"function"!=typeof n&&(n=e,e={method:t}):e=vt(e)?{method:t}:{method:t,params:e};var r=JSON.stringify(e);dt?dt.callHandler("duitangSDKHandler",r,(function(t){var e=mt(t)?t:JSON.parse(t);"function"==typeof n&&n(e)})):console.log("sdk is not ready")}yt.isInit=!1;var wt=function(){var t,e="undefined"!=typeof window?window.navigator.userAgent.toLowerCase():"",n=/(jssdk)[ \/]([\w.]+)/.exec(e);return null===n?(t="0",parseFloat(t)):(t=n[2]||"0.1",parseFloat(t))};function xt(t){if(yt.VERSION>=3&&et()){if(window.WebViewJavascriptBridge)return t(window.WebViewJavascriptBridge);if(window.WVJBCallbacks)return window.WVJBCallbacks.push(t);window.WVJBCallbacks=[t];var e=document.createElement("iframe");e.style.display="none",e.src="https://__bridge_loaded__",document.documentElement.appendChild(e),setTimeout((function(){document.documentElement.removeChild(e)}),0)}else window.WebViewJavascriptBridge?t(window.WebViewJavascriptBridge):document.addEventListener("WebViewJavascriptBridgeReady",(function(){window.WebViewJavascriptBridge?t(window.WebViewJavascriptBridge):console.error("WebViewJavascriptBridge is not defined")}),!1)}yt.VERSION=wt(),yt.sdkVersion=wt,yt.cacheData={},yt.init=function(){yt.isInit||(yt.isInit=!0,xt((function(t){dt=t,yt.VERSION>=3&&et()||t.init((function(t,e){e({"Javascript Responds":"init!"})})),t.registerHandler("_callNavtiveHandler",(function(t){var e=mt(t)?t:JSON.parse(t),n=e.method||"",r=e.params||{};switch(n){case"init":yt.cacheData=r.data||{};break;case"postNotification":if("function"==typeof yt.responseNotification)yt.responseNotification(r);else if(Array.isArray(yt.responseNotification))for(var i=yt.responseNotification.length-1;i>=0;i--)yt.responseNotification[i](r);break;case"onNavigationBarRightButtonClick":yt.responseNavigationClick(r);break;case"onNavigationBarButtonsClick":yt.responseNavigationButtonsClick(r)}}))})))},yt.ready=function(t){yt.isInit?G()?xt(t):t():console.error("You must call DtSdk.init first")},yt.notification=function(t,e){bt("postNotification",t,e)},yt.closeUrl=function(t,e){bt("closeURL",t,e)},yt.openUrl=function(t,e){if(G()){var n=window.location.origin;/^[a-zA-Z\d_-]{1,20}\:\/\//i.test(t.url)||(t.url=n+t.url),bt("openURL",t,e)}else window.location.href=t.url},yt.alipay=function(t,e){bt("alipay",t,e)},yt.isLogin=function(t,e){bt("checkLogin",t,e)},yt.login=function(t,e){bt("login",t,e)},yt.setNavigation=function(t,e){bt("setNavigationBarRightButton",t,e)},yt.trc=function(t,e){var n=t.split(",");if(n.length>=3){var r=n[0],i=n[1],o=n.slice(2).join(","),s={};void 0!==i&&(s[i]=o),bt("dtraceEvent",t={name:r,attributes:s},e)}},yt.showAlertInfoView=function(t,e){bt("showAlertInfoView",t,e)},yt.showAlertView=function(t,e){bt("showAlertView",t,e)},yt.socialShare=function(t,e){bt("socialShare",t,e)},yt.blogComment=function(t,e){bt("blogComment",t,e)},yt.blogZan=function(t,e){bt("blogZan",t,e)},yt.blogLike=function(t,e){bt("blogLike",t,e)},yt.blogForward=function(t,e){bt("blogForward",t,e)},yt.blogCreate=function(t,e){bt("blogCreate",t,e)},yt.selectionAlbumFeedback=function(t,e){bt("selectionAlbumFeedback",t,e)},yt.photoBrowse=function(t,e){bt("photoBrowse",t,e)},yt.albumChoose=function(t,e){bt("albumChoose",t,e)},yt.titleChange=function(t,e){bt("titleChange",t,e)},yt.httpRequest=function(t,e){bt("httpRequest",t,e)},yt.wxpay=function(t,e){bt("wxpay",t,e)},yt.dtraceLog=function(t,e){bt("dtraceLog",t,e)},yt.getDeviceInfo=function(t,e){bt("getDeviceInfo",t,e)},yt.setHandleBackButton=function(t,e){bt("setHandleBackButton",t,e)},yt.getAddress=function(t,e){bt("getAddress",t,e)},yt.musicAction=function(t,e){bt("musicAction",t,e)},yt.commentMoreAction=function(t,e){bt("commentMoreAction",t,e)},yt.responseCheckInfo=function(t,e){bt("responseCheckInfo",t,e)},yt.showHtmlDialog=function(t,e){bt("showHtmlDialog",t,e)},yt.hideHtmlDialog=function(t,e){bt("hideHtmlDialog",t,e)},yt.setNavigationButtons=function(t,e){bt("setNavigationBarButtons",t,e)},yt.webPageDidLoad=function(t,e){bt("webPageDidLoad",t,e)},yt.videoAction=function(t,e){bt("videoAction",t,e)},yt.responseNotification=[],yt.responseNavigationButtonsClick=function(){},yt.dismissFullCardView=function(t,e){bt("dismissFullCardView",t,e)},yt.VERSION>=1.6&&(yt.startRecording=function(t,e){bt("startRecording",t,e)},yt.stopRecording=function(t,e){bt("stopRecording",t,e)},yt.topVideoAction=function(t,e){bt("topVideoAction",t,e)}),yt.VERSION>=1.7&&(yt.setTopVideoState=function(t,e){bt("setTopVideoState",t,e)},yt.popKeyboard=function(t,e){bt("popKeyboard",t,e)},yt.closeKeyboard=function(t,e){bt("closeKeyboard",t,e)},yt.commentLongClick=function(t,e){bt("commentLongClick",t,e)},yt.setShopSearchKeyword=function(t,e){bt("setShopSearchKeyword",t,e)}),yt.VERSION>=1.8&&(yt.getTopVideoInfo=function(t,e){bt("getTopVideoInfo",t,e)}),yt.VERSION>=1.9&&(yt.dtraceEventSpreadStart=function(t,e){bt("dtraceEventSpreadStart",t,e)},yt.dtraceEventSpreadEnd=function(t,e){bt("dtraceEventSpreadEnd",t,e)},yt.setRecordSettings=function(t,e){bt("setRecordSettings",t,e)}),yt.VERSION>=2&&(yt.setScrollPosition=function(t,e){bt("setScrollPosition",t,e)}),yt.VERSION>=2.1&&(yt.dismissHomePromotionPage=function(t,e){bt("dismissHomePromotionPage",t,e)}),yt.VERSION>=2.4&&(yt.getNetworkInfo=function(t,e){bt("getNetworkInfo",t,e)},yt.getAppLocation=function(t,e){bt("getAppLocation",t,e)}),yt.VERSION>=2.5&&(yt.keyboardUp=function(t,e){bt("keyboardUp",t,e)}),yt.VERSION>=2.6&&(yt.asyncTaskInspire=function(t,e){bt("asyncTaskInspire",t,e)},yt.setDataToNative=function(t,e){bt("setDataToNative",t,e)},yt.getDataFromNative=function(t,e){bt("getDataFromNative",t,e)}),yt.VERSION>=3&&(yt.viewVideoAd=function(t,e){bt("viewVideoAd",t,e)},yt.viewPopBannerAd=function(t,e){bt("viewPopBannerAd",t,e)},yt.dismissPopBannerAd=function(t,e){bt("dismissPopBannerAd",t,e)}),yt.VERSION>=3.1&&(yt.wechatAuthorization=function(t,e){bt("wechatAuthorization",t,e)}),yt.VERSION>=3.2&&(yt.imagesUpload=function(t,e){bt("imagesUpload",t,e)},yt.mediaDownload=function(t,e){bt("mediaDownload",t,e)}),yt.VERSION>=3.3&&(yt.tiktokShare=function(t,e){bt("tiktokShare",t,e)}),yt.VERSION>=3.4&&(yt.widgetConfig=function(t,e){bt("widgetConfig",t,e)}),yt.VERSION>=3.5&&z()&&(yt.getAuth=function(t,e){bt("getAuth",t,e)}),yt.VERSION>=3.7&&(yt.applePay=function(t,e){bt("applePay",t,e)},yt.alipaySingle=function(t,e){bt("alipaySingle",t,e)}),yt.VERSION>=3.8&&(yt.payment=function(t,e){bt("payment",t,e)}),yt.VERSION>=3.9&&(yt.dtrace=function(t,e){bt("dtrace",t,e)}),yt.VERSION>=4.1&&(yt.getTouristInfo=function(t,e){bt("getTouristInfo",t,e)}),yt.VERSION>=4.2&&(yt.useTemplate=function(t,e){bt("useTemplate",t,e)},yt.imageBase64sWithUrlsUpload=function(t,e){bt("imageBase64sWithUrlsUpload",t,e)}),yt.VERSION>=4.3&&(yt.getTeenModeInfo=function(t,e){bt("getTeenModeInfo",t,e)}),yt.VERSION>=4.3&&z()&&(yt.getDeviceInfoStr=function(t,e){bt("getDeviceInfoStr",t,e)}),yt.VERSION>=4.4&&(yt.findPasswordByPhoneNumber=function(t,e){bt("findPasswordByPhoneNumber",t,e)}),yt.VERSION>=4.5&&(yt.openWatermarkEditor=function(t,e){bt("openWatermarkEditor",t,e)});var St=function(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))},Et=function(t,e){var n=t.x,r=t.y,i=Math.cos(e),o=Math.sin(e);return{x:n*i-r*o,y:r*i+n*o}};function At(t,e,n,r){var i=(e.y-t.y)*(r.x-n.x)-(t.x-e.x)*(n.y-r.y);if(0==i)return!1;var o=((e.x-t.x)*(r.x-n.x)*(n.y-t.y)+(e.y-t.y)*(r.x-n.x)*t.x-(r.y-n.y)*(e.x-t.x)*n.x)/i,s=-((e.y-t.y)*(r.y-n.y)*(n.x-t.x)+(e.x-t.x)*(r.y-n.y)*t.y-(r.x-n.x)*(e.y-t.y)*n.y)/i;return(o-t.x)*(o-e.x)<=0&&(s-t.y)*(s-e.y)<=0&&(o-n.x)*(o-r.x)<=0&&(s-n.y)*(s-r.y)<=0&&{x:o,y:s}}var Ct=function(t,e,n,r,i){if(i=i||0,t===n&&e===r)throw new Error("两点必须构成一条线段");var o,s;if(r<e&&n>t){o=n-t,s=e-r;var a=(o=Math.abs(o))/(s=Math.abs(s));return Math.atan(a)/(Math.PI/180)-i}if(r>e&&n>t){o=n-t,s=r-e,o=Math.abs(o);var u=(s=Math.abs(s))/o;return Math.atan(u)/(Math.PI/180)+90-i}if(r>e&&n<t){o=t-n,s=e-r;var l=(o=Math.abs(o))/(s=Math.abs(s));return Math.atan(l)/(Math.PI/180)+180-i}if(r<e&&n<t){o=t-n,s=e-r;var c=(o=Math.abs(o))/(s=Math.abs(s));return 360-Math.atan(c)/(Math.PI/180)-i}return e===r&&n>t?90-i:e===r&&n<t?270-i:t===n&&r>e?180-i:t===n&&r<e?0-i:void 0};function Ft(t,e,n){var r,i,o;function s(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+6*(e-t)*n:n<.5?e:n<2/3?t+(e-t)*(2/3-n)*6:t}if(0==e)r=i=o=n;else{var a=n<.5?n*(1+e):n+e-n*e,u=2*n-a;r=s(u,a,t+1/3),i=s(u,a,t),o=s(u,a,t-1/3)}return[Math.round(255*r),Math.round(255*i),Math.round(255*o)]}function Pt(t,e,n){t/=255,e/=255,n/=255;var r,i=Math.max(t,e,n),o=Math.min(t,e,n),s=0,a=(i+o)/2;if(i==o)s=r=0;else{var u=i-o;switch(r=a>.5?u/(2-i-o):u/(i+o),i){case t:s=(e-n)/u+(e<n?6:0);break;case e:s=(n-t)/u+2;break;case n:s=(t-e)/u+4}s/=6}return[Math.round(100*s)/100,Math.round(100*r)/100,Math.round(100*a)/100]}var kt={getDistance:St,rotatePoint:Et,segmentsIntr:At,lineIncludedAngle:Ct,hslToRgb:Ft,rgbToHsl:Pt},Tt=function(){return/dev\.duitang\.net|localhost|127\.0\.0\.1|0\.0\.0\.0/.test(window.location.host)},_t=function(){return/-beta\d+\.duitang\.com/.test(window.location.host)},It=function(){return/[a-z]+(?!-beta\d)\.duitang\.com/.test(window.location.host)},Dt=function(){return/[^\.-]+-t\d+\.duitang\.net/.test(window.location.host)},Nt=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"-t000",n=window.location.host,r="",i="";if(/(-t\d+)\./.test(n))r=RegExp.$1,i="test";else if(/dev\.duitang\.net/.test(n))r=e||"-t000",i="dev";else{if(!/(-beta\d)\.duitang/.test(n))return t;r=RegExp.$1,i="beta"}var o=t.split(".");return o[0]+=r+".",o[2]=("beta"===i?".com":".net")+o[2].replace(/^com|^net/,""),o.join("")},Rt=function(t){var e="";e="- "+(e="object"===I(t)?JSON.stringify(t):"string"==typeof t?t:String(t));var n=document.querySelector("#webview-console"),r=document.querySelector("#webview-console-content");if(!n){var i=document.createElement("div");i.setAttribute("id","webview-console"),i.setAttribute("style","position: fixed;left: 0;bottom: 0;width: 100vw;max-height: 50vh;overflow: auto;padding: 20px;font-size: 16px;line-height: 20px;color: #000;background: rgba(255,255,255,0.9);z-index: 9999;border: 1px solid rgba(0,0,0,0.2);box-sizing: border-box;"),(r=document.createElement("div")).setAttribute("id","webview-console-content"),r.setAttribute("style","word-break: break-all;");var o=document.createElement("span");o.setAttribute("style","position: absolute;right: 0;top: 0;padding: 5px;width: 10vw;height: 3vw;font-size: 14px;color: #999;"),o.textContent="clear",i.appendChild(r),i.appendChild(o),document.body.appendChild(i),n=i,o.addEventListener("click",(function(){r.innerHTML=""}))}var s=r.innerHTML;r.innerHTML=s?s+"<br />"+e:e;var a=r.offsetHeight;a>.5*window.innerHeight&&n.scrollBy({left:0,top:a+20,behavior:"smooth"})},Ot=function(t,e){if(null==e)return t;var n=[];for(var r in e){var i=r+"="+e[r];n.push(i)}var o=n.join("&");return o?/\?/.test(t)?t+"&"+o||"":t+"?"+o||"":t},jt=function(t){t||(t=window.location.href);for(var e,n,r={},i=(t=t.split("#").length>1?t.split("#")[1]:t.split("#")[0]).indexOf("?"),o=(i>-1?t.slice(i+1):"").split("&"),s=0;s<o.length;s++){var a=o[s].indexOf("=");if(a>0){e=o[s].slice(0,a),n=o[s].slice(a+1);try{n.indexOf("+")>-1&&(n=n.replace(/\+/g," ")),r[e]=decodeURIComponent(n)}catch(t){console.error(t)}}}return r},Bt=function(t,e,n){t||(t=window.location.href);var r=new RegExp("([&\\?])"+e+"=[^& ]*","g"),i=(t=t.replace(r,(function(t,e){return"?"==e?"?":""}))).indexOf("?");return t.indexOf("#")<0&&(t=(i>-1?i+1!=t.length?t+"&":t+"":t+"?")+e+"="+n),t},Ht=function(t,e){t||(t=window.location.href);var n=new RegExp("\\?"+e+"(=[^&]*)?"),r=new RegExp("\\&"+e+"(=[^&]*)?");return t.replace(n,"?").replace(r,"").replace(/\?&/,"?").replace(/\?$/,"")},Lt=function(t,e,n){if(t=t||"",window._digy&&t)if(n=n||"",(e=e||"")&&n){if(e){var r=t+","+e+","+("object"===I(n)?JSON.stringify(n):n);window._digy.push(r)}}else window._digy.push(t)},Mt=function(t,e,n,r){window._hmt&&window._hmt.push(["_trackEvent",t,e,n,r]),window._digy&&window._digy.push(t+","+e+","+n+(r||""))},$t=function(t){if([/^[a-z]+-beta\d\.duitang\.com/,/^[a-z]+-t\d+\.duitang\.net/,/^dev\.duitang\.net/,/^localhost/,/^0\.0\.0\.0/,/^127\.0\.0\.1/].concat(k(t||[])).some((function(t){return t.test(window.location.host)}))&&!document.querySelector("#".concat("tool-unique-symbol"))){var e=document.createElement("script");return e.setAttribute("id","tool-unique-symbol"),e.src="https://dt-static.s3.cn-east-2.jdcloud-oss.com/static/eruda.js",document.head.appendChild(e),e.onload=function(){window.eruda.init()},!0}return!1},Ut={isDev:Tt,isBeta:_t,isProd:It,isTest:Dt,transformUrlToCurrentEnv:Nt,webviewConsole:Rt,createUrlWithQuery:Ot,getParams:jt,addParam:Bt,removeParam:Ht,getCookie:j,digy:Lt,digyAndHm:Mt,useDevTool:$t},Vt=function(t){return null!=t&&!Number.isNaN(t)},qt=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1?arguments[1]:void 0;if(isNaN(Number(t))||!e)throw new Error("getTimeWithMillisecond参数有误");var n=1;switch(e){case"second":n=1e3;break;case"minute":n=6e4;break;case"hour":n=36e5;break;case"day":n=864e5;break;case"month":n=2592e6;break;case"year":n=31104e6}return(new Date).getTime()+t*n},Kt=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,n=Number(t),r=Number(e);if(isNaN(n)||isNaN(r))return console.error('keepDecimal needs number as arguments, but got "'.concat(t,'" "').concat(e,'"')),t;var i=Number(n.toFixed(r));return isNaN(i)?(console.error("keepDecimal occurred a error, related information: { number: ".concat(n,", decimal: ").concat(r,", result: ").concat(i," }")),t):i},zt=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:750,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=window.innerWidth;if("number"==typeof t){var i=Kt(t/e*r);return n?i+"px":i}return t},Gt=function(t,e){return new Promise((function(n,r){var i=new window.Image;i.onload=function(){n({image:i,aspectRatio:i.width/i.height})},i.onabort=function(t){r(t)},i.onerror=function(t){r(t)},i.src=t,i.crossOrigin="Anonymous",e&&Object.entries(e).forEach((function(t){var e=M(t,2),n=e[0],r=e[1];i[n]=r}))}))},Wt=function(t,e,n){e=e||20;var r=(n||{}).loosely,i=void 0===r||r,o=!1,s=null;return function n(){for(var r=arguments.length,a=new Array(r),u=0;u<r;u++)a[u]=arguments[u];o?i||(s={params:a,timestamp:(new Date).getTime()}):(o=!0,"function"==typeof t&&t.apply(void 0,a),setTimeout((function(){if(o=!1,s){var t=s.params;s=null,n.apply(void 0,k(t))}}),e))}},Yt=function(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=!0,o=r.allowInitial;return function(){for(var r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];e&&clearTimeout(e),o&&i?(t.apply(void 0,s),i=!1):e=window.setTimeout((function(){t.apply(void 0,s),i=!0}),n)}},Xt=function(t){var e=!1;return function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];e||(e=!0,requestAnimationFrame((function(){"function"==typeof t&&t.apply(void 0,r),e=!1})))}},Jt=function(t){if(Number(t))return{number:Number(t),unit:""};if("string"==typeof t){var e=parseFloat(t);if(Number(e)){var n=t.lastIndexOf(e+"")+(e+"").length;return{number:e,unit:t.slice(n)}}throw new Error("".concat(t," can not be converted to number"))}throw new Error("0 of param in separateNumberAndUnit should be string or number")},Qt=function(){return void 0!==("undefined"==typeof window?"undefined":I(window))?window.devicePixelRatio:1},Zt=function(t,e){if(!Vt(e))return{result:!1,message:"error: validateValue is not exist"};var n="",r=[],i=0,o=null;try{if(Object.entries(t).some((function(t){var s=M(t,2),a=s[0],u=s[1];if(n=a,r=u,Array.isArray(u))return u.some((function(t,n){if(i=n,"string"==typeof t)return!1;if(void 0===e[a]||null===e[a])return!0;if("function"==typeof t)return e[a].constructor!==t;if(!0===t){var r=e[a];return Array.isArray(r)?0===r.length:!("number"!=typeof r||!isNaN(r))||!r}}));if("function"!=typeof u)return!0;try{return!u(e[a],e)}catch(t){return o=t,!0}}))){if(o)throw o;var s="string"==typeof r[i+1]?r[i+1]:r[r.length-1];if("string"==typeof s)throw new Error(s);throw new Error("prop '".concat(n,"' is invalid"))}return{result:!0}}catch(t){return{result:!1,message:"".concat(t)}}},te=function(t,e){e=e||1500;var n=document.createElement("div");n.textContent=t,n.setAttribute("style","\n        position: fixed;\n        display: flex;\n        justify-content: center;\n        align-items: flex-start;\n        z-index: 999999;\n        left: 50%;\n        top: 48%;\n        transform: translate(-50%, -50%);\n        padding: 2.6vw;\n        background-color: rgba(0, 0, 0, 1);\n        border-radius: 2.5vw;\n        opacity: 0.8;\n        font-size: 4vw;\n        font-family: STHeitiSC-Light, STHeitiSC;\n        font-weight: 300;\n        color: rgba(255, 255, 255, 1);\n        max-height: 90vh;\n        box-sizing: border-box;\n        line-height: 4.5vw;\n        text-align: center;\n        overflow: hidden;"),document.body.appendChild(n),setTimeout((function(){n.remove()}),e)},ee=function(t){var e=!1;try{var n=document.createElement("textarea");n.style.opacity="0",n.value=t,n.setAttribute("readonly","true"),document.body.appendChild(n),n.select(),document.execCommand("copy")?(te("复制成功"),e=!0):e=!1,n.remove()}catch(t){e=!1}return e},ne=function(){var t,e,n,r,i;return function(){var o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return t=o,e=s,new Promise((function(o,s){r=o,i=s,document.querySelector("#upload-picture-form")||((n=document.createElement("input")).setAttribute("type","file"),n.setAttribute("accept","image/*"),n.setAttribute("id","upload-picture-form"),n.style.display="none",n.addEventListener("change",function(){var n=_(D.mark((function n(){var o,s,a;return D.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(o=Array.from(this.files),s=o.length,t<=s&&s<=e){n.next=6;break}return te(t!==e?"选择图片的数量必须是".concat(t,"到").concat(e,"个"):"选择图片的数量必须是".concat(t,"个")),i(!1),n.abrupt("return");case 6:return n.next=8,Promise.all(o.map((function(t){return new Promise((function(e){var n=new FileReader;n.addEventListener("load",(function(){e(n.result)})),t&&n.readAsDataURL(t)}))}))).catch((function(){i(!1)}));case 8:a=n.sent,r({files:o,urls:a});case 10:case"end":return n.stop()}}),n,this)})));return function(t){return n.apply(this,arguments)}}()),document.body.appendChild(n)),1!==e?n.setAttribute("multiple","multiple"):n.removeAttribute("multiple"),n.click()}))}}(),re=function(t,e){return new Promise((function(n,r){fetch(t,e).then((function(t){t.blob().then((function(t){var e=new FileReader;e.onload=function(t){n(t.target.result)},e.readAsDataURL(t)}))})).catch((function(t){r(t)}))}))},ie=function(t){for(var e=t.split(",")[0].split(":")[1].split(";")[0],n=atob(t.split(",")[1]),r=new ArrayBuffer(n.length),i=new Uint8Array(r),o=0;o<n.length;o++)i[o]=n.charCodeAt(o);return new Blob([i],{type:e})}},function(t,e,n){"use strict";e.__esModule=!0;var r=s(n(266)),i=s(n(275)),o="function"==typeof i.default&&"symbol"==typeof r.default?function(t){return typeof t}:function(t){return t&&"function"==typeof i.default&&t.constructor===i.default&&t!==i.default.prototype?"symbol":typeof t};function s(t){return t&&t.__esModule?t:{default:t}}e.default="function"==typeof i.default&&"symbol"===o(r.default)?function(t){return void 0===t?"undefined":o(t)}:function(t){return t&&"function"==typeof i.default&&t.constructor===i.default&&t!==i.default.prototype?"symbol":void 0===t?"undefined":o(t)}},function(t,e){var n=t.exports={version:"2.6.11"};"number"==typeof __e&&(__e=n)},function(t,e,n){"use strict";o(n(39));var r=n(213),i=o(n(107));function o(t){return t&&t.__esModule?t:{default:t}}var s=n(38);n(301),function(){var t=!1,e=null;if(s&&s.PopOut){var n=$.browser.msie,o=(n&&$.browser.version,n&&$.browser.version,n&&"8.0"===$.browser.version);n&&$.browser.version;$.extend(s.PopOut,{login:function(n){var s=$("#poplogin"),u=$.G.store(),l=n;l||(l=location.pathname+encodeURIComponent(location.search)+location.hash),s.find("[name=next]").val(l),u.length||(u=$('<div id="win-house" class="h0"></div>').appendTo("body")),s.length||(s=$('<div id="poplogin">\n          <div class="login">\n            <div class="cont">\n              <form id="dt-form-login" method="POST" action="/login/?action=login&next='+l+'" method="POST" target="_self">\n                <div class="dt-form-wrapper">\n                  <div class="dt-unme cnt-i">\n                    <label>手机号/昵称/邮箱：</label>\n                    <input type="text" id="p-username" name="login_name"/>\n                  </div>\n                  <div class="dt-overseas cnt-i">\n                    <label>输入手机号：</label>\n                    <div class="phone-number-wrap">\n                      <div id="choose-country">\n                        <p class="country-code">+86</p>\n                      </div>\n                      <input type="text" name="login_overseas">\n                    </div>\n                  </div>\n                  <div class="dt-pswd cnt-i">\n                    <label>输入密码：</label>\n                    <input type="password" id="p-password" name="pswd"/>\n                    <a href="/getpasswd/" class="pswd-forget">忘记密码？</a>\n                  </div>\n                  <div class="u-chk">\n                    <div class="u-chk-remenber-me">\n                      <input class="chk" type="checkbox" name="remember" id="poplogin-rem" value="" checked />\n                      <label for="poplogin-rem" >记住我</label>\n                    </div>\n                    <div class="u-chk-change-way">\n                      <a class="pg-overseas" href="javascript:;">切换至手机号登录</a>\n                      <a class="pg-username" href="javascript:;">切换至邮箱账号登录</a>\n                    </div>\n                  </div>\n                </div>\n\n                <div class="dt-form-submit">\n                  <div class="submit">\n                    <a class="abtn" href="javascript:;" onmousedown="$.G.gaq(\'/_trc/Login/pop/direct\');" id="loginbtn">\n                      <button type="submit" class="pg-loginbtn"><u>登录</u></button>\n                    </a>\n                  </div>\n\n                  <div class="pg-reg">\n                    <a class="qqsite" href="/connect/qq/?action=login&next='+l+'" onmousedown="$.G.gaq(\'/_trc/Login/pop/connect_qq\');">\n                      <i class="pg-QQ"></i>\n                      <span>QQ登录</span>\n                    </a>\n                    <a class="weibo" href="/connect/sina/?action=login&next='+l+'" onmousedown="$.G.gaq(\'/_trc/Login/pop/connect_sina\');">\n                      <i class="pg-weibo"></i>\n                      <span>微博登录</span>\n                    </a>\n                    <a class="taobao" href="/connect/wechatweb/?action=wechatpp_login&next='+l+'" onmousedown="$.G.gaq(\'/_trc/Login/pop/connec t_wechat\');">\n                      <i class="pg-wechat"></i>\n                      <span>微信登录</span>\n                    </a>\n                  </div>\n                </div>\n              </form>\n\n            </div>\n            <div class="sites">\n              <div class="sites-qrcode">\n                <img style="width: 150px;" src="https://c-ssl.dtstatic.com/uploads/people/201909/02/20190902180424_ChiTQ.png">\n                <p>扫一扫下载手机客户端</p>\n                <p>浏览体验更佳</p>\n              </div>\n            </div>\n          </div>\n          <div class="toreg">\n            <a href="/reg/phone/?next='+l+'">还没有账号?立即注册</a>\n          </div>\n        </div>'),u.append(s),e=new i.default({onSuccess:function(){!function(n){var i=$("#dt-form-login"),o=i.serializeObject();if(o.remember=i.find("input[name=remember]").prop("checked"),o.next=n||$("#dt-login").data("next")||"/",o.rid=e.rid,t){var s=i.find(".country-code").text().replace("+",""),a=function(t,e){return"86"==e?t:e+"_"+t}(o.login_overseas,s);o.login_name=a,delete o.login_overseas}else delete o.login_overseas;(0,r.cipherLogin)(o,(function(t,e){if(1===t.status&&t.data&&t.data.next){var n=decodeURIComponent(t.data.next);/#/.test(n)||console.log("next",n),window.location.reload()}else 1!==t.status&&(window.location.href="/login/")}))}(l)}}),$("#dt-form-login").submit((function(t){t.preventDefault();var n=$("#dt-form-login").serializeObject(),r=n.login_name,i=n.pswd;r&&i&&(e.instance.reset(),e.instance.verify())})),function(){var e=$("#dt-form-login"),n=e.find(".phone-number-wrap");e.find(".dt-unme"),e.find(".overseas-wrap");e.find(".pg-overseas").on("click",(function(){a(t=!0)})),e.find(".pg-username").on("click",(function(){a(t=!1)})),$(document).on("click",(function(t){var e=$(".phone-number-wrap");e.is(t.target)||0!==e.has(t.target).length||e.find(".country-list").hide()})),$.ajax({type:"GET",url:"/napi/phone/check/rules/"}).done((function(t){if(1===t.status){var e=t.data.object_list,r=$('<ul class="country-list"></ul>');$.each(e,(function(t,e){var n='<li data-simpleName="'+e.simple_name+'">'+e.name+"<span>+"+e.code+"</span></li>";$(n).appendTo(r)})),r.appendTo($(".phone-number-wrap")),r.on("click","li",(function(){var t=$(this),e=n.find(".country-code");t.data("simplename");e.text(t.find("span").text()),n.find(".country-list").hide()}))}})),e.find("#choose-country").on("click",(function(){e.find(".country-list").show()}))}());var c=$("#p-username, #p-password");if(c.length&&void 0===c.get(0).placeholder){var h=$("#poplogin").find("i");h.css("display","block"),h.click((function(t){$(this).css("display","none"),$(this).siblings("input").focus()})),c.focusin((function(t){$(this).siblings("i").css("display","none")})),c.focusout((function(t){""===$.trim(this.value)&&$(this).siblings("i").css("display","block")})),o&&c.keydown((function(t){13==t.keyCode&&$.trim($("#p-username").val())&&$.trim($("#p-password").val())&&(t.preventDefault(),t.stopPropagation(),s.find("form").submit())}))}this.alert(["登录",s,""],2),$({}).delay(100).queue((function(){var t=$("#p-username");t&&t.focus()}))}})}function a(t){var e=$("#dt-form-login");t?(e.find(".dt-unme").hide(),e.find(".dt-overseas").css("display","flex"),e.find(".pg-overseas").hide(),e.find(".pg-username").css("display","flex")):(e.find(".dt-unme").css("display","flex"),e.find(".dt-overseas").hide(),e.find(".pg-overseas").css("display","flex"),e.find(".pg-username").hide())}}(),t.exports=s},,function(t,e,n){t.exports={default:n(288),__esModule:!0}},function(t,e,n){var r=n(20),i=n(7),o=n(55),s=n(56),a=n(62),u=function(t,e,n){var l,c,h,f=t&u.F,p=t&u.G,d=t&u.S,g=t&u.P,v=t&u.B,m=t&u.W,y=p?i:i[e]||(i[e]={}),b=y.prototype,w=p?r:d?r[e]:(r[e]||{}).prototype;for(l in p&&(n=e),n)(c=!f&&w&&void 0!==w[l])&&a(y,l)||(h=c?w[l]:n[l],y[l]=p&&"function"!=typeof w[l]?n[l]:v&&c?o(h,r):m&&w[l]==h?function(t){var e=function(e,n,r){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(e);case 2:return new t(e,n)}return new t(e,n,r)}return t.apply(this,arguments)};return e.prototype=t.prototype,e}(h):g&&"function"==typeof h?o(Function.call,h):h,g&&((y.virtual||(y.virtual={}))[l]=h,t&u.R&&b&&!b[l]&&s(b,l,h)))};u.F=1,u.G=2,u.S=4,u.P=8,u.B=16,u.W=32,u.U=64,u.R=128,t.exports=u},,,,function(t,e,n){"use strict";var r,i,o,s,a=n(6);(o=a)&&o.__esModule;n(215),s=function(t){var e=t,n={hmt:function(t){for(var n=t.split("/"),r=n.length,i=["_trackEvent"],o=0;o<r;o++){var s=e.trim(n[o]);s&&"_trc"!=s&&i.push(s)}i.length>1&&"undefined"!=typeof _hmt&&_hmt&&(i[2]&&(i[2]=i[1]+"_"+i[2]),_hmt.push(i))},gaq:function(t){},isRedirect:function(t){return(t=t.split("?")[0]).indexOf("/dj/go2/")>-1||t.indexOf("/redirect/")>-1},store:function(t){var n=e("#win-house");return n.length||(n=e('<div id="win-house" class="h0"></div>').appendTo("body")),t&&n.append(t),n},getUSERID:function(){return"undefined"!=typeof USER&&USER.ID?parseInt(USER.ID):""},isSTAFF:function(){return!("undefined"==typeof USER||!USER.ISSTAFF)},scrollToAnchor:function(t,n){n=n||0,e(window);var r=e("body,html"),i=e("a[name="+t+"]"),o=i.offset().top-n||0;(t&&i.length||window.ActiveXObject&&!window.XMLHttpRequest)&&r.animate({scrollTop:o},200)},dtImageTrans:function(t,n,r,i,o){var s=e.trim(t).replace(/^http(s)?:\/\//gi,""),a=(s=s.split("/"))[0];return s=s[1],-1==a.indexOf("duitang.com")||!s||"uploads"!=s&&"misc"!=s?t:n?(r=r||0,i=i||0,o=o?"_"+o:"",this.dtImageTrans(t).replace(/(\.[a-z_]+)$/gi,".thumb."+r+"_"+i+o+"$1")):t.replace(/(?:\.thumb\.\w+|\.[a-z]+!\w+)(\.[a-z_]+)$/gi,"$1").replace(/https?:\/\/[^\/]+/,"https://c-ssl.dtstatic.com").replace(/_webp$/i,"")},removeParam:function(t,e){var n=new RegExp("\\?"+e+"(=[^&]*)?"),r=new RegExp("\\&"+e+"(=[^&]*)?");return t.replace(n,"?").replace(r,"").replace(/\?&/,"?").replace(/\?$/,"")},getParams:function(t){var e,n,r,i={},o=(t=t.split("#")[0]).indexOf("?"),s=(o>-1?t.substr(o+1):"").split("&");for(r=0;r<s.length;r++){var a=s[r].indexOf("=");if(a>0){e=s[r].substring(0,a),n=s[r].substr(a+1);try{n.indexOf("+")>-1&&(n=n.replace(/\+/g," ")),i[e]=decodeURIComponent(n)}catch(t){}}}return i},addParam:function(t,e,n){var r=new RegExp("([&\\?])"+e+"=[^& ]*","g"),i=(t=t.replace(r,(function(t,e){return"?"==e?"?":""}))).indexOf("?");return t+=(i>-1?i+1!=t.length?"&":"":"?")+e+"="+n},isFromDomain:function(t){t=(t=(t=(t=t.replace("http://","").replace("https://","")).split("?"))[0].split("/"))[0];for(var e=1;e<arguments.length;e++)if(t.indexOf(arguments[e])>-1)return!0;return!1},mergeServerMessage:function(t){var n="";if(e.isArray(t)){for(var r=0;r<t.length;r++)e.isArray(t[r])&&(n+=(t[r][1]||t[r][0]||"")+","),n+=t[r]+";";n=n.slice(0,-1)}else if(e.isPlainObject(t)){for(var i in t)n+=t[i].toString()+";";n=n.slice(0,-1)}else n=t;return n||""},setCookie:function(t,n){e.Bom.setSubCookie("sg",t,n)},setDayCookie:function(t,n){e.Bom.setSubCookie("sgd",t,n,{expires:1})},setWeekCookie:function(t,n){e.Bom.setSubCookie("sgw",t,n,{expires:7})},setMonthCookie:function(t,n){e.Bom.setSubCookie("sgm",t,n,{expires:30})},setYearCookie:function(t,n){e.Bom.setSubCookie("sgy",t,n,{expires:365})},isLink:function(t){return!!t.match(/^https?:\/\/(?:[\w-]+\.)+[\w-]+(?:\:\d+)?(?:\/[^ \t\n]*)?$/gi)},trimLink:function(t,e){return t.replace(/https?:\/\/(?:[\w-]+\.)+[\w-]+(?:\:\d+)?(?:\/[^ \t\n]*)?/gi,(function(t){return e?'<a href="'+t+'" target="_blank">'+t+"</a>":""}))},getCookie:function(t){return e.Bom.getSubCookie("sg",t)},getDayCookie:function(t){return e.Bom.getSubCookie("sgd",t)},getWeekCookie:function(t){return e.Bom.getSubCookie("sgw",t)},getMonthCookie:function(t){return e.Bom.getSubCookie("sgm",t)},getYearCookie:function(t){return e.Bom.getSubCookie("sgy",t)},blinkIt:function(t,n,r,i,o){o=o||1e3,0!==i?(e.isFunction(t)&&t(),window.setTimeout((function(){e.G.blinkIt(n,t,r,--i,o)}),o)):r()},bindChecks:function(t,n,r,i,o,s){var a="input[type=checkbox],[checked],[checked=false]",u=e(t),l=e(n);function c(t){var n,r=[],i=l.find(a);t.prop("checked")?(i.each((function(t,n){var i=e(n),o=i.attr("value");i.prop("checked",!0),void 0!==o&&i.attr("dvalue",o),r.push(i.attr("dvalue"))})),u.prop("checked",!0).add(i).addClass("checked")):(i.each((function(t,n){e(n).prop("checked",!1)})),u.prop("checked",!1).add(i).removeClass("checked")),n=e.trim(r.join(" ")).replace(/ /gi,","),u.attr("dvalue",n),u.filter("[type=checkbox]").val(n)}r?u.prop("checked",!0):void 0!==r?u.prop("checked",!1):"true"==u.attr("dchecked")?u.prop("checked",!0):u.prop("checked")||u.prop("checked",!1),c(u),"checkbox"!=u.attr("type")&&u.click((function(t){var n=!0;e.isFunction(i)&&(n=i()),n&&u.prop("checked",!u.prop("checked"))})),u.click((function(t){t.stopPropagation();var n=e(this),r=!0;e.isFunction(i)&&(r=i.call(this,u,l,a)),r&&(c(n),e.isFunction(o)&&o.call(this,u,l,a))})),l.delegate(a,"click",(function(t){t.stopPropagation();var n=e(this);"checkbox"!=n.attr("type")&&n.prop("checked",!n.prop("checked"));var r,i=e.trim(u.attr("dvalue")),o=i?i.split(","):[],c=n.attr("value");void 0!==c&&n.attr("dvalue",c),c=n.attr("dvalue"),o=e(o).filter((function(t,e){return e!==c})).get();var h=n.prop("checked");h?(o.push(c),n.addClass("checked")):n.removeClass("checked"),r=e.trim(o.join(" ")).replace(/ /gi,","),u.attr("dvalue",r),"checkbox"==u.attr("type")&&u.val(r),e.isFunction(s)&&s.call(this,u,l,a,h)}))},getNum:function(t){return t&&+t.replace(/^[^\d]*(\d+\.?\d*).*/,"$1")||0},getFitSize:function(t,e){if(t[0]&&t[1]&&e[0]&&(e[1]||(e[1]=e[0]),t[0]>e[0]||t[1]>e[1])){var n=t[0]/t[1];return n>=e[0]/e[1]?[e[0],parseInt(e[0]/n)]:[parseInt(e[1]*n),e[1]]}return t}};return Date.prototype.pattern=function(t){var e={"M+":this.getMonth()+1,"d+":this.getDate(),"h+":this.getHours()%12==0?12:this.getHours()%12,"H+":this.getHours(),"m+":this.getMinutes(),"s+":this.getSeconds(),"q+":Math.floor((this.getMonth()+3)/3),S:this.getMilliseconds()};for(var n in/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(this.getFullYear()+"").substr(4-RegExp.$1.length))),/(E+)/.test(t)&&(t=t.replace(RegExp.$1,(RegExp.$1.length>1?RegExp.$1.length>2?"星期":"周":"")+{0:"日",1:"一",2:"二",3:"三",4:"四",5:"五",6:"六"}[this.getDay()+""])),e)new RegExp("("+n+")").test(t)&&(t=t.replace(RegExp.$1,1==RegExp.$1.length?e[n]:("00"+e[n]).substr((""+e[n]).length)));return t},String.prototype.lenB||(String.prototype.lenB=function(){return this.replace(/[^\x00-\xff]/g,"**").length}),String.prototype.leftB||(String.prototype.leftB=function(t){var e=this,n=e.slice(0,t),r=n.replace(/[^\x00-\xff]/g,"**").length;if(r<=t)return n;switch(r-=n.length){case 0:return n;case t:return e.slice(0,t>>1);default:var i=t-r,o=e.slice(i,t),s=o.replace(/[\x00-\xff]/g,"").length;return s?e.slice(0,i)+o.leftB(s):e.slice(0,i)}}),String.prototype.cut||(String.prototype.cut=function(t,e,n){var r,i=this;return(r=n?i.substr(0,t):i.leftB(t))==i?r:r+(void 0===e?"…":e)}),window.Gtools=n,t&&(t.G=window.Gtools,window.$=e||t),window.Gtools},r=[n(0)],void 0===(i=function(t){return s(t)}.apply(e,r))||(t.exports=i)},,,function(t,e,n){var r;void 0===(r=function(){return window.document}.call(e,n,e,t))||(t.exports=r)},function(t,e,n){var r,i;r=[n(232)],void 0===(i=function(){}.apply(e,r))||(t.exports=i)},function(t,e){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(t,e,n){var r=n(133)("wks"),i=n(106),o=n(20).Symbol,s="function"==typeof o;(t.exports=function(t){return r[t]||(r[t]=s&&o[t]||(s?o:i)("Symbol."+t))}).store=r},function(t,e,n){"use strict";var r,i,o,s,a=n(6);(i=a)&&i.__esModule;n(348),s=function(){return{popupMsg:function(t,e){var n=document.body,r=document.getElementById("pop-center-mask");r||((r=document.createElement("div")).setAttribute("id","pop-center-mask"),n.appendChild(r));var i=document.getElementById("pop-center-msg");i||((i=document.createElement("div")).setAttribute("id","pop-center-msg"),n.appendChild(i)),r.setAttribute("style","display:block"),i.setAttribute("style","display:block");var o="";"loading"==e&&(o+='<div class="pop-center-msg-loading"><div class="pop-center-loading-wrap"><div class="pop-center-loading-inner" ><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div><div></div></div></div></div>'),o+='<div class="pop-center-words">'+t+"</div>",i.innerHTML=o},popupMsgLoading:function(t){this.popupMsg(t,"loading")},popupClose:function(){var t=document.getElementById("pop-center-mask"),e=document.getElementById("pop-center-msg");t.setAttribute("style","display:none"),e.setAttribute("style","display:none")},popupMsgThenClose:function(t){if(t){var e=this;e.popupMsg(t),setTimeout((function(){e.popupClose()}),1500)}},popMsgThenClose:function(t){this.popupMsgThenClose(t)}}},o=(o=void 0)||{},void 0===(r=function(){return o.DtPop=s()}.apply(e,[]))||(t.exports=r)},,,,,,,,,,,,,,,function(t,e,n){t.exports=!n(61)((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},function(t,e,n){"use strict";var r=n(0);n(143);var i=function(){var t=r.browser.msie,e=(r.browser.mozilla,t&&"6.0"===r.browser.version);t&&r.browser.version,t&&r.browser.version,t&&r.browser.version,r.browser.opera;return{PopOut:{fnCloseMask:function(){this.closeMask()},poptorylen:10,poptory:[],WD:[400,484,660],STR:['<a href="javascript:;" target="_self" class="pt-close abtn l"><button type="button"><u>关闭</u></button></a>','<a href="javascript:;" target="_self" class="pt-close abtn l"><button type="button"><u>取消</u></button></a>'],go:function(t){var e;if(!((t=-t)<0||t>9)&&(e=this.poptory[t])){var n=this.setCont([e.head,e.cont],e.n);this.blockPop(n,e.n,e.ht,e.opt)}},alert:function(t,e,n){var i=this;e=(e="s"===e?0:"m"===e?1:"l"===e?2:e)||0,i.WD,r.G.store(),"string"!==r.type(t)&&"number"!==r.type(t)||(t=["",t+""]),t[0]=t[0],t[1]=t[1]||"";var o="string"===r.type(t[1]),s=i.setCont(t,e),a=s.outerHeight();if(o){var u=s.html();s.remove(),s='<div class="mask-body width-full">'+u+"</div>"}else i.poptory=[{head:t[0],cont:r(t[1]),n:e,ht:a,opt:n}].concat(i.poptory),i.poptory.length=i.poptorylen;i.bindClose(),i.blockPop(s,e,a,n)},setCont:function(t,e){var n,i,o=this.WD,s=r.G.store();return n=null==t[0]?"":r('<div class="tt-s"><span>'+t[0]+'</span><a class="mask-close" target="_self" href="javascript:;">关闭</a></div>'),(i=r('<div class="mask-body"></div>').css("width",o[e]).appendTo(s)).append(n).append(r('<div class="mask-cont"></div>').append(t[1])),i},blockPop:function(t,e,n,i){var o,s,a,u=this.WD,l=r.G.store(),c=!1;"fixed"===(i=r.extend({position:"fixed"},i)).position?c=!0:(s=(o=r(window)).scrollTop(),a=o.height()),r.blockUI({message:t,baseZ:9e3,focusInput:!i||void 0===i.focus||i.focus,onUnblock:function(){l.find(".mask-cont:empty").closest(".mask-body").remove(),i&&r.isFunction(i.fn)&&i.fn()},css:{position:i.position,top:c?"50%":s,left:"50%",textAlign:"left",marginLeft:-u[e]/2,marginTop:c?-n/2-20:n>=a?0:(a-n)/2,width:u[e],height:n,border:"none",background:"none",cursor:"default"},overlayCSS:{cursor:"default"},fadeIn:r(".blockOverlay:visible").length?0:200}),e<1&&this.setOverLay()},setOverLay:function(){if(!e){var t=r("div.blockPage"),n=t.outerWidth(),i=t.outerHeight(),o=parseInt(t.css("marginTop")),s=parseInt(t.css("marginLeft"));r("div.blockOverlay").css({width:n+24,height:i+24,top:"50%",left:"50%",marginTop:o-12,marginLeft:s-12,"border-radius":"8px","-moz-border-radius":"8px","-webkit-border-radius":"8px"})}},bindClose:function(){r(document).on("click",".mask-close",(function(){i.PopOut.closeMask()}))},closeMask:function(){r.unblockUI()}}}}();window.SUGAR=i,t.exports=i},function(t,e,n){t.exports={default:n(289),__esModule:!0}},,function(t,e,n){var r,i;r=[n(3),n(18),n(182),n(183)],void 0===(i=function(t,e,n){var r,i=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,o=t.fn.init=function(o,s,a){var u,l;if(!o)return this;if(a=a||r,"string"==typeof o){if(!(u="<"===o[0]&&">"===o[o.length-1]&&o.length>=3?[null,o,null]:i.exec(o))||!u[1]&&s)return!s||s.jquery?(s||a).find(o):this.constructor(s).find(o);if(u[1]){if(s=s instanceof t?s[0]:s,t.merge(this,t.parseHTML(u[1],s&&s.nodeType?s.ownerDocument||s:e,!0)),n.test(u[1])&&t.isPlainObject(s))for(u in s)t.isFunction(this[u])?this[u](s[u]):this.attr(u,s[u]);return this}return(l=e.getElementById(u[2]))&&l.parentNode&&(this.length=1,this[0]=l),this.context=e,this.selector=o,this}return o.nodeType?(this.context=this[0]=o,this.length=1,this):t.isFunction(o)?void 0!==a.ready?a.ready(o):o(t):(void 0!==o.selector&&(this.selector=o.selector,this.context=o.context),t.makeArray(o,this))};return o.prototype=t.fn,r=t(e),o}.apply(e,r))||(t.exports=i)},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e,n){"use strict";var r=n(0),i=function(){function t(t,e){for(var n=r("a",t),i=[],o=0;o<n.length&&o<12;o++){var s=r.trim(n[o].innerHTML);i.push(s)}var a=r(e).val(),u=!1;n.each((function(t,e){var n=r(e),o=r.trim(n.text()),s=-1!=r.inArray(o,i);(" "+a+" ").match(new RegExp("\\s"+o+"\\s","ig"))?(r(e).addClass("added"),!u&&s&&(u=!0)):r(e).removeClass("added")})),u&&n.each((function(t,e){var n=r(e),o=r.trim(n.text()),s=-1!=r.inArray(o,i);u&&s&&r(e).addClass("added")}))}function e(t,e){var n=[];r.isArray(e)&&(r(e).each((function(t,e){"|"!==e&&n.push('<a href="#"><i>'+e+"</i></a>")})),r(t).find("a").remove(),r(t).append(n.slice(0,20).join("")))}return{setIptFocus:function(t){r(t).focus((function(e){var n=e.target;n.style.color="#333",n.value="",r(t).unbind("focus",arguments.callee)}))},setLabelIptFocus:function(t,e){function n(){""!==r.trim(r(t).val())?(clearTimeout(r(e).data("timer")),r(e).css("display","none")):r(e).data("timer",setTimeout((function(){r(e).css("display","block")}),150))}r(t).bind("blur",(function(t){n()})).bind("focus click",(function(){clearTimeout(r(e).data("timer")),r(e).css("display","none")})),n()},resetTags:t,tagSelectBind:function(e,n,i){r(e).delegate("a","click",(function(t){t.preventDefault(),t.stopPropagation();for(var e=r(this),o=r.trim(e.text()),s=e.parent().find("a"),a=[],u=0;u<s.length&&u<12;u++){var l=r.trim(s[u].innerHTML);a.push(l)}if(!e.hasClass("added")){var c=r(n),h=r.trim(c.val());if(r.trim(h.replace(/,/gi," ").replace(/\s{2,}/gi," ")).split(" ").length>=i)return alert("最多只能添加"+i+"个标签哦"),!1;c.focus(),c.val(c.val()+(""==h||" "==h.charAt(h.length-1)?e.text()+" ":" "+e.text()+" ")),e.addClass("added")}-1!=r.inArray(o,a)&&s.each((function(t,e){var n=r(e);-1!=r.inArray(r.trim(n.text()),a)&&n.addClass("added")}))})),r(n).keyup((function(n){n.stopPropagation();var o=r.trim(this.value);if(r.trim(o.replace(/,/gi," ").replace(/\s{2,}/gi," ")).split(" ").length>i)return this.value=o.replace(/([ ,])+?[^ ,]*$/gi,(function(t,e){return e})),n.preventDefault(),!1;t(e,this)}))},setTagsHTML:e,setDefaultTags:function(t){for(var n=r("a",t),i=r.G.getMonthCookie("usedtags"),o=i?i.split(";"):[],s=n.length,a=s>12?12:s,u=[],l=0;l<a;l++){var c=r.trim(r(n[l]).text());u.push(c)}u.push("|");for(var h=0,f=o.length;h<f;h++)-1===r.inArray(o[h],u)&&u.push(o[h]);if(s>12)for(l=12;l<s;l++){c=r.trim(r(n[l]).text());u.length<21&&-1===r.inArray(c,u)&&u.push(c)}r.G.setMonthCookie("usedtags",u.join(";")),e(t,u)},setUsedTags:function(t,n){var i=r(n),o=r.trim(i.val());if(o){var s=r.trim(o.replace(/\s{2,}/g," ")).split(" "),a=r.G.getMonthCookie("usedtags").split(";"),u=r.inArray("|",a);r(s).each((function(t,e){-1===r.inArray(e,a)&&(a=(a=r.grep(a,(function(t){return t!==e&&""!==r.trim(t)}))).slice(0,u).concat([e],a.slice(u)))})),a=a.slice(0,20),r.G.setMonthCookie("usedtags",a.join(";")),e(t,a)}},showSelectTags:function(t,e,n){var i;function o(){r(t).data("mouselock")||(window.clearTimeout(i),r.isFunction(n)?n(t,e,1):r(t).css("display","block"))}function s(){r(t).data("mouselock")||(window.clearTimeout(i),i=window.setTimeout((function(){r.isFunction(n)?n(t,e):r(t).css("display","none")}),200))}r(e).bind("click focus mouseenter",o).blur(s),r(t).bind("mouseenter",o),r(t).bind("mouseleave",s)},keyupLenLimitForU:function(t,e,n,i,o){if(t&&void 0!==t.value){var s,a=[],u=[],l=(e=e||300,n=!!n,o=r(o),0),c=t.value.replace(/(?:http(?:s)?:\/\/)(?:(?:[\w-]+\.)+[\w-]+)(?:\:\d+)?(?:\/[\w-\.\/%]*)?(?:[?][\w-\.\/%!*\(\);\:@&=+$,\[\]]*)?(?:#[\w-\.\/%!*\(\);\:@&=+$,\[\]]*)?(?=\s)/g,(function(t,e,n){return a.push(t),u.push(e-l),l+=t.length,""})),h=!1;if(s=n?e-c.length:Math.floor((2*e-c.lenB())/2),(s-=8*a.length)<0){n&&i?c=c.substr(0,e):i&&(c=c.cut(2*e,""));for(var f=[],p=0,d=0,g=a.length;p<g&&p<8;p++)f.push(c.slice(d,u[p])),f.push(a[p]),d=u[p];f.push(c.slice(d,c.length)),t.value=f.join(""),r(t).scrollTop(1e3),h=!0}return o.html(i&&s<0?0:s),h}}}}();t.exports=i},function(t,e,n){var r=n(49),i=n(193),o=n(129),s=Object.defineProperty;e.f=n(37)?Object.defineProperty:function(t,e,n){if(r(t),e=o(e,!0),r(n),i)try{return s(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},function(t,e,n){var r=n(49),i=n(130),o=n(134),s=n(132)("IE_PROTO"),a=function(){},u=function(){var t,e=n(128)("iframe"),r=o.length;for(e.style.display="none",n(196).appendChild(e),e.src="javascript:",(t=e.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),u=t.F;r--;)delete u.prototype[o[r]];return u()};t.exports=Object.create||function(t,e){var n;return null!==t?(a.prototype=r(t),n=new a,a.prototype=null,n[s]=t):n=u(),void 0===e?n:i(n,e)}},function(t,e,n){"use strict";n(0);!function(t){t.fn.myalbums=function(e,n,r){var i=this;if(!(i.length<=0)){"function"!=typeof e&&(r=n,n=e,e=t.noop),"string"!=typeof n&&(r=n,n="");var o,s,a,u=t.extend({},t.fn.myalbums.defaults,r),l=!!n?t(n,i):i;return u.fn=e,function(){(s=t(u.sel_valueipt)).length||(s=t('<input class="dn" type="text" value="">').appendTo(i));(o=t("#myalbums-wrap")).length||(o=t('<div id="myalbums-wrap" style="display:none"><div id="myalbums-albs"></div><div class="clr"><form action="/napi/album/create/" method="post"><input type="text" value="" name="name" class="ipt l" maxlength="40"><a target="_self" href="javascript:;" class="abtn l mr0"><button type="submit"><u>创建专辑</u></button></a></form></div></div>').click((function(t){t.stopPropagation()})).appendTo("body")).find("input").lengthLimit();t(document).click((function(t){o.css("display","none")})),(a=t("#myalbums-albs")).delegate("a","click",(function(e){e.preventDefault();var n=this.innerHTML;c(t(this).data("albumid")||"",n)}));var e=t.browser.mozilla?"DOMMouseScroll":"mousewheel";navigator.userAgent.toString().match(/ipad/gi)&&(t('<a id="ipadalbumselectordown" class="ipadalbumsel" href="javascript:;"></a>').appendTo(o).click((function(t){a.get(0).scrollTop+=26})).bind("dblclick",(function(t){t.preventDefault(),t.stopPropagation()})),t('<a id="ipadalbumselectorup" class="ipadalbumsel" href="javascript:;"></a>').appendTo(o).click((function(t){a.get(0).scrollTop-=26})).bind("dblclick",(function(t){t.preventDefault(),t.stopPropagation()})));a.bind(e,(function(t){t.originalEvent.wheelDelta?this.scrollTop+=-1*t.originalEvent.wheelDelta:this.scrollTop+=t.originalEvent.detail>0?60:-60,t.preventDefault()})),o.find("input").click((function(){t(this).focus()})),o.find("form").safeSubmit((function(e){var n=t(this),r=n.find(".abtn"),i=r.find("[type=submit]");r.hasClass("abtn-no")||(r.addClass("abtn-no"),t.ajax({url:n.getFormAction(),data:n.paramForm(),mysuccess:function(e,r){var i=n.find("input"),o=t.trim(i.val());i.val(""),a.prepend(t('<a href="#" data-albumid="'+e.data.album.id+'">'+o.cut(40,"…")+"</a>")).scrollTop(0),c(e.data.album.id,o)},myfailure:function(t,e){t.data&&t.data.robot_check?i.verif({w:1}):this.wrongmsg(t)}}).always((function(){r.removeClass("abtn-no")})))})),l.bind(u.event,(function(e){e.stopPropagation(),e.preventDefault(),function(e){if(!t.G.getUSERID())return;t(u.sel_holder)!=t("body")?o.appendTo(u.sel_holder):o.css({position:"absolute",zIndex:30001,left:e.left+u.biasleft,top:e.top+u.biasleft});o.css("display","block"==o.css("display")?"none":"block"),!i.data("loaded")&&t("a",a).length<=1?(a.addClass("loading"),t.ajax({cache:!1,type:"GET",url:"/napi/album/list/by_user/?limit=150",mysuccess:function(e,n){a.removeClass("loading");var r=e.data.object_list,o=s.val();if(r&&r.length){for(var u=0,l=r.length;u<l;u++)t("<a "+(o==r[u].id?'class="cur"':"")+' href="#" data-albumid="'+r[u].id+'">'+r[u].name.cut(40,"…")+"</a>").appendTo(a);0==o&&a.find("a").eq(0).addClass("cur")}i.data("loaded",1)},myfailure:function(t,e){a.removeClass("loading")}})):s.val()&&o.find(".cur").removeClass("cur").end().find("a[data-albumid="+s.val()+"]").addClass("cur")}(t(this).offset())}))}(),o}function c(t,e){s.val(t),i.html(e),a.find(".cur").removeClass("cur").end().find("a[data-albumid="+t+"]").addClass("cur").prependTo(a),a.scrollTop(0),o.css("display","none")}},t.fn.myalbums.defaults={sel_holder:"body",sel_valueipt:"",event:"click",biastop:0,biasleft:0}}(jQuery)},function(t,e,n){var r,i;r=[n(179)],void 0===(i=function(t){return new t}.apply(e,r))||(t.exports=i)},function(t,e,n){"use strict";!function(t){var e=t.browser.msie&&"6.0"===t.browser.version,n=t.browser.opera;t.fn.sidepop=function(r){var i={_create:function(e,n){var r=n.id,i=e.$pop,o=["none","none","none"];1==n.btnset?o[2]="":2==n.btnset?o[0]="":3==n.btnset&&(o[2]="",o[0]=""),e.$bar=t(n.btnset?['<div class="',n.btnClass.bars,'" ',n.seat?"":'style="display:none;"','><a  class="',n.btnClass.min,'" style="display:',o[0],'" href="javascript:;" target="_self">-</a><a class="',n.btnClass.max,'" style="display:',o[1],'" href="javascript:;" target="_self">+</a><a class="',n.btnClass.close,'" style="display:',o[2],'" href="javascript:;" target="_self">X</a></div>'].join(""):""),e.$cont=t('<div class="'+n.btnClass.cont+'"></div>'),n.seat?(e.$dom=t('<div class="'+r+'"></div>').append(e.$bar).append(e.$cont),e.$wrap=t("<div>").append(e.$dom),i.before(e.$wrap),e.$cont.append(i)):e.$dom=t('<div class="'+r+'"></div>').append(e.$bar).append(e.$cont.append(i)).appendTo(n.position)},_feature:function(r,i){r.$pop;var o=r.$dom,s=r.$cont,a=t(window),u=a.width(),l=a.height();a.scrollTop();r.size=[null===i.width?s.outerWidth():i.width,null===i.height?s.outerHeight():i.height];var c="absolute";if(i.seat){o.removeClass(".SG-posfollow"),c="relative";var h=o.offset();r.inittop=h.top,r.initleft=h.left,r.$wrap.css({width:i.width,height:i.height})}else e||1!=i.isFixed||(c="fixed");o.css({position:c,bottom:"auto",zIndex:i.zIndex,width:r.size[0],height:r.size[1]}),r.bias="middle"===i.bias?(l-r.size[1])/2:i.bias,r.departure="center"===i.departure?(u-r.size[0])/2:i.departure,(e&&"bottom"==i.baseline||n&&"bottom"==i.baseline)&&(r.bias-=2),o.css({left:"right"===i.dockSide?"auto":r.departure,right:"left"===i.dockSide?"auto":r.departure}),"bottom"==i.baseline?i.seat||e||1!=i.isFixed||o.css({top:"auto",bottom:r.bias}):"top"==i.baseline&&(i.seat||e||1!=i.isFixed||o.css({bottom:"auto",top:r.bias}))},_bindBars:function(e,n){var r=e.$bar,o=n.btnClass;r.delegate("a","click",(function(r){var s=t(this);s.hasClass(o.close)?i.close(e,n):s.hasClass(o.show)?i.show(e,n):s.hasClass(o.min)?i.min(e,n):s.hasClass(o.max)&&i.max(e,n)}))},_scrollAnim:function(t,e){2===e.scroll?t.$dom.stop().css({opacity:0,top:i._getTop(t,e)[0]}).animate({opacity:1},e.fadeSpeed,(function(){t.$bar.css("display","block")})):t.$dom.animate({top:i._getTop(t,e)[0]},e.floatSpeed,(function(){t.$bar.css("display","block")}))},_eventScroll:function(e){var n=e.data.props,r=e.data.c;2===r.scroll&&n.$dom.not(":animated").css({opacity:0}),t.isFunction(r.withScroll)&&r.withScroll(),window.clearTimeout(n.scrollTimer),n.scrollTimer=window.setTimeout((function(){i._scrollAnim(n,r)}),r.scrollDelayTime)},_scrollSeatAnim:function(t,n){var r=t.$dom,o=i._getTop(t,n);t.inittop=t.$wrap.offset().top,t.$wrap.find(":first-child").length||t.$wrap.append(r);var s="function"==typeof n.seatrange?n.seatrange():n.seatrange;o[0]<t.inittop?(r.removeClass("SG-posfollow"),r.css({position:"relative",top:0,left:0})):s&&o[0]>t.inittop+s-o[2]?r.css({position:"relative",top:s-o[2]+n.seattop,left:0}):(r.addClass("SG-posfollow"),e||1!=n.isFixed?r.appendTo(n.position).css({position:"absolute",top:o[0],left:t.initleft}):r.css({position:"fixed",top:o[0]-o[1]+n.seattop,left:t.initleft}))},_eventScrollSeat:function(e){var n=e.data.props,r=e.data.c;t.isFunction(r.withScroll)&&r.withScroll(),i._scrollSeatAnim(n,r)},_bindScroll:function(n,r){(r.seat||e||1!=r.isFixed)&&0!==r.scroll?r.seat?(n.$bar.css("display","block"),t(window).scroll({props:n,c:r},i._eventScrollSeat),i._scrollSeatAnim(n,r)):(t(window).scroll({props:n,c:r},i._eventScroll),i._scrollAnim(n,r)):n.$bar.css("display","block")},_unbindScroll:function(){t(window).unbind("scroll",i._eventScroll)},_getTop:function(e,n){var r=e.bias,i=e.$dom.outerHeight(!1),o=(t(window).width(),t(window).height()),s=t(window).scrollTop(),a=i+r-o;switch(a=a<0?0:a,n.baseline){case"top":return[s+r-a,s,i];case"bottom":return[s+o-i-r+a,s,i]}},close:function(e,n){var r=e.$dom,o=n.btnClass;r.css("display","none"),i._unbindScroll(e,n);var s=o.close;t("."+s,r).removeClass(s).addClass(o.show),t.isFunction(n.fnAfterClose)&&n.fnAfterClose.call(i,e,n)},show:function(e,n){var r=e.$dom,o=n.btnClass;r.css("display","block"),i._bindScroll(e,n);var s=o.show;t("."+s,r).removeClass(s).addClass(o.close)},min:function(e,n){var r=e.$dom,i=n.btnClass,o="left-right"===n.expandDir,s=o?{width:n.remainArea}:{height:n.remainArea};o||"bottom"!==n.baseline||(s.marginTop=e.size[1]-n.remainArea),r.animate(s,(function(){t("."+i.min,r).css("display","none"),t("."+i.max,r).css("display","inline")}))},max:function(e,n){var r=e.$dom,i=n.btnClass,o="left-right"===n.expandDir,s=o?{width:e.size[0]}:{height:e.size[1]};o||"bottom"!==n.baseline||(s.marginTop=0),r.animate(s,(function(){t("."+i.min,r).css("display","inline"),t("."+i.max,r).css("display","none")}))},_noop:t.noop},o=t.extend(!0,{},t.fn.sidepop.defaults,r),s=t(this),a={};if(s.length)return a.$pop=s,i._create(a,o),i._feature(a,o),i._bindBars(a,o),i._bindScroll(a,o),t.isFunction(o.fnInitExe)&&o.fnInitExe.call(i,a,o),this},t.fn.sidepop.defaults={id:"",position:"body",width:null,height:null,remainArea:25,initTop:null,btnClass:{min:"SG-sidemin",max:"SG-sidemax",close:"SG-sideclose",show:"SG-sideshow",bars:"SG-sidebar",cont:"SG-sidecont"},btnset:1,scroll:2,fnInitExe:null,fnAfterClose:null,dockSide:"left",departure:0,baseline:"bottom",seat:!1,seatrange:null,seattop:0,withScroll:null,isFixed:0,bias:100,expandDir:"top-down",floatSpeed:150,fadeSpeed:250,scrollDelayTime:350,zIndex:1e3}}(jQuery)},function(t,e,n){var r=n(42);t.exports=function(t){if(!r(t))throw TypeError(t+" is not an object!");return t}},,,,,,function(t,e,n){var r=n(82);t.exports=function(t,e,n){if(r(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,i){return t.call(e,n,r,i)}}return function(){return t.apply(e,arguments)}}},function(t,e,n){var r=n(44),i=n(83);t.exports=n(37)?function(t,e,n){return r.f(t,e,i(1,n))}:function(t,e,n){return t[e]=n,t}},function(t,e,n){var r,i,o,s,a;r=n(331),i=n(218).utf8,o=n(332),s=n(218).bin,(a=function(t,e){t.constructor==String?t=e&&"binary"===e.encoding?s.stringToBytes(t):i.stringToBytes(t):o(t)?t=Array.prototype.slice.call(t,0):Array.isArray(t)||t.constructor===Uint8Array||(t=t.toString());for(var n=r.bytesToWords(t),u=8*t.length,l=1732584193,c=-271733879,h=-1732584194,f=271733878,p=0;p<n.length;p++)n[p]=16711935&(n[p]<<8|n[p]>>>24)|4278255360&(n[p]<<24|n[p]>>>8);n[u>>>5]|=128<<u%32,n[14+(u+64>>>9<<4)]=u;var d=a._ff,g=a._gg,v=a._hh,m=a._ii;for(p=0;p<n.length;p+=16){var y=l,b=c,w=h,x=f;l=d(l,c,h,f,n[p+0],7,-680876936),f=d(f,l,c,h,n[p+1],12,-389564586),h=d(h,f,l,c,n[p+2],17,606105819),c=d(c,h,f,l,n[p+3],22,-1044525330),l=d(l,c,h,f,n[p+4],7,-176418897),f=d(f,l,c,h,n[p+5],12,1200080426),h=d(h,f,l,c,n[p+6],17,-1473231341),c=d(c,h,f,l,n[p+7],22,-45705983),l=d(l,c,h,f,n[p+8],7,1770035416),f=d(f,l,c,h,n[p+9],12,-1958414417),h=d(h,f,l,c,n[p+10],17,-42063),c=d(c,h,f,l,n[p+11],22,-1990404162),l=d(l,c,h,f,n[p+12],7,1804603682),f=d(f,l,c,h,n[p+13],12,-40341101),h=d(h,f,l,c,n[p+14],17,-1502002290),l=g(l,c=d(c,h,f,l,n[p+15],22,1236535329),h,f,n[p+1],5,-165796510),f=g(f,l,c,h,n[p+6],9,-1069501632),h=g(h,f,l,c,n[p+11],14,643717713),c=g(c,h,f,l,n[p+0],20,-373897302),l=g(l,c,h,f,n[p+5],5,-701558691),f=g(f,l,c,h,n[p+10],9,38016083),h=g(h,f,l,c,n[p+15],14,-660478335),c=g(c,h,f,l,n[p+4],20,-405537848),l=g(l,c,h,f,n[p+9],5,568446438),f=g(f,l,c,h,n[p+14],9,-1019803690),h=g(h,f,l,c,n[p+3],14,-187363961),c=g(c,h,f,l,n[p+8],20,1163531501),l=g(l,c,h,f,n[p+13],5,-1444681467),f=g(f,l,c,h,n[p+2],9,-51403784),h=g(h,f,l,c,n[p+7],14,1735328473),l=v(l,c=g(c,h,f,l,n[p+12],20,-1926607734),h,f,n[p+5],4,-378558),f=v(f,l,c,h,n[p+8],11,-2022574463),h=v(h,f,l,c,n[p+11],16,1839030562),c=v(c,h,f,l,n[p+14],23,-35309556),l=v(l,c,h,f,n[p+1],4,-1530992060),f=v(f,l,c,h,n[p+4],11,1272893353),h=v(h,f,l,c,n[p+7],16,-155497632),c=v(c,h,f,l,n[p+10],23,-1094730640),l=v(l,c,h,f,n[p+13],4,681279174),f=v(f,l,c,h,n[p+0],11,-358537222),h=v(h,f,l,c,n[p+3],16,-722521979),c=v(c,h,f,l,n[p+6],23,76029189),l=v(l,c,h,f,n[p+9],4,-640364487),f=v(f,l,c,h,n[p+12],11,-421815835),h=v(h,f,l,c,n[p+15],16,530742520),l=m(l,c=v(c,h,f,l,n[p+2],23,-995338651),h,f,n[p+0],6,-198630844),f=m(f,l,c,h,n[p+7],10,1126891415),h=m(h,f,l,c,n[p+14],15,-1416354905),c=m(c,h,f,l,n[p+5],21,-57434055),l=m(l,c,h,f,n[p+12],6,1700485571),f=m(f,l,c,h,n[p+3],10,-1894986606),h=m(h,f,l,c,n[p+10],15,-1051523),c=m(c,h,f,l,n[p+1],21,-2054922799),l=m(l,c,h,f,n[p+8],6,1873313359),f=m(f,l,c,h,n[p+15],10,-30611744),h=m(h,f,l,c,n[p+6],15,-1560198380),c=m(c,h,f,l,n[p+13],21,1309151649),l=m(l,c,h,f,n[p+4],6,-145523070),f=m(f,l,c,h,n[p+11],10,-1120210379),h=m(h,f,l,c,n[p+2],15,718787259),c=m(c,h,f,l,n[p+9],21,-343485551),l=l+y>>>0,c=c+b>>>0,h=h+w>>>0,f=f+x>>>0}return r.endian([l,c,h,f])})._ff=function(t,e,n,r,i,o,s){var a=t+(e&n|~e&r)+(i>>>0)+s;return(a<<o|a>>>32-o)+e},a._gg=function(t,e,n,r,i,o,s){var a=t+(e&r|n&~r)+(i>>>0)+s;return(a<<o|a>>>32-o)+e},a._hh=function(t,e,n,r,i,o,s){var a=t+(e^n^r)+(i>>>0)+s;return(a<<o|a>>>32-o)+e},a._ii=function(t,e,n,r,i,o,s){var a=t+(n^(e|~r))+(i>>>0)+s;return(a<<o|a>>>32-o)+e},a._blocksize=16,a._digestsize=16,t.exports=function(t,e){if(null==t)throw new Error("Illegal argument "+t);var n=r.wordsToBytes(a(t,e));return e&&e.asBytes?n:e&&e.asString?s.bytesToString(n):r.bytesToHex(n)}},function(t,e,n){"use strict";var r=n(0);n(215);t.exports=function(t){var e,n={},i="",o="",s="",a=r(window).data("verification")||[],u=r("input","#form-token");return e="csrftoken",(i=r.Bom.getSubCookie("sg",e))?(o="csrfmiddlewaretoken="+i,n.csrfmiddlewaretoken=i):u.length&&(i=u.val(),n.csrfmiddlewaretoken=i,o=r.param(n)),s='<input type="hidden" name="csrfmiddlewaretoken" value="'+i+'" />',i&&a.length&&(o+="&recaptcha_response_field="+a[0],o+="&recaptcha_challenge_field="+a[1],n.recaptcha_response_field=a[0],n.recaptcha_challenge_field=a[1],s+='<input type="hidden" name="recaptcha_response_field" value="'+a[0]+'" /><input type="hidden" name="recaptcha_challenge_field" value="'+a[1]+'" />'),t?3==t?s:2==t?n:o:o}},function(t,e,n){var r,i;r=[n(3)],void 0===(i=function(t){var e=function(n,r,i,o,s,a,u){var l=0,c=n.length,h=null==i;if("object"===t.type(i))for(l in s=!0,i)e(n,r,l,i[l],!0,a,u);else if(void 0!==o&&(s=!0,t.isFunction(o)||(u=!0),h&&(u?(r.call(n,o),r=null):(h=r,r=function(e,n,r){return h.call(t(e),r)})),r))for(;l<c;l++)r(n[l],i,u?o:o.call(n[l],l,r(n[l],i)));return s?n:h?r.call(n):c?r(n[0],i):a};return e}.apply(e,r))||(t.exports=i)},function(t,e,n){var r;void 0===(r=function(){return/\S+/g}.call(e,n,e,t))||(t.exports=r)},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},function(t,e,n){var r=n(131),i=n(126);t.exports=function(t){return r(i(t))}},function(t,e,n){"use strict";e.__esModule=!0;var r,i=n(108),o=(r=i)&&r.__esModule?r:{default:r};e.default=o.default||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}},,function(t,e,n){var r;void 0===(r=function(){return{}}.call(e,n,e,t))||(t.exports=r)},function(t,e,n){var r,i;r=[n(3),n(112),n(235),n(236),n(184),n(41),n(183),n(19)],void 0===(i=function(t,e,n,r,i){var o=/^(?:parents|prev(?:Until|All))/,s={children:!0,contents:!0,next:!0,prev:!0};function a(t,e){for(;(t=t[e])&&1!==t.nodeType;);return t}return t.fn.extend({has:function(e){var n=t(e,this),r=n.length;return this.filter((function(){for(var e=0;e<r;e++)if(t.contains(this,n[e]))return!0}))},closest:function(e,n){for(var r,o=0,s=this.length,a=[],u=i.test(e)||"string"!=typeof e?t(e,n||this.context):0;o<s;o++)for(r=this[o];r&&r!==n;r=r.parentNode)if(r.nodeType<11&&(u?u.index(r)>-1:1===r.nodeType&&t.find.matchesSelector(r,e))){a.push(r);break}return this.pushStack(a.length>1?t.uniqueSort(a):a)},index:function(n){return n?"string"==typeof n?e.call(t(n),this[0]):e.call(this,n.jquery?n[0]:n):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,n){return this.pushStack(t.uniqueSort(t.merge(this.get(),t(e,n))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),t.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return n(t,"parentNode")},parentsUntil:function(t,e,r){return n(t,"parentNode",r)},next:function(t){return a(t,"nextSibling")},prev:function(t){return a(t,"previousSibling")},nextAll:function(t){return n(t,"nextSibling")},prevAll:function(t){return n(t,"previousSibling")},nextUntil:function(t,e,r){return n(t,"nextSibling",r)},prevUntil:function(t,e,r){return n(t,"previousSibling",r)},siblings:function(t){return r((t.parentNode||{}).firstChild,t)},children:function(t){return r(t.firstChild)},contents:function(e){return e.contentDocument||t.merge([],e.childNodes)}},(function(e,n){t.fn[e]=function(r,i){var a=t.map(this,n,r);return"Until"!==e.slice(-5)&&(i=r),i&&"string"==typeof i&&(a=t.filter(i,a)),this.length>1&&(s[e]||t.uniqueSort(a),o.test(e)&&a.reverse()),this.pushStack(a)}})),t}.apply(e,r))||(t.exports=i)},function(t,e,n){var r,i;r=[n(3),n(18),n(60),n(113),n(47),n(41),n(19)],void 0===(i=function(t,e,n,r,i){var o=/^key/,s=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,a=/^([^.]*)(?:\.(.+)|)/;function u(){return!0}function l(){return!1}function c(){try{return e.activeElement}catch(t){}}function h(e,n,r,i,o,s){var a,u;if("object"==typeof n){for(u in"string"!=typeof r&&(i=i||r,r=void 0),n)h(e,u,r,i,n[u],s);return e}if(null==i&&null==o?(o=r,i=r=void 0):null==o&&("string"==typeof r?(o=i,i=void 0):(o=i,i=r,r=void 0)),!1===o)o=l;else if(!o)return e;return 1===s&&(a=o,(o=function(e){return t().off(e),a.apply(this,arguments)}).guid=a.guid||(a.guid=t.guid++)),e.each((function(){t.event.add(this,n,o,i,r)}))}return t.event={global:{},add:function(e,r,o,s,u){var l,c,h,f,p,d,g,v,m,y,b,w=i.get(e);if(w)for(o.handler&&(o=(l=o).handler,u=l.selector),o.guid||(o.guid=t.guid++),(f=w.events)||(f=w.events={}),(c=w.handle)||(c=w.handle=function(n){return void 0!==t&&t.event.triggered!==n.type?t.event.dispatch.apply(e,arguments):void 0}),p=(r=(r||"").match(n)||[""]).length;p--;)m=b=(h=a.exec(r[p])||[])[1],y=(h[2]||"").split(".").sort(),m&&(g=t.event.special[m]||{},m=(u?g.delegateType:g.bindType)||m,g=t.event.special[m]||{},d=t.extend({type:m,origType:b,data:s,handler:o,guid:o.guid,selector:u,needsContext:u&&t.expr.match.needsContext.test(u),namespace:y.join(".")},l),(v=f[m])||((v=f[m]=[]).delegateCount=0,g.setup&&!1!==g.setup.call(e,s,y,c)||e.addEventListener&&e.addEventListener(m,c)),g.add&&(g.add.call(e,d),d.handler.guid||(d.handler.guid=o.guid)),u?v.splice(v.delegateCount++,0,d):v.push(d),t.event.global[m]=!0)},remove:function(e,r,o,s,u){var l,c,h,f,p,d,g,v,m,y,b,w=i.hasData(e)&&i.get(e);if(w&&(f=w.events)){for(p=(r=(r||"").match(n)||[""]).length;p--;)if(m=b=(h=a.exec(r[p])||[])[1],y=(h[2]||"").split(".").sort(),m){for(g=t.event.special[m]||{},v=f[m=(s?g.delegateType:g.bindType)||m]||[],h=h[2]&&new RegExp("(^|\\.)"+y.join("\\.(?:.*\\.|)")+"(\\.|$)"),c=l=v.length;l--;)d=v[l],!u&&b!==d.origType||o&&o.guid!==d.guid||h&&!h.test(d.namespace)||s&&s!==d.selector&&("**"!==s||!d.selector)||(v.splice(l,1),d.selector&&v.delegateCount--,g.remove&&g.remove.call(e,d));c&&!v.length&&(g.teardown&&!1!==g.teardown.call(e,y,w.handle)||t.removeEvent(e,m,w.handle),delete f[m])}else for(m in f)t.event.remove(e,m+r[p],o,s,!0);t.isEmptyObject(f)&&i.remove(e,"handle events")}},dispatch:function(e){e=t.event.fix(e);var n,o,s,a,u,l=[],c=r.call(arguments),h=(i.get(this,"events")||{})[e.type]||[],f=t.event.special[e.type]||{};if(c[0]=e,e.delegateTarget=this,!f.preDispatch||!1!==f.preDispatch.call(this,e)){for(l=t.event.handlers.call(this,e,h),n=0;(a=l[n++])&&!e.isPropagationStopped();)for(e.currentTarget=a.elem,o=0;(u=a.handlers[o++])&&!e.isImmediatePropagationStopped();)e.rnamespace&&!e.rnamespace.test(u.namespace)||(e.handleObj=u,e.data=u.data,void 0!==(s=((t.event.special[u.origType]||{}).handle||u.handler).apply(a.elem,c))&&!1===(e.result=s)&&(e.preventDefault(),e.stopPropagation()));return f.postDispatch&&f.postDispatch.call(this,e),e.result}},handlers:function(e,n){var r,i,o,s,a=[],u=n.delegateCount,l=e.target;if(u&&l.nodeType&&("click"!==e.type||isNaN(e.button)||e.button<1))for(;l!==this;l=l.parentNode||this)if(1===l.nodeType&&(!0!==l.disabled||"click"!==e.type)){for(i=[],r=0;r<u;r++)void 0===i[o=(s=n[r]).selector+" "]&&(i[o]=s.needsContext?t(o,this).index(l)>-1:t.find(o,this,null,[l]).length),i[o]&&i.push(s);i.length&&a.push({elem:l,handlers:i})}return u<n.length&&a.push({elem:this,handlers:n.slice(u)}),a},props:"altKey bubbles cancelable ctrlKey currentTarget detail eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(t,e){return null==t.which&&(t.which=null!=e.charCode?e.charCode:e.keyCode),t}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(t,n){var r,i,o,s=n.button;return null==t.pageX&&null!=n.clientX&&(i=(r=t.target.ownerDocument||e).documentElement,o=r.body,t.pageX=n.clientX+(i&&i.scrollLeft||o&&o.scrollLeft||0)-(i&&i.clientLeft||o&&o.clientLeft||0),t.pageY=n.clientY+(i&&i.scrollTop||o&&o.scrollTop||0)-(i&&i.clientTop||o&&o.clientTop||0)),t.which||void 0===s||(t.which=1&s?1:2&s?3:4&s?2:0),t}},fix:function(n){if(n[t.expando])return n;var r,i,a,u=n.type,l=n,c=this.fixHooks[u];for(c||(this.fixHooks[u]=c=s.test(u)?this.mouseHooks:o.test(u)?this.keyHooks:{}),a=c.props?this.props.concat(c.props):this.props,n=new t.Event(l),r=a.length;r--;)n[i=a[r]]=l[i];return n.target||(n.target=e),3===n.target.nodeType&&(n.target=n.target.parentNode),c.filter?c.filter(n,l):n},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==c()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===c()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&t.nodeName(this,"input"))return this.click(),!1},_default:function(e){return t.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}}},t.removeEvent=function(t,e,n){t.removeEventListener&&t.removeEventListener(e,n)},t.Event=function(e,n){if(!(this instanceof t.Event))return new t.Event(e,n);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?u:l):this.type=e,n&&t.extend(this,n),this.timeStamp=e&&e.timeStamp||t.now(),this[t.expando]=!0},t.Event.prototype={constructor:t.Event,isDefaultPrevented:l,isPropagationStopped:l,isImmediatePropagationStopped:l,isSimulated:!1,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=u,t&&!this.isSimulated&&t.preventDefault()},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=u,t&&!this.isSimulated&&t.stopPropagation()},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=u,t&&!this.isSimulated&&t.stopImmediatePropagation(),this.stopPropagation()}},t.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},(function(e,n){t.event.special[e]={delegateType:n,bindType:n,handle:function(e){var r,i=this,o=e.relatedTarget,s=e.handleObj;return o&&(o===i||t.contains(i,o))||(e.type=s.origType,r=s.handler.apply(this,arguments),e.type=n),r}}})),t.fn.extend({on:function(t,e,n,r){return h(this,t,e,n,r)},one:function(t,e,n,r){return h(this,t,e,n,r,1)},off:function(e,n,r){var i,o;if(e&&e.preventDefault&&e.handleObj)return i=e.handleObj,t(e.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"==typeof e){for(o in e)this.off(o,n,e[o]);return this}return!1!==n&&"function"!=typeof n||(r=n,n=void 0),!1===r&&(r=l),this.each((function(){t.event.remove(this,e,r,n)}))}}),t}.apply(e,r))||(t.exports=i)},function(t,e,n){var r,i;r=[n(3),n(18),n(60),n(247),n(189),n(190),n(41),n(248),n(249),n(124),n(80)],void 0===(i=function(t,e,n,r,i,o){var s=/#.*$/,a=/([?&])_=[^&]*/,u=/^(.*?):[ \t]*([^\r\n]*)$/gm,l=/^(?:GET|HEAD)$/,c=/^\/\//,h={},f={},p="*/".concat("*"),d=e.createElement("a");function g(e){return function(r,i){"string"!=typeof r&&(i=r,r="*");var o,s=0,a=r.toLowerCase().match(n)||[];if(t.isFunction(i))for(;o=a[s++];)"+"===o[0]?(o=o.slice(1)||"*",(e[o]=e[o]||[]).unshift(i)):(e[o]=e[o]||[]).push(i)}}function v(e,n,r,i){var o={},s=e===f;function a(u){var l;return o[u]=!0,t.each(e[u]||[],(function(t,e){var u=e(n,r,i);return"string"!=typeof u||s||o[u]?s?!(l=u):void 0:(n.dataTypes.unshift(u),a(u),!1)})),l}return a(n.dataTypes[0])||!o["*"]&&a("*")}function m(e,n){var r,i,o=t.ajaxSettings.flatOptions||{};for(r in n)void 0!==n[r]&&((o[r]?e:i||(i={}))[r]=n[r]);return i&&t.extend(!0,e,i),e}return d.href=r.href,t.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:r.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(r.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":p,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":t.parseJSON,"text xml":t.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,n){return n?m(m(e,t.ajaxSettings),n):m(t.ajaxSettings,e)},ajaxPrefilter:g(h),ajaxTransport:g(f),ajax:function(g,m){"object"==typeof g&&(m=g,g=void 0),m=m||{};var y,b,w,x,S,E,A,C,F=t.ajaxSetup({},m),P=F.context||F,k=F.context&&(P.nodeType||P.jquery)?t(P):t.event,T=t.Deferred(),_=t.Callbacks("once memory"),I=F.statusCode||{},D={},N={},R=0,O="canceled",j={readyState:0,getResponseHeader:function(t){var e;if(2===R){if(!x)for(x={};e=u.exec(w);)x[e[1].toLowerCase()]=e[2];e=x[t.toLowerCase()]}return null==e?null:e},getAllResponseHeaders:function(){return 2===R?w:null},setRequestHeader:function(t,e){var n=t.toLowerCase();return R||(t=N[n]=N[n]||t,D[t]=e),this},overrideMimeType:function(t){return R||(F.mimeType=t),this},statusCode:function(t){var e;if(t)if(R<2)for(e in t)I[e]=[I[e],t[e]];else j.always(t[j.status]);return this},abort:function(t){var e=t||O;return y&&y.abort(e),B(0,e),this}};if(T.promise(j).complete=_.add,j.success=j.done,j.error=j.fail,F.url=((g||F.url||r.href)+"").replace(s,"").replace(c,r.protocol+"//"),F.type=m.method||m.type||F.method||F.type,F.dataTypes=t.trim(F.dataType||"*").toLowerCase().match(n)||[""],null==F.crossDomain){E=e.createElement("a");try{E.href=F.url,E.href=E.href,F.crossDomain=d.protocol+"//"+d.host!=E.protocol+"//"+E.host}catch(t){F.crossDomain=!0}}if(F.data&&F.processData&&"string"!=typeof F.data&&(F.data=t.param(F.data,F.traditional)),v(h,F,m,j),2===R)return j;for(C in(A=t.event&&F.global)&&0==t.active++&&t.event.trigger("ajaxStart"),F.type=F.type.toUpperCase(),F.hasContent=!l.test(F.type),b=F.url,F.hasContent||(F.data&&(b=F.url+=(o.test(b)?"&":"?")+F.data,delete F.data),!1===F.cache&&(F.url=a.test(b)?b.replace(a,"$1_="+i++):b+(o.test(b)?"&":"?")+"_="+i++)),F.ifModified&&(t.lastModified[b]&&j.setRequestHeader("If-Modified-Since",t.lastModified[b]),t.etag[b]&&j.setRequestHeader("If-None-Match",t.etag[b])),(F.data&&F.hasContent&&!1!==F.contentType||m.contentType)&&j.setRequestHeader("Content-Type",F.contentType),j.setRequestHeader("Accept",F.dataTypes[0]&&F.accepts[F.dataTypes[0]]?F.accepts[F.dataTypes[0]]+("*"!==F.dataTypes[0]?", "+p+"; q=0.01":""):F.accepts["*"]),F.headers)j.setRequestHeader(C,F.headers[C]);if(F.beforeSend&&(!1===F.beforeSend.call(P,j,F)||2===R))return j.abort();for(C in O="abort",{success:1,error:1,complete:1})j[C](F[C]);if(y=v(f,F,m,j)){if(j.readyState=1,A&&k.trigger("ajaxSend",[j,F]),2===R)return j;F.async&&F.timeout>0&&(S=window.setTimeout((function(){j.abort("timeout")}),F.timeout));try{R=1,y.send(D,B)}catch(t){if(!(R<2))throw t;B(-1,t)}}else B(-1,"No Transport");function B(e,n,r,i){var o,s,a,u,l,c=n;2!==R&&(R=2,S&&window.clearTimeout(S),y=void 0,w=i||"",j.readyState=e>0?4:0,o=e>=200&&e<300||304===e,r&&(u=function(t,e,n){for(var r,i,o,s,a=t.contents,u=t.dataTypes;"*"===u[0];)u.shift(),void 0===r&&(r=t.mimeType||e.getResponseHeader("Content-Type"));if(r)for(i in a)if(a[i]&&a[i].test(r)){u.unshift(i);break}if(u[0]in n)o=u[0];else{for(i in n){if(!u[0]||t.converters[i+" "+u[0]]){o=i;break}s||(s=i)}o=o||s}if(o)return o!==u[0]&&u.unshift(o),n[o]}(F,j,r)),u=function(t,e,n,r){var i,o,s,a,u,l={},c=t.dataTypes.slice();if(c[1])for(s in t.converters)l[s.toLowerCase()]=t.converters[s];for(o=c.shift();o;)if(t.responseFields[o]&&(n[t.responseFields[o]]=e),!u&&r&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),u=o,o=c.shift())if("*"===o)o=u;else if("*"!==u&&u!==o){if(!(s=l[u+" "+o]||l["* "+o]))for(i in l)if((a=i.split(" "))[1]===o&&(s=l[u+" "+a[0]]||l["* "+a[0]])){!0===s?s=l[i]:!0!==l[i]&&(o=a[0],c.unshift(a[1]));break}if(!0!==s)if(s&&t.throws)e=s(e);else try{e=s(e)}catch(t){return{state:"parsererror",error:s?t:"No conversion from "+u+" to "+o}}}return{state:"success",data:e}}(F,u,j,o),o?(F.ifModified&&((l=j.getResponseHeader("Last-Modified"))&&(t.lastModified[b]=l),(l=j.getResponseHeader("etag"))&&(t.etag[b]=l)),204===e||"HEAD"===F.type?c="nocontent":304===e?c="notmodified":(c=u.state,s=u.data,o=!(a=u.error))):(a=c,!e&&c||(c="error",e<0&&(e=0))),j.status=e,j.statusText=(n||c)+"",o?T.resolveWith(P,[s,c,j]):T.rejectWith(P,[j,c,a]),j.statusCode(I),I=void 0,A&&k.trigger(o?"ajaxSuccess":"ajaxError",[j,F,o?s:a]),_.fireWith(P,[j,c]),A&&(k.trigger("ajaxComplete",[j,F]),--t.active||t.event.trigger("ajaxStop")))}return j},getJSON:function(e,n,r){return t.get(e,n,r,"json")},getScript:function(e,n){return t.get(e,void 0,n,"script")}}),t.each(["get","post"],(function(e,n){t[n]=function(e,r,i,o){return t.isFunction(r)&&(o=o||i,i=r,r=void 0),t.ajax(t.extend({url:e,type:n,dataType:o,data:r,success:i},t.isPlainObject(e)&&e))}})),t}.apply(e,r))||(t.exports=i)},function(t,e,n){"use strict";var r=n(268)(!0);n(127)(String,"String",(function(t){this._t=String(t),this._i=0}),(function(){var t,e=this._t,n=this._i;return n>=e.length?{value:void 0,done:!0}:(t=r(e,n),this._i+=t.length,{value:t,done:!1})}))},function(t,e){t.exports={}},function(t,e,n){var r=n(195),i=n(134);t.exports=Object.keys||function(t){return r(t,i)}},function(t,e,n){var r=n(126);t.exports=function(t){return Object(r(t))}},function(t,e,n){"use strict";e.__esModule=!0;var r,i=n(217),o=(r=i)&&r.__esModule?r:{default:r};e.default=function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return(0,o.default)(t)}},function(t,e,n){"use strict";var r=n(8);!function(t){t.fn.SGfollow=function(e,n,i){"function"!=typeof e&&(i=n,n=e,e=t.noop),"string"!=typeof n&&(i=n,n=""),i=t.extend({},i);var o=function(){var t=this.data("follow");t.rel>1?this.addClass("follow followed").removeClass("unfollow followeo"):this.addClass("follow").removeClass("unfollow"),this.html("<i></i>关注"),t.rel+=-1},s=function(){var t=this.data("follow");t.rel>1?this.addClass("unfollow followeo").removeClass("follow followed"):this.addClass("unfollow").removeClass("follow"),this.html("<i></i>已关注"),t.rel+=1},a=function(e){if(e.preventDefault(),t.G.getUSERID()){var n=t(this),i=n.data("follow"),a=i.id;n.data("locked")||(n.data("locked",1),t.ajax({url:i.rel%2?"/napi/people/unfollow/":"/napi/people/follow/",data:"user_id="+a,mysuccess:function(t,e){i.rel%2?o.call(n):s.call(n)}}).always((function(){n.removeData("locked")})))}else r.PopOut.login()};return n?this.delegate(n,"click",a):this.click(a),this}}(jQuery)},function(t,e,n){t.exports=n(329)},function(t,e,n){"use strict";e.__esModule=!0;var r,i=n(39),o=(r=i)&&r.__esModule?r:{default:r};e.default=function(t){return function(){var e=t.apply(this,arguments);return new o.default((function(t,n){return function r(i,s){try{var a=e[i](s),u=a.value}catch(t){return void n(t)}if(!a.done)return o.default.resolve(u).then((function(t){r("next",t)}),(function(t){r("throw",t)}));t(u)}("next")}))}}},function(t,e,n){var r,i;r=[n(3),n(116),n(59),n(165),n(18),n(115),n(117),n(166),n(167),n(168),n(230),n(169),n(171),n(172),n(185),n(118),n(47),n(41),n(186),n(19)],void 0===(i=function(t,e,n,r,i,o,s,a,u,l,c,h,f,p,d,g,v){var m=/^(none|table(?!-c[ea]).+)/,y={position:"absolute",visibility:"hidden",display:"block"},b={letterSpacing:"0",fontWeight:"400"},w=["Webkit","O","Moz","ms"],x=i.createElement("div").style;function S(t){if(t in x)return t;for(var e=t[0].toUpperCase()+t.slice(1),n=w.length;n--;)if((t=w[n]+e)in x)return t}function E(t,e,n){var r=o.exec(e);return r?Math.max(0,r[2]-(n||0))+(r[3]||"px"):e}function A(e,n,r,i,o){for(var s=r===(i?"border":"content")?4:"width"===n?1:0,u=0;s<4;s+=2)"margin"===r&&(u+=t.css(e,r+a[s],!0,o)),i?("content"===r&&(u-=t.css(e,"padding"+a[s],!0,o)),"margin"!==r&&(u-=t.css(e,"border"+a[s]+"Width",!0,o))):(u+=t.css(e,"padding"+a[s],!0,o),"padding"!==r&&(u+=t.css(e,"border"+a[s]+"Width",!0,o)));return u}function C(e,n,r){var i=!0,o="width"===n?e.offsetWidth:e.offsetHeight,a=l(e),u="border-box"===t.css(e,"boxSizing",!1,a);if(o<=0||null==o){if(((o=h(e,n,a))<0||null==o)&&(o=e.style[n]),s.test(o))return o;i=u&&(g.boxSizingReliable()||o===e.style[n]),o=parseFloat(o)||0}return o+A(e,n,r||(u?"border":"content"),i,a)+"px"}function F(e,n){for(var r,i,o,s=[],a=0,l=e.length;a<l;a++)(i=e[a]).style&&(s[a]=v.get(i,"olddisplay"),r=i.style.display,n?(s[a]||"none"!==r||(i.style.display=""),""===i.style.display&&u(i)&&(s[a]=v.access(i,"olddisplay",p(i.nodeName)))):(o=u(i),"none"===r&&o||v.set(i,"olddisplay",o?r:t.css(i,"display"))));for(a=0;a<l;a++)(i=e[a]).style&&(n&&"none"!==i.style.display&&""!==i.style.display||(i.style.display=n?s[a]||"":"none"));return e}return t.extend({cssHooks:{opacity:{get:function(t,e){if(e){var n=h(t,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:"cssFloat"},style:function(e,n,r,i){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var s,a,u,l=t.camelCase(n),c=e.style;if(n=t.cssProps[l]||(t.cssProps[l]=S(l)||l),u=t.cssHooks[n]||t.cssHooks[l],void 0===r)return u&&"get"in u&&void 0!==(s=u.get(e,!1,i))?s:c[n];"string"===(a=typeof r)&&(s=o.exec(r))&&s[1]&&(r=f(e,n,s),a="number"),null!=r&&r==r&&("number"===a&&(r+=s&&s[3]||(t.cssNumber[l]?"":"px")),g.clearCloneStyle||""!==r||0!==n.indexOf("background")||(c[n]="inherit"),u&&"set"in u&&void 0===(r=u.set(e,r,i))||(c[n]=r))}},css:function(e,n,r,i){var o,s,a,u=t.camelCase(n);return n=t.cssProps[u]||(t.cssProps[u]=S(u)||u),(a=t.cssHooks[n]||t.cssHooks[u])&&"get"in a&&(o=a.get(e,!0,r)),void 0===o&&(o=h(e,n,i)),"normal"===o&&n in b&&(o=b[n]),""===r||r?(s=parseFloat(o),!0===r||isFinite(s)?s||0:o):o}}),t.each(["height","width"],(function(e,n){t.cssHooks[n]={get:function(e,r,i){if(r)return m.test(t.css(e,"display"))&&0===e.offsetWidth?c(e,y,(function(){return C(e,n,i)})):C(e,n,i)},set:function(e,r,i){var s,a=i&&l(e),u=i&&A(e,n,i,"border-box"===t.css(e,"boxSizing",!1,a),a);return u&&(s=o.exec(r))&&"px"!==(s[3]||"px")&&(e.style[n]=r,r=t.css(e,n)),E(0,r,u)}}})),t.cssHooks.marginLeft=d(g.reliableMarginLeft,(function(t,e){if(e)return(parseFloat(h(t,"marginLeft"))||t.getBoundingClientRect().left-c(t,{marginLeft:0},(function(){return t.getBoundingClientRect().left})))+"px"})),t.cssHooks.marginRight=d(g.reliableMarginRight,(function(t,e){if(e)return c(t,{display:"inline-block"},h,[t,"marginRight"])})),t.each({margin:"",padding:"",border:"Width"},(function(e,n){t.cssHooks[e+n]={expand:function(t){for(var r=0,i={},o="string"==typeof t?t.split(" "):[t];r<4;r++)i[e+a[r]+n]=o[r]||o[r-2]||o[0];return i}},r.test(e)||(t.cssHooks[e+n].set=E)})),t.fn.extend({css:function(e,r){return n(this,(function(e,n,r){var i,o,s={},a=0;if(t.isArray(n)){for(i=l(e),o=n.length;a<o;a++)s[n[a]]=t.css(e,n[a],!1,i);return s}return void 0!==r?t.style(e,n,r):t.css(e,n)}),e,r,arguments.length>1)},show:function(){return F(this,!0)},hide:function(){return F(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each((function(){u(this)?t(this).show():t(this).hide()}))}}),t}.apply(e,r))||(t.exports=i)},function(t,e,n){var r;void 0===(r=function(){return[]}.call(e,n,e,t))||(t.exports=r)},function(t,e,n){var r,i;r=[n(3),n(113),n(120)],void 0===(i=function(t,e){return t.extend({Deferred:function(e){var n=[["resolve","done",t.Callbacks("once memory"),"resolved"],["reject","fail",t.Callbacks("once memory"),"rejected"],["notify","progress",t.Callbacks("memory")]],r="pending",i={state:function(){return r},always:function(){return o.done(arguments).fail(arguments),this},then:function(){var e=arguments;return t.Deferred((function(r){t.each(n,(function(n,s){var a=t.isFunction(e[n])&&e[n];o[s[1]]((function(){var e=a&&a.apply(this,arguments);e&&t.isFunction(e.promise)?e.promise().progress(r.notify).done(r.resolve).fail(r.reject):r[s[0]+"With"](this===i?r.promise():this,a?[e]:arguments)}))})),e=null})).promise()},promise:function(e){return null!=e?t.extend(e,i):i}},o={};return i.pipe=i.then,t.each(n,(function(t,e){var s=e[2],a=e[3];i[e[1]]=s.add,a&&s.add((function(){r=a}),n[1^t][2].disable,n[2][2].lock),o[e[0]]=function(){return o[e[0]+"With"](this===o?i:this,arguments),this},o[e[0]+"With"]=s.fireWith})),i.promise(o),e&&e.call(o,o),o},when:function(n){var r,i,o,s=0,a=e.call(arguments),u=a.length,l=1!==u||n&&t.isFunction(n.promise)?u:0,c=1===l?n:t.Deferred(),h=function(t,n,i){return function(o){n[t]=this,i[t]=arguments.length>1?e.call(arguments):o,i===r?c.notifyWith(n,i):--l||c.resolveWith(n,i)}};if(u>1)for(r=new Array(u),i=new Array(u),o=new Array(u);s<u;s++)a[s]&&t.isFunction(a[s].promise)?a[s].promise().progress(h(s,i,r)).done(h(s,o,a)).fail(c.reject):--l;return l||c.resolveWith(o,a),c.promise()}}),t}.apply(e,r))||(t.exports=i)},function(t,e){t.exports=!0},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},function(t,e,n){var r=n(44).f,i=n(62),o=n(21)("toStringTag");t.exports=function(t,e,n){t&&!i(t=n?t:t.prototype,o)&&r(t,o,{configurable:!0,value:e})}},function(t,e,n){n(273);for(var r=n(20),i=n(56),o=n(71),s=n(21)("toStringTag"),a="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),u=0;u<a.length;u++){var l=a[u],c=r[l],h=c&&c.prototype;h&&!h[s]&&i(h,s,l),o[l]=o.Array}},function(t,e,n){var r=n(106)("meta"),i=n(42),o=n(62),s=n(44).f,a=0,u=Object.isExtensible||function(){return!0},l=!n(61)((function(){return u(Object.preventExtensions({}))})),c=function(t){s(t,r,{value:{i:"O"+ ++a,w:{}}})},h=t.exports={KEY:r,NEED:!1,fastKey:function(t,e){if(!i(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!o(t,r)){if(!u(t))return"F";if(!e)return"E";c(t)}return t[r].i},getWeak:function(t,e){if(!o(t,r)){if(!u(t))return!0;if(!e)return!1;c(t)}return t[r].w},onFreeze:function(t){return l&&h.NEED&&u(t)&&!o(t,r)&&c(t),t}}},function(t,e){e.f={}.propertyIsEnumerable},function(t,e,n){var r=n(55),i=n(205),o=n(206),s=n(49),a=n(105),u=n(140),l={},c={};(e=t.exports=function(t,e,n,h,f){var p,d,g,v,m=f?function(){return t}:u(t),y=r(n,h,e?2:1),b=0;if("function"!=typeof m)throw TypeError(t+" is not iterable!");if(o(m)){for(p=a(t.length);p>b;b++)if((v=e?y(s(d=t[b])[0],d[1]):y(t[b]))===l||v===c)return v}else for(g=m.call(t);!(d=g.next()).done;)if((v=i(g,y,d.value,e))===l||v===c)return v}).BREAK=l,e.RETURN=c},,,,,,,,,,,,,,,function(t,e,n){var r,i;r=[n(3),n(162),n(163),n(59),n(180),n(174),n(175),n(176),n(177),n(178),n(173),n(234),n(47),n(181),n(119),n(41),n(67),n(19),n(68)],void 0===(i=function(t,e,n,r,i,o,s,a,u,l,c,h,f,p,d){var g=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,v=/<script|<style|<link/i,m=/checked\s*(?:[^=]|=\s*.checked.)/i,y=/^true\/(.*)/,b=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function w(e,n){return t.nodeName(e,"table")&&t.nodeName(11!==n.nodeType?n:n.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function x(t){return t.type=(null!==t.getAttribute("type"))+"/"+t.type,t}function S(t){var e=y.exec(t.type);return e?t.type=e[1]:t.removeAttribute("type"),t}function E(e,n){var r,i,o,s,a,u,l,c;if(1===n.nodeType){if(f.hasData(e)&&(s=f.access(e),a=f.set(n,s),c=s.events))for(o in delete a.handle,a.events={},c)for(r=0,i=c[o].length;r<i;r++)t.event.add(n,o,c[o][r]);p.hasData(e)&&(u=p.access(e),l=t.extend({},u),p.set(n,l))}}function A(n,r,i,o){r=e.apply([],r);var a,l,p,d,g,v,y=0,w=n.length,E=w-1,C=r[0],F=t.isFunction(C);if(F||w>1&&"string"==typeof C&&!h.checkClone&&m.test(C))return n.each((function(t){var e=n.eq(t);F&&(r[0]=C.call(this,t,e.html())),A(e,r,i,o)}));if(w&&(l=(a=c(r,n[0].ownerDocument,!1,n,o)).firstChild,1===a.childNodes.length&&(a=l),l||o)){for(d=(p=t.map(u(a,"script"),x)).length;y<w;y++)g=a,y!==E&&(g=t.clone(g,!0,!0),d&&t.merge(p,u(g,"script"))),i.call(n[y],g,y);if(d)for(v=p[p.length-1].ownerDocument,t.map(p,S),y=0;y<d;y++)g=p[y],s.test(g.type||"")&&!f.access(g,"globalEval")&&t.contains(v,g)&&(g.src?t._evalUrl&&t._evalUrl(g.src):t.globalEval(g.textContent.replace(b,"")))}return n}function C(e,n,r){for(var i,o=n?t.filter(n,e):e,s=0;null!=(i=o[s]);s++)r||1!==i.nodeType||t.cleanData(u(i)),i.parentNode&&(r&&t.contains(i.ownerDocument,i)&&l(u(i,"script")),i.parentNode.removeChild(i));return e}return t.extend({htmlPrefilter:function(t){return t.replace(g,"<$1></$2>")},clone:function(e,n,r){var o,s,a,c,f,p,d,g=e.cloneNode(!0),v=t.contains(e.ownerDocument,e);if(!(h.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||t.isXMLDoc(e)))for(c=u(g),o=0,s=(a=u(e)).length;o<s;o++)f=a[o],p=c[o],d=void 0,"input"===(d=p.nodeName.toLowerCase())&&i.test(f.type)?p.checked=f.checked:"input"!==d&&"textarea"!==d||(p.defaultValue=f.defaultValue);if(n)if(r)for(a=a||u(e),c=c||u(g),o=0,s=a.length;o<s;o++)E(a[o],c[o]);else E(e,g);return(c=u(g,"script")).length>0&&l(c,!v&&u(e,"script")),g},cleanData:function(e){for(var n,r,i,o=t.event.special,s=0;void 0!==(r=e[s]);s++)if(d(r)){if(n=r[f.expando]){if(n.events)for(i in n.events)o[i]?t.event.remove(r,i):t.removeEvent(r,i,n.handle);r[f.expando]=void 0}r[p.expando]&&(r[p.expando]=void 0)}}}),t.fn.extend({domManip:A,detach:function(t){return C(this,t,!0)},remove:function(t){return C(this,t)},text:function(e){return r(this,(function(e){return void 0===e?t.text(this):this.empty().each((function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)}))}),null,e,arguments.length)},append:function(){return A(this,arguments,(function(t){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||w(this,t).appendChild(t)}))},prepend:function(){return A(this,arguments,(function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=w(this,t);e.insertBefore(t,e.firstChild)}}))},before:function(){return A(this,arguments,(function(t){this.parentNode&&this.parentNode.insertBefore(t,this)}))},after:function(){return A(this,arguments,(function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)}))},empty:function(){for(var e,n=0;null!=(e=this[n]);n++)1===e.nodeType&&(t.cleanData(u(e,!1)),e.textContent="");return this},clone:function(e,n){return e=null!=e&&e,n=null==n?e:n,this.map((function(){return t.clone(this,e,n)}))},html:function(e){return r(this,(function(e){var n=this[0]||{},r=0,i=this.length;if(void 0===e&&1===n.nodeType)return n.innerHTML;if("string"==typeof e&&!v.test(e)&&!a[(o.exec(e)||["",""])[1].toLowerCase()]){e=t.htmlPrefilter(e);try{for(;r<i;r++)1===(n=this[r]||{}).nodeType&&(t.cleanData(u(n,!1)),n.innerHTML=e);n=0}catch(t){}}n&&this.empty().append(e)}),null,e,arguments.length)},replaceWith:function(){var e=[];return A(this,arguments,(function(n){var r=this.parentNode;t.inArray(this,e)<0&&(t.cleanData(u(this)),r&&r.replaceChild(n,this))}),e)}}),t.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},(function(e,r){t.fn[e]=function(e){for(var i,o=[],s=t(e),a=s.length-1,u=0;u<=a;u++)i=u===a?this:this.clone(!0),t(s[u])[r](i),n.apply(o,i.get());return this.pushStack(o)}})),t}.apply(e,r))||(t.exports=i)},function(t,e,n){var r=n(125),i=Math.min;t.exports=function(t){return t>0?i(r(t),9007199254740991):0}},function(t,e){var n=0,r=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++n+r).toString(36))}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=s(n(64)),i=s(n(200)),o=s(n(201));function s(t){return t&&t.__esModule?t:{default:t}}var a=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,i.default)(this,t),this.rid="",this.instance=null,this.option=e,this.init()}return(0,o.default)(t,[{key:"init",value:function(){var t=this;!function(t,e){var n=document.createElement("script");n.type="text/javascript",n.readyState?n.onreadystatechange=function(){"loaded"!=n.readyState&&"complete"!=n.readyState||(n.onreadystatechange=null,e())}:n.onload=function(){e()};n.src=t,document.getElementsByTagName("head")[0].appendChild(n)}("https://castatic.fengkongcloud.cn/pr/v1.0.3/smcp.min.js",(function(){t.fetchSMCaptcha()}))}},{key:"fetchSMCaptcha",value:function(){var t=this;if(window.initSMCaptcha){var e=(0,r.default)({},{organization:"ltA7kUoBFCTVmRodXoKD",product:"popup",width:"210px",disabled:!1},this.option);window.initSMCaptcha(e,(function(e){e.onReady((function(){t.instance=e})),e.onSuccess((function(e){e.pass&&(t.rid=e.rid,"function"==typeof t.option.onSuccess&&t.option.onSuccess(t.rid))}))}))}}}]),t}();e.default=a},function(t,e,n){t.exports={default:n(283),__esModule:!0}},function(t,e,n){var r=n(84),i=n(21)("toStringTag"),o="Arguments"==r(function(){return arguments}());t.exports=function(t){var e,n,s;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),i))?n:o?r(e):"Object"==(s=r(e))&&"function"==typeof e.callee?"Arguments":s}},function(t,e){t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n=function(t,e){var n=t[1]||"",r=t[3];if(!r)return n;if(e&&"function"==typeof btoa){var i=(s=r,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(s))))+" */"),o=r.sources.map((function(t){return"/*# sourceURL="+r.sourceRoot+t+" */"}));return[n].concat(o).concat([i]).join("\n")}var s;return[n].join("\n")}(e,t);return e[2]?"@media "+e[2]+"{"+n+"}":n})).join("")},e.i=function(t,n){"string"==typeof t&&(t=[[null,t,""]]);for(var r={},i=0;i<this.length;i++){var o=this[i][0];"number"==typeof o&&(r[o]=!0)}for(i=0;i<t.length;i++){var s=t[i];"number"==typeof s[0]&&r[s[0]]||(n&&!s[2]?s[2]=n:n&&(s[2]="("+s[2]+") and ("+n+")"),e.push(s))}},e}},function(t,e,n){var r,i,o={},s=(r=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===i&&(i=r.apply(this,arguments)),i}),a=function(t){var e={};return function(n){if(void 0===e[n]){var r=t.call(this,n);if(r instanceof window.HTMLIFrameElement)try{r=r.contentDocument.head}catch(t){r=null}e[n]=r}return e[n]}}((function(t){return document.querySelector(t)})),u=null,l=0,c=[],h=n(350);function f(t,e){for(var n=0;n<t.length;n++){var r=t[n],i=o[r.id];if(i){i.refs++;for(var s=0;s<i.parts.length;s++)i.parts[s](r.parts[s]);for(;s<r.parts.length;s++)i.parts.push(y(r.parts[s],e))}else{var a=[];for(s=0;s<r.parts.length;s++)a.push(y(r.parts[s],e));o[r.id]={id:r.id,refs:1,parts:a}}}}function p(t,e){for(var n=[],r={},i=0;i<t.length;i++){var o=t[i],s=e.base?o[0]+e.base:o[0],a={css:o[1],media:o[2],sourceMap:o[3]};r[s]?r[s].parts.push(a):n.push(r[s]={id:s,parts:[a]})}return n}function d(t,e){var n=a(t.insertInto);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var r=c[c.length-1];if("top"===t.insertAt)r?r.nextSibling?n.insertBefore(e,r.nextSibling):n.appendChild(e):n.insertBefore(e,n.firstChild),c.push(e);else if("bottom"===t.insertAt)n.appendChild(e);else{if("object"!=typeof t.insertAt||!t.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var i=a(t.insertInto+" "+t.insertAt.before);n.insertBefore(e,i)}}function g(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t);var e=c.indexOf(t);e>=0&&c.splice(e,1)}function v(t){var e=document.createElement("style");return t.attrs.type="text/css",m(e,t.attrs),d(t,e),e}function m(t,e){Object.keys(e).forEach((function(n){t.setAttribute(n,e[n])}))}function y(t,e){var n,r,i,o;if(e.transform&&t.css){if(!(o=e.transform(t.css)))return function(){};t.css=o}if(e.singleton){var s=l++;n=u||(u=v(e)),r=x.bind(null,n,s,!1),i=x.bind(null,n,s,!0)}else t.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=function(t){var e=document.createElement("link");return t.attrs.type="text/css",t.attrs.rel="stylesheet",m(e,t.attrs),d(t,e),e}(e),r=E.bind(null,n,e),i=function(){g(n),n.href&&URL.revokeObjectURL(n.href)}):(n=v(e),r=S.bind(null,n),i=function(){g(n)});return r(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;r(t=e)}else i()}}t.exports=function(t,e){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(e=e||{}).attrs="object"==typeof e.attrs?e.attrs:{},e.singleton||"boolean"==typeof e.singleton||(e.singleton=s()),e.insertInto||(e.insertInto="head"),e.insertAt||(e.insertAt="bottom");var n=p(t,e);return f(n,e),function(t){for(var r=[],i=0;i<n.length;i++){var s=n[i];(a=o[s.id]).refs--,r.push(a)}t&&f(p(t,e),e);for(i=0;i<r.length;i++){var a;if(0===(a=r[i]).refs){for(var u=0;u<a.parts.length;u++)a.parts[u]();delete o[a.id]}}}};var b,w=(b=[],function(t,e){return b[t]=e,b.filter(Boolean).join("\n")});function x(t,e,n,r){var i=n?"":r.css;if(t.styleSheet)t.styleSheet.cssText=w(e,i);else{var o=document.createTextNode(i),s=t.childNodes;s[e]&&t.removeChild(s[e]),s.length?t.insertBefore(o,s[e]):t.appendChild(o)}}function S(t,e){var n=e.css,r=e.media;if(r&&t.setAttribute("media",r),t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}function E(t,e,n){var r=n.css,i=n.sourceMap,o=void 0===e.convertToAbsoluteUrls&&i;(e.convertToAbsoluteUrls||o)&&(r=h(r)),i&&(r+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(i))))+" */");var s=new Blob([r],{type:"text/css"}),a=t.href;t.href=URL.createObjectURL(s),a&&URL.revokeObjectURL(a)}},function(t,e,n){var r,i;r=[n(79)],void 0===(i=function(t){return t.indexOf}.apply(e,r))||(t.exports=i)},function(t,e,n){var r,i;r=[n(79)],void 0===(i=function(t){return t.slice}.apply(e,r))||(t.exports=i)},function(t,e,n){var r;void 0===(r=function(){return{}}.call(e,n,e,t))||(t.exports=r)},function(t,e,n){var r,i;r=[n(116)],void 0===(i=function(t){return new RegExp("^(?:([+-])=|)("+t+")([a-z%]*)$","i")}.apply(e,r))||(t.exports=i)},function(t,e,n){var r;void 0===(r=function(){return/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source}.call(e,n,e,t))||(t.exports=r)},function(t,e,n){var r,i;r=[n(116)],void 0===(i=function(t){return new RegExp("^("+t+")(?!px)[a-z%]+$","i")}.apply(e,r))||(t.exports=i)},function(t,e,n){var r,i;r=[n(3),n(18),n(170),n(66)],void 0===(i=function(t,e,n,r){return function(){var i,o,s,a,u=e.createElement("div"),l=e.createElement("div");function c(){l.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",l.innerHTML="",n.appendChild(u);var t=window.getComputedStyle(l);i="1%"!==t.top,a="2px"===t.marginLeft,o="4px"===t.width,l.style.marginRight="50%",s="4px"===t.marginRight,n.removeChild(u)}l.style&&(l.style.backgroundClip="content-box",l.cloneNode(!0).style.backgroundClip="",r.clearCloneStyle="content-box"===l.style.backgroundClip,u.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",u.appendChild(l),t.extend(r,{pixelPosition:function(){return c(),i},boxSizingReliable:function(){return null==o&&c(),o},pixelMarginRight:function(){return null==o&&c(),s},reliableMarginLeft:function(){return null==o&&c(),a},reliableMarginRight:function(){var t,r=l.appendChild(e.createElement("div"));return r.style.cssText=l.style.cssText="-webkit-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",r.style.marginRight=r.style.width="0",l.style.width="1px",n.appendChild(u),t=!parseFloat(window.getComputedStyle(r).marginRight),n.removeChild(u),l.removeChild(r),t}}))}(),r}.apply(e,r))||(t.exports=i)},function(t,e,n){var r;void 0===(r=function(){return function(t){return 1===t.nodeType||9===t.nodeType||!+t.nodeType}}.call(e,n,e,t))||(t.exports=r)},function(t,e,n){var r,i;r=[n(3),n(60)],void 0===(i=function(t,e){return t.Callbacks=function(n){n="string"==typeof n?function(n){var r={};return t.each(n.match(e)||[],(function(t,e){r[e]=!0})),r}(n):t.extend({},n);var r,i,o,s,a=[],u=[],l=-1,c=function(){for(s=n.once,o=r=!0;u.length;l=-1)for(i=u.shift();++l<a.length;)!1===a[l].apply(i[0],i[1])&&n.stopOnFalse&&(l=a.length,i=!1);n.memory||(i=!1),r=!1,s&&(a=i?[]:"")},h={add:function(){return a&&(i&&!r&&(l=a.length-1,u.push(i)),function e(r){t.each(r,(function(r,i){t.isFunction(i)?n.unique&&h.has(i)||a.push(i):i&&i.length&&"string"!==t.type(i)&&e(i)}))}(arguments),i&&!r&&c()),this},remove:function(){return t.each(arguments,(function(e,n){for(var r;(r=t.inArray(n,a,r))>-1;)a.splice(r,1),r<=l&&l--})),this},has:function(e){return e?t.inArray(e,a)>-1:a.length>0},empty:function(){return a&&(a=[]),this},disable:function(){return s=u=[],a=i="",this},disabled:function(){return!a},lock:function(){return s=u=[],i||(a=i=""),this},locked:function(){return!!s},fireWith:function(t,e){return s||(e=[t,(e=e||[]).slice?e.slice():e],u.push(e),r||c()),this},fire:function(){return h.fireWith(this,arguments),this},fired:function(){return!!o}};return h},t}.apply(e,r))||(t.exports=i)},function(t,e,n){var r,i;r=[n(3),n(47),n(80),n(120)],void 0===(i=function(t,e){return t.extend({queue:function(n,r,i){var o;if(n)return r=(r||"fx")+"queue",o=e.get(n,r),i&&(!o||t.isArray(i)?o=e.access(n,r,t.makeArray(i)):o.push(i)),o||[]},dequeue:function(e,n){n=n||"fx";var r=t.queue(e,n),i=r.length,o=r.shift(),s=t._queueHooks(e,n);"inprogress"===o&&(o=r.shift(),i--),o&&("fx"===n&&r.unshift("inprogress"),delete s.stop,o.call(e,(function(){t.dequeue(e,n)}),s)),!i&&s&&s.empty.fire()},_queueHooks:function(n,r){var i=r+"queueHooks";return e.get(n,i)||e.access(n,i,{empty:t.Callbacks("once memory").add((function(){e.remove(n,[r+"queue",i])}))})}}),t.fn.extend({queue:function(e,n){var r=2;return"string"!=typeof e&&(n=e,e="fx",r--),arguments.length<r?t.queue(this[0],e):void 0===n?this:this.each((function(){var r=t.queue(this,e,n);t._queueHooks(this,e),"fx"===e&&"inprogress"!==r[0]&&t.dequeue(this,e)}))},dequeue:function(e){return this.each((function(){t.dequeue(this,e)}))},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(n,r){var i,o=1,s=t.Deferred(),a=this,u=this.length,l=function(){--o||s.resolveWith(a,[a])};for("string"!=typeof n&&(r=n,n=void 0),n=n||"fx";u--;)(i=e.get(a[u],n+"queueHooks"))&&i.empty&&(o++,i.empty.add(l));return l(),s.promise(r)}}),t}.apply(e,r))||(t.exports=i)},function(t,e,n){var r,i;r=[n(3),n(18),n(115),n(166),n(60),n(167),n(171),n(172),n(47),n(41),n(239),n(121),n(78),n(80),n(67)],void 0===(i=function(t,e,n,r,i,o,s,a,u){var l,c,h=/^(?:toggle|show|hide)$/,f=/queueHooks$/;function p(){return window.setTimeout((function(){l=void 0})),l=t.now()}function d(t,e){var n,i=0,o={height:t};for(e=e?1:0;i<4;i+=2-e)o["margin"+(n=r[i])]=o["padding"+n]=t;return e&&(o.opacity=o.width=t),o}function g(t,e,n){for(var r,i=(v.tweeners[e]||[]).concat(v.tweeners["*"]),o=0,s=i.length;o<s;o++)if(r=i[o].call(n,e,t))return r}function v(e,n,r){var i,o,s=0,a=v.prefilters.length,u=t.Deferred().always((function(){delete c.elem})),c=function(){if(o)return!1;for(var t=l||p(),n=Math.max(0,h.startTime+h.duration-t),r=1-(n/h.duration||0),i=0,s=h.tweens.length;i<s;i++)h.tweens[i].run(r);return u.notifyWith(e,[h,r,n]),r<1&&s?n:(u.resolveWith(e,[h]),!1)},h=u.promise({elem:e,props:t.extend({},n),opts:t.extend(!0,{specialEasing:{},easing:t.easing._default},r),originalProperties:n,originalOptions:r,startTime:l||p(),duration:r.duration,tweens:[],createTween:function(n,r){var i=t.Tween(e,h.opts,n,r,h.opts.specialEasing[n]||h.opts.easing);return h.tweens.push(i),i},stop:function(t){var n=0,r=t?h.tweens.length:0;if(o)return this;for(o=!0;n<r;n++)h.tweens[n].run(1);return t?(u.notifyWith(e,[h,1,0]),u.resolveWith(e,[h,t])):u.rejectWith(e,[h,t]),this}}),f=h.props;for(!function(e,n){var r,i,o,s,a;for(r in e)if(o=n[i=t.camelCase(r)],s=e[r],t.isArray(s)&&(o=s[1],s=e[r]=s[0]),r!==i&&(e[i]=s,delete e[r]),(a=t.cssHooks[i])&&"expand"in a)for(r in s=a.expand(s),delete e[i],s)r in e||(e[r]=s[r],n[r]=o);else n[i]=o}(f,h.opts.specialEasing);s<a;s++)if(i=v.prefilters[s].call(h,e,f,h.opts))return t.isFunction(i.stop)&&(t._queueHooks(h.elem,h.opts.queue).stop=t.proxy(i.stop,i)),i;return t.map(f,g,h),t.isFunction(h.opts.start)&&h.opts.start.call(e,h),t.fx.timer(t.extend(c,{elem:e,anim:h,queue:h.opts.queue})),h.progress(h.opts.progress).done(h.opts.done,h.opts.complete).fail(h.opts.fail).always(h.opts.always)}return t.Animation=t.extend(v,{tweeners:{"*":[function(t,e){var r=this.createTween(t,e);return s(r.elem,t,n.exec(e),r),r}]},tweener:function(e,n){t.isFunction(e)?(n=e,e=["*"]):e=e.match(i);for(var r,o=0,s=e.length;o<s;o++)r=e[o],v.tweeners[r]=v.tweeners[r]||[],v.tweeners[r].unshift(n)},prefilters:[function(e,n,r){var i,s,l,c,f,p,d,v=this,m={},y=e.style,b=e.nodeType&&o(e),w=u.get(e,"fxshow");for(i in r.queue||(null==(f=t._queueHooks(e,"fx")).unqueued&&(f.unqueued=0,p=f.empty.fire,f.empty.fire=function(){f.unqueued||p()}),f.unqueued++,v.always((function(){v.always((function(){f.unqueued--,t.queue(e,"fx").length||f.empty.fire()}))}))),1===e.nodeType&&("height"in n||"width"in n)&&(r.overflow=[y.overflow,y.overflowX,y.overflowY],"inline"===("none"===(d=t.css(e,"display"))?u.get(e,"olddisplay")||a(e.nodeName):d)&&"none"===t.css(e,"float")&&(y.display="inline-block")),r.overflow&&(y.overflow="hidden",v.always((function(){y.overflow=r.overflow[0],y.overflowX=r.overflow[1],y.overflowY=r.overflow[2]}))),n)if(s=n[i],h.exec(s)){if(delete n[i],l=l||"toggle"===s,s===(b?"hide":"show")){if("show"!==s||!w||void 0===w[i])continue;b=!0}m[i]=w&&w[i]||t.style(e,i)}else d=void 0;if(t.isEmptyObject(m))"inline"===("none"===d?a(e.nodeName):d)&&(y.display=d);else for(i in w?"hidden"in w&&(b=w.hidden):w=u.access(e,"fxshow",{}),l&&(w.hidden=!b),b?t(e).show():v.done((function(){t(e).hide()})),v.done((function(){var n;for(n in u.remove(e,"fxshow"),m)t.style(e,n,m[n])})),m)c=g(b?w[i]:0,i,v),i in w||(w[i]=c.start,b&&(c.end=c.start,c.start="width"===i||"height"===i?1:0))}],prefilter:function(t,e){e?v.prefilters.unshift(t):v.prefilters.push(t)}}),t.speed=function(e,n,r){var i=e&&"object"==typeof e?t.extend({},e):{complete:r||!r&&n||t.isFunction(e)&&e,duration:e,easing:r&&n||n&&!t.isFunction(n)&&n};return i.duration=t.fx.off?0:"number"==typeof i.duration?i.duration:i.duration in t.fx.speeds?t.fx.speeds[i.duration]:t.fx.speeds._default,null!=i.queue&&!0!==i.queue||(i.queue="fx"),i.old=i.complete,i.complete=function(){t.isFunction(i.old)&&i.old.call(this),i.queue&&t.dequeue(this,i.queue)},i},t.fn.extend({fadeTo:function(t,e,n,r){return this.filter(o).css("opacity",0).show().end().animate({opacity:e},t,n,r)},animate:function(e,n,r,i){var o=t.isEmptyObject(e),s=t.speed(n,r,i),a=function(){var n=v(this,t.extend({},e),s);(o||u.get(this,"finish"))&&n.stop(!0)};return a.finish=a,o||!1===s.queue?this.each(a):this.queue(s.queue,a)},stop:function(e,n,r){var i=function(t){var e=t.stop;delete t.stop,e(r)};return"string"!=typeof e&&(r=n,n=e,e=void 0),n&&!1!==e&&this.queue(e||"fx",[]),this.each((function(){var n=!0,o=null!=e&&e+"queueHooks",s=t.timers,a=u.get(this);if(o)a[o]&&a[o].stop&&i(a[o]);else for(o in a)a[o]&&a[o].stop&&f.test(o)&&i(a[o]);for(o=s.length;o--;)s[o].elem!==this||null!=e&&s[o].queue!==e||(s[o].anim.stop(r),n=!1,s.splice(o,1));!n&&r||t.dequeue(this,e)}))},finish:function(e){return!1!==e&&(e=e||"fx"),this.each((function(){var n,r=u.get(this),i=r[e+"queue"],o=r[e+"queueHooks"],s=t.timers,a=i?i.length:0;for(r.finish=!0,t.queue(this,e,[]),o&&o.stop&&o.stop.call(this,!0),n=s.length;n--;)s[n].elem===this&&s[n].queue===e&&(s[n].anim.stop(!0),s.splice(n,1));for(n=0;n<a;n++)i[n]&&i[n].finish&&i[n].finish.call(this);delete r.finish}))}}),t.each(["toggle","show","hide"],(function(e,n){var r=t.fn[n];t.fn[n]=function(t,e,i){return null==t||"boolean"==typeof t?r.apply(this,arguments):this.animate(d(n,!0),t,e,i)}})),t.each({slideDown:d("show"),slideUp:d("hide"),slideToggle:d("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},(function(e,n){t.fn[e]=function(t,e,r){return this.animate(n,t,e,r)}})),t.timers=[],t.fx.tick=function(){var e,n=0,r=t.timers;for(l=t.now();n<r.length;n++)(e=r[n])()||r[n]!==e||r.splice(n--,1);r.length||t.fx.stop(),l=void 0},t.fx.timer=function(e){t.timers.push(e),e()?t.fx.start():t.timers.pop()},t.fx.interval=13,t.fx.start=function(){c||(c=window.setInterval(t.fx.tick,t.fx.interval))},t.fx.stop=function(){window.clearInterval(c),c=null},t.fx.speeds={slow:600,fast:200,_default:400},t}.apply(e,r))||(t.exports=i)},function(t,e,n){var r,i;r=[n(18),n(66)],void 0===(i=function(t,e){var n,r,i;return n=t.createElement("input"),r=t.createElement("select"),i=r.appendChild(t.createElement("option")),n.type="checkbox",e.checkOn=""!==n.value,e.optSelected=i.selected,r.disabled=!0,e.optDisabled=!i.disabled,(n=t.createElement("input")).value="t",n.type="radio",e.radioValue="t"===n.value,e}.apply(e,r))||(t.exports=i)},function(t,e,n){var r,i;r=[n(3),n(18),n(47),n(119),n(164),n(68)],void 0===(i=function(t,e,n,r,i){var o=/^(?:focusinfocus|focusoutblur)$/;return t.extend(t.event,{trigger:function(s,a,u,l){var c,h,f,p,d,g,v,m=[u||e],y=i.call(s,"type")?s.type:s,b=i.call(s,"namespace")?s.namespace.split("."):[];if(h=f=u=u||e,3!==u.nodeType&&8!==u.nodeType&&!o.test(y+t.event.triggered)&&(y.indexOf(".")>-1&&(b=y.split("."),y=b.shift(),b.sort()),d=y.indexOf(":")<0&&"on"+y,(s=s[t.expando]?s:new t.Event(y,"object"==typeof s&&s)).isTrigger=l?2:3,s.namespace=b.join("."),s.rnamespace=s.namespace?new RegExp("(^|\\.)"+b.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,s.result=void 0,s.target||(s.target=u),a=null==a?[s]:t.makeArray(a,[s]),v=t.event.special[y]||{},l||!v.trigger||!1!==v.trigger.apply(u,a))){if(!l&&!v.noBubble&&!t.isWindow(u)){for(p=v.delegateType||y,o.test(p+y)||(h=h.parentNode);h;h=h.parentNode)m.push(h),f=h;f===(u.ownerDocument||e)&&m.push(f.defaultView||f.parentWindow||window)}for(c=0;(h=m[c++])&&!s.isPropagationStopped();)s.type=c>1?p:v.bindType||y,(g=(n.get(h,"events")||{})[s.type]&&n.get(h,"handle"))&&g.apply(h,a),(g=d&&h[d])&&g.apply&&r(h)&&(s.result=g.apply(h,a),!1===s.result&&s.preventDefault());return s.type=y,l||s.isDefaultPrevented()||v._default&&!1!==v._default.apply(m.pop(),a)||!r(u)||d&&t.isFunction(u[y])&&!t.isWindow(u)&&((f=u[d])&&(u[d]=null),t.event.triggered=y,u[y](),t.event.triggered=void 0,f&&(u[d]=f)),s.result}},simulate:function(e,n,r){var i=t.extend(new t.Event,r,{type:e,isSimulated:!0});t.event.trigger(i,null,n)}}),t.fn.extend({trigger:function(e,n){return this.each((function(){t.event.trigger(e,n,this)}))},triggerHandler:function(e,n){var r=this[0];if(r)return t.event.trigger(e,n,r,!0)}}),t}.apply(e,r))||(t.exports=i)},function(t,e){var n=Math.ceil,r=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?r:n)(t)}},function(t,e){t.exports=function(t){if(null==t)throw TypeError("Can't call method on  "+t);return t}},function(t,e,n){"use strict";var r=n(81),i=n(11),o=n(194),s=n(56),a=n(71),u=n(269),l=n(85),c=n(272),h=n(21)("iterator"),f=!([].keys&&"next"in[].keys()),p=function(){return this};t.exports=function(t,e,n,d,g,v,m){u(n,e,d);var y,b,w,x=function(t){if(!f&&t in C)return C[t];switch(t){case"keys":case"values":return function(){return new n(this,t)}}return function(){return new n(this,t)}},S=e+" Iterator",E="values"==g,A=!1,C=t.prototype,F=C[h]||C["@@iterator"]||g&&C[g],P=F||x(g),k=g?E?x("entries"):P:void 0,T="Array"==e&&C.entries||F;if(T&&(w=c(T.call(new t)))!==Object.prototype&&w.next&&(l(w,S,!0),r||"function"==typeof w[h]||s(w,h,p)),E&&F&&"values"!==F.name&&(A=!0,P=function(){return F.call(this)}),r&&!m||!f&&!A&&C[h]||s(C,h,P),a[e]=P,a[S]=p,g)if(y={values:E?P:x("values"),keys:v?P:x("keys"),entries:k},m)for(b in y)b in C||o(C,b,y[b]);else i(i.P+i.F*(f||A),e,y);return y}},function(t,e,n){var r=n(42),i=n(20).document,o=r(i)&&r(i.createElement);t.exports=function(t){return o?i.createElement(t):{}}},function(t,e,n){var r=n(42);t.exports=function(t,e){if(!r(t))return t;var n,i;if(e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;if("function"==typeof(n=t.valueOf)&&!r(i=n.call(t)))return i;if(!e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;throw TypeError("Can't convert object to primitive value")}},function(t,e,n){var r=n(44),i=n(49),o=n(72);t.exports=n(37)?Object.defineProperties:function(t,e){i(t);for(var n,s=o(e),a=s.length,u=0;a>u;)r.f(t,n=s[u++],e[n]);return t}},function(t,e,n){var r=n(84);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==r(t)?t.split(""):Object(t)}},function(t,e,n){var r=n(133)("keys"),i=n(106);t.exports=function(t){return r[t]||(r[t]=i(t))}},function(t,e,n){var r=n(7),i=n(20),o=i["__core-js_shared__"]||(i["__core-js_shared__"]={});(t.exports=function(t,e){return o[t]||(o[t]=void 0!==e?e:{})})("versions",[]).push({version:r.version,mode:n(81)?"pure":"global",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})},function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(t,e,n){e.f=n(21)},function(t,e,n){var r=n(20),i=n(7),o=n(81),s=n(135),a=n(44).f;t.exports=function(t){var e=i.Symbol||(i.Symbol=o?{}:r.Symbol||{});"_"==t.charAt(0)||t in e||a(e,t,{value:s.f(t)})}},function(t,e){e.f=Object.getOwnPropertySymbols},function(t,e){},function(t,e){t.exports=function(t,e,n,r){if(!(t instanceof e)||void 0!==r&&r in t)throw TypeError(n+": incorrect invocation!");return t}},function(t,e,n){var r=n(109),i=n(21)("iterator"),o=n(71);t.exports=n(7).getIteratorMethod=function(t){if(null!=t)return t[i]||t["@@iterator"]||o[r(t)]}},function(t,e,n){"use strict";var r=n(82);function i(t){var e,n;this.promise=new t((function(t,r){if(void 0!==e||void 0!==n)throw TypeError("Bad Promise constructor");e=t,n=r})),this.resolve=r(e),this.reject=r(n)}t.exports.f=function(t){return new i(t)}},function(t,e,n){var r=n(56);t.exports=function(t,e,n){for(var i in e)n&&t[i]?t[i]=e[i]:r(t,i,e[i]);return t}},function(t,e,n){"use strict";var r,i,o;!function(){function s(t){t.fn._fadeIn=t.fn.fadeIn;var e=t.noop||function(){},n=/MSIE/.test(navigator.userAgent),r=/MSIE 6.0/.test(navigator.userAgent)&&!/MSIE 8.0/.test(navigator.userAgent),i=(document.documentMode,t.isFunction(document.createElement("div").style.setExpression));t.blockUI=function(t){a(window,t)},t.unblockUI=function(t){u(window,t)},t.growlUI=function(e,n,r,i){var o=t('<div class="growlUI"></div>');e&&o.append("<h1>"+e+"</h1>"),n&&o.append("<h2>"+n+"</h2>"),void 0===r&&(r=3e3);var s=function(e){e=e||{},t.blockUI({message:o,fadeIn:void 0!==e.fadeIn?e.fadeIn:700,fadeOut:void 0!==e.fadeOut?e.fadeOut:1e3,timeout:void 0!==e.timeout?e.timeout:r,centerY:!1,showOverlay:!1,onUnblock:i,css:t.blockUI.defaults.growlCSS})};s();o.css("opacity");o.mouseover((function(){s({fadeIn:0,timeout:3e4});var e=t(".blockMsg");e.stop(),e.fadeTo(300,1)})).mouseout((function(){t(".blockMsg").fadeOut(1e3)}))},t.fn.block=function(e){if(this[0]===window)return t.blockUI(e),this;var n=t.extend({},t.blockUI.defaults,e||{});return this.each((function(){var e=t(this);n.ignoreIfBlocked&&e.data("blockUI.isBlocked")||e.unblock({fadeOut:0})})),this.each((function(){"static"==t.css(this,"position")&&(this.style.position="relative",t(this).data("blockUI.static",!0)),this.style.zoom=1,a(this,e)}))},t.fn.unblock=function(e){return this[0]===window?(t.unblockUI(e),this):this.each((function(){u(this,e)}))},t.blockUI.version=2.7,t.blockUI.defaults={message:"<h1>Please wait...</h1>",title:null,draggable:!0,theme:!1,css:{padding:0,margin:0,width:"30%",top:"40%",left:"35%",textAlign:"center",color:"#000",border:"3px solid #aaa",backgroundColor:"#fff",cursor:"wait"},themedCSS:{width:"30%",top:"40%",left:"35%"},overlayCSS:{backgroundColor:"#000",opacity:.6,cursor:"wait"},cursorReset:"default",growlCSS:{width:"350px",top:"10px",left:"",right:"10px",border:"none",padding:"5px",opacity:.6,cursor:"default",color:"#fff",backgroundColor:"#000","-webkit-border-radius":"10px","-moz-border-radius":"10px","border-radius":"10px"},iframeSrc:/^https/i.test(window.location.href||"")?"javascript:false":"about:blank",forceIframe:!1,baseZ:1e3,centerX:!0,centerY:!0,allowBodyStretch:!0,bindEvents:!0,constrainTabKey:!0,fadeIn:200,fadeOut:400,timeout:0,showOverlay:!0,focusInput:!0,focusableElements:":input:enabled:visible",onBlock:null,onUnblock:null,onOverlayClick:null,quirksmodeOffsetHack:4,blockMsgClass:"blockMsg",ignoreIfBlocked:!1};var o=null,s=[];function a(a,l){var h,d,g=a==window,v=l&&void 0!==l.message?l.message:void 0;if(!(l=t.extend({},t.blockUI.defaults,l||{})).ignoreIfBlocked||!t(a).data("blockUI.isBlocked")){if(l.overlayCSS=t.extend({},t.blockUI.defaults.overlayCSS,l.overlayCSS||{}),h=t.extend({},t.blockUI.defaults.css,l.css||{}),l.onOverlayClick&&(l.overlayCSS.cursor="pointer"),d=t.extend({},t.blockUI.defaults.themedCSS,l.themedCSS||{}),v=void 0===v?l.message:v,g&&o&&u(window,{fadeOut:0}),v&&"string"!=typeof v&&(v.parentNode||v.jquery)){var m=v.jquery?v[0]:v,y={};t(a).data("blockUI.history",y),y.el=m,y.parent=m.parentNode,y.display=m.style.display,y.position=m.style.position,y.parent&&y.parent.removeChild(m)}t(a).data("blockUI.onUnblock",l.onUnblock);var b,w,x,S,E=l.baseZ;b=n||l.forceIframe?t('<iframe class="blockUI" style="z-index:'+E+++';display:none;border:none;margin:0;padding:0;position:absolute;width:100%;height:100%;top:0;left:0" src="'+l.iframeSrc+'"></iframe>'):t('<div class="blockUI" style="display:none"></div>'),w=l.theme?t('<div class="blockUI blockOverlay ui-widget-overlay" style="z-index:'+E+++';display:none"></div>'):t('<div class="blockUI blockOverlay" style="z-index:'+E+++';display:none;border:none;margin:0;padding:0;width:100%;height:100%;top:0;left:0"></div>'),l.theme&&g?(S='<div class="blockUI '+l.blockMsgClass+' blockPage ui-dialog ui-widget ui-corner-all" style="z-index:'+(E+10)+';display:none;position:fixed">',l.title&&(S+='<div class="ui-widget-header ui-dialog-titlebar ui-corner-all blockTitle">'+(l.title||"&nbsp;")+"</div>"),S+='<div class="ui-widget-content ui-dialog-content"></div>',S+="</div>"):l.theme?(S='<div class="blockUI '+l.blockMsgClass+' blockElement ui-dialog ui-widget ui-corner-all" style="z-index:'+(E+10)+';display:none;position:absolute">',l.title&&(S+='<div class="ui-widget-header ui-dialog-titlebar ui-corner-all blockTitle">'+(l.title||"&nbsp;")+"</div>"),S+='<div class="ui-widget-content ui-dialog-content"></div>',S+="</div>"):S=g?'<div class="blockUI '+l.blockMsgClass+' blockPage" style="z-index:'+(E+10)+';display:none;position:fixed"></div>':'<div class="blockUI '+l.blockMsgClass+' blockElement" style="z-index:'+(E+10)+';display:none;position:absolute"></div>',x=t(S),v&&(l.theme?(x.css(d),x.addClass("ui-widget-content")):x.css(h)),l.theme||w.css(l.overlayCSS),w.css("position",g?"fixed":"absolute"),(n||l.forceIframe)&&b.css("opacity",0);var A=[b,w,x],C=t(g?"body":a);t.each(A,(function(){this.appendTo(C)})),l.theme&&l.draggable&&t.fn.draggable&&x.draggable({handle:".ui-dialog-titlebar",cancel:"li"});var F=i&&(!t.support.boxModel||t("object,embed",g?null:a).length>0);if(r||F){if(g&&l.allowBodyStretch&&t.support.boxModel&&t("html,body").css("height","100%"),(r||!t.support.boxModel)&&!g)var P=p(a,"borderTopWidth"),k=p(a,"borderLeftWidth"),T=P?"(0 - "+P+")":0,_=k?"(0 - "+k+")":0;t.each(A,(function(t,e){var n=e[0].style;if(n.position="absolute",t<2)g?n.setExpression("height","Math.max(document.body.scrollHeight, document.body.offsetHeight) - (jQuery.support.boxModel?0:"+l.quirksmodeOffsetHack+') + "px"'):n.setExpression("height",'this.parentNode.offsetHeight + "px"'),g?n.setExpression("width",'jQuery.support.boxModel && document.documentElement.clientWidth || document.body.clientWidth + "px"'):n.setExpression("width",'this.parentNode.offsetWidth + "px"'),_&&n.setExpression("left",_),T&&n.setExpression("top",T);else if(l.centerY)g&&n.setExpression("top",'(document.documentElement.clientHeight || document.body.clientHeight) / 2 - (this.offsetHeight / 2) + (blah = document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop) + "px"'),n.marginTop=0;else if(!l.centerY&&g){var r="((document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop) + "+(l.css&&l.css.top?parseInt(l.css.top,10):0)+') + "px"';n.setExpression("top",r)}}))}if(v&&(l.theme?x.find(".ui-widget-content").append(v):x.append(v),(v.jquery||v.nodeType)&&t(v).show()),(n||l.forceIframe)&&l.showOverlay&&b.show(),l.fadeIn){var I=l.onBlock?l.onBlock:e,D=l.showOverlay&&!v?I:e,N=v?I:e;l.showOverlay&&w._fadeIn(l.fadeIn,D),v&&x._fadeIn(l.fadeIn,N)}else l.showOverlay&&w.show(),v&&x.show(),l.onBlock&&l.onBlock.bind(x)();if(c(1,a,l),g?(o=x[0],s=t(l.focusableElements,o),l.focusInput&&setTimeout(f,20)):function(t,e,n){var r=t.parentNode,i=t.style,o=(r.offsetWidth-t.offsetWidth)/2-p(r,"borderLeftWidth"),s=(r.offsetHeight-t.offsetHeight)/2-p(r,"borderTopWidth");e&&(i.left=o>0?o+"px":"0");n&&(i.top=s>0?s+"px":"0")}(x[0],l.centerX,l.centerY),l.timeout){var R=setTimeout((function(){g?t.unblockUI(l):t(a).unblock(l)}),l.timeout);t(a).data("blockUI.timeout",R)}}}function u(e,n){var r,i,a=e==window,u=t(e),h=u.data("blockUI.history"),f=u.data("blockUI.timeout");f&&(clearTimeout(f),u.removeData("blockUI.timeout")),n=t.extend({},t.blockUI.defaults,n||{}),c(0,e,n),null===n.onUnblock&&(n.onUnblock=u.data("blockUI.onUnblock"),u.removeData("blockUI.onUnblock")),i=a?t("body").children().filter(".blockUI").add("body > .blockUI"):u.find(">.blockUI"),n.cursorReset&&(i.length>1&&(i[1].style.cursor=n.cursorReset),i.length>2&&(i[2].style.cursor=n.cursorReset)),a&&(o=s=null),n.fadeOut?(r=i.length,i.stop().fadeOut(n.fadeOut,(function(){0==--r&&l(i,h,n,e)}))):l(i,h,n,e)}function l(e,n,r,i){var o=t(i);if(!o.data("blockUI.isBlocked")){e.each((function(t,e){this.parentNode&&this.parentNode.removeChild(this)})),n&&n.el&&(n.el.style.display=n.display,n.el.style.position=n.position,n.el.style.cursor="default",n.parent&&n.parent.appendChild(n.el),o.removeData("blockUI.history")),o.data("blockUI.static")&&o.css("position","static"),"function"==typeof r.onUnblock&&r.onUnblock(i,r);var s=t(document.body),a=s.width(),u=s[0].style.width;s.width(a-1).width(a),s[0].style.width=u}}function c(e,n,r){var i=n==window,s=t(n);if((e||(!i||o)&&(i||s.data("blockUI.isBlocked")))&&(s.data("blockUI.isBlocked",e),i&&r.bindEvents&&(!e||r.showOverlay))){var a="mousedown mouseup keydown keypress keyup touchstart touchend touchmove";e?t(document).bind(a,r,h):t(document).unbind(a,h)}}function h(e){if("keydown"===e.type&&e.keyCode&&9==e.keyCode&&o&&e.data.constrainTabKey){var n=s,r=!e.shiftKey&&e.target===n[n.length-1],i=e.shiftKey&&e.target===n[0];if(r||i)return setTimeout((function(){f(i)}),10),!1}var a=e.data,u=t(e.target);return u.hasClass("blockOverlay")&&a.onOverlayClick&&a.onOverlayClick(e),u.parents("div."+a.blockMsgClass).length>0||0===u.parents().children().filter("div.blockUI").length}function f(t){if(s){var e=s[!0===t?s.length-1:0];e&&e.focus()}}function p(e,n){return parseInt(t.css(e,n),10)||0}}n(214)&&n(214).jQuery?(i=[n(0)],void 0===(o="function"==typeof(r=s)?r.apply(e,i):r)||(t.exports=o)):s(jQuery)}()},function(t,e,n){"use strict";var r,i=n(10),o=(r=i)&&r.__esModule?r:{default:r};n(325),n(326),n(75);t.exports=function(){$(document);var t=function(){var t=window.localStorage.getItem("dt_unread_count");return t=t?JSON.parse(t):""};$("#dt-notification").length&&$.ajax({type:"GET",cache:!1,url:" /napi/vienna/gateway/notify/unread/",data:{user_id:USER.ID},mysuccess:function(e,n){if(e.data){var r,i,s,a,u,l=e.data,c=(l.total,l.count_map),h=t(),f=function(t){for(var e={},n=1;n<7;n++)e[n]=t.hasOwnProperty(n)?t[n]:0;return{favoriteCount:e[2]+e[3],commentCount:e[1],followCount:e[4]+e[5],letterCount:e[6]}}(c);for(var p in""==h&&(window.localStorage.setItem("dt_unread_count",(0,o.default)({favoriteCount:0,commentCount:0,followCount:0,letterCount:0})),h=t()),h)h[p]=(s=h[p],a=void 0,a=parseInt(s||0),(isNaN(a)?0:a)+f[p]);u=h,window.localStorage.setItem("dt_unread_count",(0,o.default)(u)),i=(r=parseInt(h.favoriteCount+h.commentCount+h.followCount))+h.letterCount;var d=$("#dt-notification"),g=d.find(".dt-notification-btn"),v=d.find(".dt-notification-remind"),m=d.find(".dt-notification-letter");d.find(".dt-notification-tab").removeClass("new-message"),g.removeClass("new-message"),i>0&&g.addClass("new-message").addClass("active"),r>0&&v.addClass("new-message"),h.letterCount>0&&m.addClass("new-message")}}})}},function(t,e,n){"use strict";var r=u(n(220)),i=u(n(221)),o=u(n(39)),s=u(n(200)),a=u(n(201));function u(t){return t&&t.__esModule?t:{default:t}}var l=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1e3,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:220,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;(0,s.default)(this,t),this.baseWidth=e*r,this.baseHeight=n*r,this.scale=r,this.ctx=void 0,this.canvas=void 0,this.image=void 0,this.hasCut=!1}return(0,a.default)(t,[{key:"initCanvas",value:function(t,e,n,r){e=this._computeSize(e),n=this._computeSize(n),this.imageType=r;this.image=t,this.canvas=document.createElement("canvas"),this.canvas.width=this.baseWidth,this.canvas.height=this.baseHeight,this.ctx=this.canvas.getContext("2d"),this.ctx.drawImage(this.image,0,0,e,n)}},{key:"changeCutRange",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments[2],r=arguments[3];t=this._computeSize(t),e=this._computeSize(e),n=this._computeSize(n),r=this._computeSize(r);var i=0,o=0;this._checkError(),this.ctx.clearRect(i,o,this.canvas.width,this.canvas.height),this.ctx.drawImage(this.image,t,e,n,r),this.ctx.beginPath(),this.ctx.moveTo(i,o),this.ctx.lineTo(this.baseWidth,o),this.ctx.lineTo(this.baseWidth,this.baseHeight),this.ctx.lineTo(i,this.baseHeight),this.ctx.lineTo(i,o),this.ctx.clip()}},{key:"getCutImage",value:function(t){t=t||this.imageType||"image/png",this._checkError();var e=this.canvas.toDataURL(t),n=void 0;n=e.split(",")[0].indexOf("base64")>=0?atob(e.split(",")[1]):unescape(e.split(",")[1]);for(var r=e.split(",")[0].split(":")[1].split(";")[0],i=new Uint8Array(n.length),o=0;o<n.length;o++)i[o]=n.charCodeAt(o);return this.hasCut=!0,new Blob([i],{type:r})}},{key:"getCutUrl",value:function(t){t=t||this.imageType||"image/png";var e=this.canvas.toDataURL(t),n=new Image;return n.src=e,this.image=n,e}},{key:"_computeSize",value:function(t){return this.scale*t}},{key:"_checkError",value:function(){if(!this.canvas)throw new Error('you should use "initCanvas" first')}},{key:"destroy",value:function(){this.baseWidth=null,this.baseHeight=null,this.ctx=null,this.canvas=null,this.image=null,this.scale=null}}]),t}();t.exports={previewImage:function(t,e){var n=void 0;window.FileReader?n=new FileReader:alert("您的设备不支持图片预览功能，如需该功能请升级您的设备！"),t.type&&/^image\//.test(t.type)?(n.readAsDataURL(t),n.onload=function(t){e(t.target.result)}):alert("请选择图片！")},CutImageByCanvas:l,ajax:function(t){var e=t.method,n=t.url,s=t.data,a=t.responseType,u=void 0===a?"json":a,l=t.onprogress,c=t.headers;return new o.default((function(t,o){var a=new XMLHttpRequest;a.open(e,n),a.onprogress=function(t){"function"==typeof l&&l(t)},c&&(0,i.default)(c).forEach((function(t){var e=(0,r.default)(t,2),n=e[0],i=e[1];a.setRequestHeader(n,i)})),a.send(s),a.responseType=u,a.onreadystatechange=function(e){4===a.readyState&&(200===a.status?t(a.response):o(a.response))}}))}}},function(t,e,n){"use strict";n(0);!function(t){t.fn.getFormAction=function(){var t=this[0];return t&&"form"===t.tagName.toLowerCase()?encodeURI(this.attr("action")):null},t.fn.paramForm=function(e){var n=t(this),r={};return n.find("input,select,textarea").not("[type=submit]").filter("[name]").each((function(e,n){(("checkbox"===t(n).attr("type")||"radio"===t(n).attr("type"))&&!0===t(n).prop("checked")||"checkbox"!==t(n).attr("type")&&"radio"!==t(n).attr("type"))&&("undefined"!==t.type(r[n.name])?r[n.name]+=","+n.value:r[n.name]=n.value)})),t.isPlainObject(e)&&t.extend(r,e),t.param(r)},t.fn.lengthLimit=function(e){return this.filter("textarea,input[type=text]").each((function(){var e=t(this).attr("maxlength"),n=function(t){var n=t?t.keyCode:null;if(n&&8!==n&&13!==n&&!(n>36&&n<41)){var r=this,i=r.value,o=i.cut(e,"");o.length<i.length&&(r.value=o,r.scrollTop=r.scrollHeight)}};t(this).change((function(t){n.call(this,t)})).keyup((function(t){n.call(this,t)})),n.apply(this)})),this},t.fn.inputTagLimit=function(e){var n=t.extend(!0,{},{invalid:new RegExp("/"),taglen:20},e);return this.filter("textarea,input[type=text]").each((function(){var e=t(this),r=n.taglen,i=function(i){var o=i?i.keyCode:null;if(o&&8!==o&&13!==o&&!(o>36&&o<41)){var s=e.val(),a=(a=s.split(" "))[a.length-1],u=s.substring(0,s.length-a.length);" "!=s[s.length-1]&&a&&a.lenB()>r&&(s=u+(a=a.cut(r,""))),e.val(s.replace(n.invalid,"")),vl=e.val().length,t.G.setCursorPosition(e[0],{start:vl,end:vl})}};t(this).change((function(t){i.call(this,t)})).keyup((function(t){i.call(this,t)})),i.apply(this)})),this},t.fn.pagelimit=function(e){var n=t(this),r=e.length||0;function i(){var t=parseInt(this.value)||0,e=r||0;this.value=t>e?e:t<1?1:t}function o(t){t.keyCode>=37&&t.keyCode<=40||46==t.keyCode||8==t.keyCode||i.call(this)}n.change(o).keyup(o),i.call(this)}}(jQuery),function(t){var e=t.event;e.special;function n(t){t.preventDefault(),t.type="safeSubmit",e.handle?e.handle.apply(this,arguments):e.dispatch&&e.dispatch.apply(this,arguments)}e.special.safeSubmit={setup:function(){t(this);e.add(this,"submit",n)},teardown:function(){t(this);e.remove(this,"submit",n)}},t.fn.safeSubmit=function(e,n,r){return"function"!=typeof r&&(r=n,n=e,e=null),r=r||function(){alert("请输入内容")},arguments.length>0?this.unbind("safeSubmit").bind("safeSubmit",e,(function(e){var i=this,o=t(i),s=o.find("input[type=text],textarea").not("[data-optional]"),a=t("[type=submit]",o),u=!0;s.each((function(e,n){""===t.trim(t(n).val())&&u&&(u=!1)})),a.each((function(e,n){t(n).prop("disabled")&&u&&(u=!1)})),u?n.call(this,arguments):r.call(this,arguments)})):this.trigger("safeSubmit")}}(jQuery)},function(t,e,n){t.exports={default:n(345),__esModule:!0}},function(t,e,n){var r=n(11),i=n(7),o=n(61);t.exports=function(t,e){var n=(i.Object||{})[t]||Object[t],s={};s[t]=e(n),r(r.S+r.F*o((function(){n(1)})),"Object",s)}},,,,,,,,,,,,,,function(t,e,n){var r,i;r=[n(79)],void 0===(i=function(t){return t.concat}.apply(e,r))||(t.exports=i)},function(t,e,n){var r,i;r=[n(79)],void 0===(i=function(t){return t.push}.apply(e,r))||(t.exports=i)},function(t,e,n){var r,i;r=[n(114)],void 0===(i=function(t){return t.hasOwnProperty}.apply(e,r))||(t.exports=i)},function(t,e,n){var r;void 0===(r=function(){return/^margin/}.call(e,n,e,t))||(t.exports=r)},function(t,e,n){var r;void 0===(r=function(){return["Top","Right","Bottom","Left"]}.call(e,n,e,t))||(t.exports=r)},function(t,e,n){var r,i;r=[n(3),n(19)],void 0===(i=function(t){return function(e,n){return e=n||e,"none"===t.css(e,"display")||!t.contains(e.ownerDocument,e)}}.apply(e,r))||(t.exports=i)},function(t,e,n){var r;void 0===(r=function(){return function(t){var e=t.ownerDocument.defaultView;return e&&e.opener||(e=window),e.getComputedStyle(t)}}.call(e,n,e,t))||(t.exports=r)},function(t,e,n){var r,i;r=[n(3),n(117),n(165),n(168),n(118),n(19)],void 0===(i=function(t,e,n,r,i){return function(o,s,a){var u,l,c,h,f=o.style;return""!==(h=(a=a||r(o))?a.getPropertyValue(s)||a[s]:void 0)&&void 0!==h||t.contains(o.ownerDocument,o)||(h=t.style(o,s)),a&&!i.pixelMarginRight()&&e.test(h)&&n.test(s)&&(u=f.width,l=f.minWidth,c=f.maxWidth,f.minWidth=f.maxWidth=f.width=h,h=a.width,f.width=u,f.minWidth=l,f.maxWidth=c),void 0!==h?h+"":h}}.apply(e,r))||(t.exports=i)},function(t,e,n){var r,i;r=[n(18)],void 0===(i=function(t){return t.documentElement}.apply(e,r))||(t.exports=i)},function(t,e,n){var r,i;r=[n(3),n(115)],void 0===(i=function(t,e){return function(n,r,i,o){var s,a=1,u=20,l=o?function(){return o.cur()}:function(){return t.css(n,r,"")},c=l(),h=i&&i[3]||(t.cssNumber[r]?"":"px"),f=(t.cssNumber[r]||"px"!==h&&+c)&&e.exec(t.css(n,r));if(f&&f[3]!==h){h=h||f[3],i=i||[],f=+c||1;do{f/=a=a||".5",t.style(n,r,f+h)}while(a!==(a=l()/c)&&1!==a&&--u)}return i&&(f=+f||+c||0,s=i[1]?f+(i[1]+1)*i[2]:+i[2],o&&(o.unit=h,o.start=f,o.end=s)),s}}.apply(e,r))||(t.exports=i)},function(t,e,n){var r,i;r=[n(3),n(18),n(104)],void 0===(i=function(t,e){var n,r={HTML:"block",BODY:"block"};function i(e,n){var r=t(n.createElement(e)).appendTo(n.body),i=t.css(r[0],"display");return r.detach(),i}return function(o){var s=e,a=r[o];return a||("none"!==(a=i(o,s))&&a||((s=(n=(n||t("<iframe frameborder='0' width='0' height='0'/>")).appendTo(s.documentElement))[0].contentDocument).write(),s.close(),a=i(o,s),n.detach()),r[o]=a),a}}.apply(e,r))||(t.exports=i)},function(t,e,n){var r,i;r=[n(3),n(174),n(175),n(176),n(177),n(178)],void 0===(i=function(t,e,n,r,i,o){var s=/<|&#?\w+;/;return function(a,u,l,c,h){for(var f,p,d,g,v,m,y=u.createDocumentFragment(),b=[],w=0,x=a.length;w<x;w++)if((f=a[w])||0===f)if("object"===t.type(f))t.merge(b,f.nodeType?[f]:f);else if(s.test(f)){for(p=p||y.appendChild(u.createElement("div")),d=(e.exec(f)||["",""])[1].toLowerCase(),g=r[d]||r._default,p.innerHTML=g[1]+t.htmlPrefilter(f)+g[2],m=g[0];m--;)p=p.lastChild;t.merge(b,p.childNodes),(p=y.firstChild).textContent=""}else b.push(u.createTextNode(f));for(y.textContent="",w=0;f=b[w++];)if(c&&t.inArray(f,c)>-1)h&&h.push(f);else if(v=t.contains(f.ownerDocument,f),p=i(y.appendChild(f),"script"),v&&o(p),l)for(m=0;f=p[m++];)n.test(f.type||"")&&l.push(f);return y}}.apply(e,r))||(t.exports=i)},function(t,e,n){var r;void 0===(r=function(){return/<([\w:-]+)/}.call(e,n,e,t))||(t.exports=r)},function(t,e,n){var r;void 0===(r=function(){return/^$|\/(?:java|ecma)script/i}.call(e,n,e,t))||(t.exports=r)},function(t,e,n){var r;void 0===(r=function(){var t={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};return t.optgroup=t.option,t.tbody=t.tfoot=t.colgroup=t.caption=t.thead,t.th=t.td,t}.call(e,n,e,t))||(t.exports=r)},function(t,e,n){var r,i;r=[n(3)],void 0===(i=function(t){return function(e,n){var r=void 0!==e.getElementsByTagName?e.getElementsByTagName(n||"*"):void 0!==e.querySelectorAll?e.querySelectorAll(n||"*"):[];return void 0===n||n&&t.nodeName(e,n)?t.merge([e],r):r}}.apply(e,r))||(t.exports=i)},function(t,e,n){var r,i;r=[n(47)],void 0===(i=function(t){return function(e,n){for(var r=0,i=e.length;r<i;r++)t.set(e[r],"globalEval",!n||t.get(n[r],"globalEval"))}}.apply(e,r))||(t.exports=i)},function(t,e,n){var r,i;r=[n(3),n(60),n(119)],void 0===(i=function(t,e,n){function r(){this.expando=t.expando+r.uid++}return r.uid=1,r.prototype={register:function(t,e){var n=e||{};return t.nodeType?t[this.expando]=n:Object.defineProperty(t,this.expando,{value:n,writable:!0,configurable:!0}),t[this.expando]},cache:function(t){if(!n(t))return{};var e=t[this.expando];return e||(e={},n(t)&&(t.nodeType?t[this.expando]=e:Object.defineProperty(t,this.expando,{value:e,configurable:!0}))),e},set:function(t,e,n){var r,i=this.cache(t);if("string"==typeof e)i[e]=n;else for(r in e)i[r]=e[r];return i},get:function(t,e){return void 0===e?this.cache(t):t[this.expando]&&t[this.expando][e]},access:function(e,n,r){var i;return void 0===n||n&&"string"==typeof n&&void 0===r?void 0!==(i=this.get(e,n))?i:this.get(e,t.camelCase(n)):(this.set(e,n,r),void 0!==r?r:n)},remove:function(n,r){var i,o,s,a=n[this.expando];if(void 0!==a){if(void 0===r)this.register(n);else{t.isArray(r)?o=r.concat(r.map(t.camelCase)):(s=t.camelCase(r),o=r in a?[r,s]:(o=s)in a?[o]:o.match(e)||[]),i=o.length;for(;i--;)delete a[o[i]]}(void 0===r||t.isEmptyObject(a))&&(n.nodeType?n[this.expando]=void 0:delete n[this.expando])}},hasData:function(e){var n=e[this.expando];return void 0!==n&&!t.isEmptyObject(n)}},r}.apply(e,r))||(t.exports=i)},function(t,e,n){var r;void 0===(r=function(){return/^(?:checkbox|radio)$/i}.call(e,n,e,t))||(t.exports=r)},function(t,e,n){var r,i;r=[n(179)],void 0===(i=function(t){return new t}.apply(e,r))||(t.exports=i)},function(t,e,n){var r;void 0===(r=function(){return/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/}.call(e,n,e,t))||(t.exports=r)},function(t,e,n){var r,i;r=[n(3),n(112),n(184),n(19)],void 0===(i=function(t,e,n){var r=/^.[^:#\[\.,]*$/;function i(n,i,o){if(t.isFunction(i))return t.grep(n,(function(t,e){return!!i.call(t,e,t)!==o}));if(i.nodeType)return t.grep(n,(function(t){return t===i!==o}));if("string"==typeof i){if(r.test(i))return t.filter(i,n,o);i=t.filter(i,n)}return t.grep(n,(function(t){return e.call(i,t)>-1!==o}))}t.filter=function(e,n,r){var i=n[0];return r&&(e=":not("+e+")"),1===n.length&&1===i.nodeType?t.find.matchesSelector(i,e)?[i]:[]:t.find.matches(e,t.grep(n,(function(t){return 1===t.nodeType})))},t.fn.extend({find:function(e){var n,r=this.length,i=[],o=this;if("string"!=typeof e)return this.pushStack(t(e).filter((function(){for(n=0;n<r;n++)if(t.contains(o[n],this))return!0})));for(n=0;n<r;n++)t.find(e,o[n],i);return(i=this.pushStack(r>1?t.unique(i):i)).selector=this.selector?this.selector+" "+e:e,i},filter:function(t){return this.pushStack(i(this,t||[],!1))},not:function(t){return this.pushStack(i(this,t||[],!0))},is:function(e){return!!i(this,"string"==typeof e&&n.test(e)?t(e):e||[],!1).length}})}.apply(e,r))||(t.exports=i)},function(t,e,n){var r,i;r=[n(3),n(19)],void 0===(i=function(t){return t.expr.match.needsContext}.apply(e,r))||(t.exports=i)},function(t,e,n){var r;void 0===(r=function(){return function(t,e){return{get:function(){if(!t())return(this.get=e).apply(this,arguments);delete this.get}}}}.call(e,n,e,t))||(t.exports=r)},function(t,e,n){var r,i;r=[n(3),n(18),n(41),n(80)],void 0===(i=function(t,e){var n;function r(){e.removeEventListener("DOMContentLoaded",r),window.removeEventListener("load",r),t.ready()}t.fn.ready=function(e){return t.ready.promise().done(e),this},t.extend({isReady:!1,readyWait:1,holdReady:function(e){e?t.readyWait++:t.ready(!0)},ready:function(r){(!0===r?--t.readyWait:t.isReady)||(t.isReady=!0,!0!==r&&--t.readyWait>0||(n.resolveWith(e,[t]),t.fn.triggerHandler&&(t(e).triggerHandler("ready"),t(e).off("ready"))))}}),t.ready.promise=function(i){return n||(n=t.Deferred(),"complete"===e.readyState||"loading"!==e.readyState&&!e.documentElement.doScroll?window.setTimeout(t.ready):(e.addEventListener("DOMContentLoaded",r),window.addEventListener("load",r))),n.promise(i)},t.ready.promise()}.apply(e,r))||(t.exports=i)},function(t,e,n){var r,i;r=[n(3),n(59),n(123),n(19)],void 0===(i=function(t,e,n){var r=/^(?:input|select|textarea|button)$/i,i=/^(?:a|area)$/i;t.fn.extend({prop:function(n,r){return e(this,t.prop,n,r,arguments.length>1)},removeProp:function(e){return this.each((function(){delete this[t.propFix[e]||e]}))}}),t.extend({prop:function(e,n,r){var i,o,s=e.nodeType;if(3!==s&&8!==s&&2!==s)return 1===s&&t.isXMLDoc(e)||(n=t.propFix[n]||n,o=t.propHooks[n]),void 0!==r?o&&"set"in o&&void 0!==(i=o.set(e,r,n))?i:e[n]=r:o&&"get"in o&&null!==(i=o.get(e,n))?i:e[n]},propHooks:{tabIndex:{get:function(e){var n=t.find.attr(e,"tabindex");return n?parseInt(n,10):r.test(e.nodeName)||i.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),n.optSelected||(t.propHooks.selected={get:function(t){var e=t.parentNode;return e&&e.parentNode&&e.parentNode.selectedIndex,null},set:function(t){var e=t.parentNode;e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex)}}),t.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],(function(){t.propFix[this.toLowerCase()]=this}))}.apply(e,r))||(t.exports=i)},function(t,e,n){var r,i;r=[n(3),n(68),n(124)],void 0===(i=function(t){t.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),(function(e,n){t.fn[n]=function(t,e){return arguments.length>0?this.on(n,null,t,e):this.trigger(n)}})),t.fn.extend({hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)}})}.apply(e,r))||(t.exports=i)},function(t,e,n){var r,i;r=[n(3)],void 0===(i=function(t){return t.now()}.apply(e,r))||(t.exports=i)},function(t,e,n){var r;void 0===(r=function(){return/\?/}.call(e,n,e,t))||(t.exports=r)},function(t,e,n){"use strict";t.exports=function(){window.console&&console.info&&console.info("%c   ","font-size:60px;background:url('https://c-ssl.dtstatic.com/uploads/people/201312/26/20131226165635_LNYCt.png') no-repeat -10px -25px"),window.console&&console.info&&console.info("  __              __                                \n /\\ \\          __/\\ \\__                             \n \\_\\ \\  __  __/\\_\\ \\ ,_\\    __      ___      __     \n /'_` \\/\\ \\/\\ \\/\\ \\ \\ \\/  /'__`\\  /' _ `\\  /'_ `\\   \n/\\ \\L\\ \\ \\ \\_\\ \\ \\ \\ \\ \\_/\\ \\L\\.\\_/\\ \\/\\ \\/\\ \\L\\ \\  \n\\ \\___,_\\ \\____/\\ \\_\\ \\__\\ \\__/.\\_\\ \\_\\ \\_\\ \\____ \\ \n \\/__,_ /\\/___/  \\/_/\\/__/\\/__/\\/_/\\/_/\\/_/\\/___L\\ \\ \n                                             /\\____/\n                                             \\_/__/        \n\n想来堆糖工作？请发送邮件到 hr@duitang.com")}},function(t,e,n){"use strict";t.exports=function(){var t=function(){console.log("+1"),null===window.localStorage.getItem("pageCount")?window.localStorage.setItem("pageCount",1):window.localStorage.setItem("pageCount",Number(window.localStorage.getItem("pageCount"))+1)},e=performance&&performance.getEntriesByType("navigation")[0]&&"reload"===performance.getEntriesByType("navigation")[0].type;console.log(window.localStorage.getItem("pageCount"),e),window.localStorage.getItem("pageCount")&&"0"!=window.localStorage.getItem("pageCount")||e?t():(!function(){for(var t=document.cookie.split(";"),e=0;e<t.length;e++){var n=t[e],r=n.indexOf("="),i=(r>-1?n.substr(0,r):n).trim();document.cookie=i+"=;expires=Thu, 01 Jan 1970 00:00:00 GMT;domain=.duitang.com;path=/",document.cookie=i+"=;expires=Thu, 01 Jan 1970 00:00:00 GMT;domain=www.duitang.com;path=/"}}(),t(),window.location.reload()),window.addEventListener("pagehide",(function(t){t.persisted||(console.log(-1),null!==window.localStorage.getItem("pageCount")&&"0"!=window.localStorage.getItem("pageCount")&&window.localStorage.setItem("pageCount",Number(window.localStorage.getItem("pageCount"))-1))}))}},function(t,e,n){t.exports=!n(37)&&!n(61)((function(){return 7!=Object.defineProperty(n(128)("div"),"a",{get:function(){return 7}}).a}))},function(t,e,n){t.exports=n(56)},function(t,e,n){var r=n(62),i=n(63),o=n(270)(!1),s=n(132)("IE_PROTO");t.exports=function(t,e){var n,a=i(t),u=0,l=[];for(n in a)n!=s&&r(a,n)&&l.push(n);for(;e.length>u;)r(a,n=e[u++])&&(~o(l,n)||l.push(n));return l}},function(t,e,n){var r=n(20).document;t.exports=r&&r.documentElement},function(t,e){t.exports=function(t,e){return{value:e,done:!!t}}},function(t,e,n){var r=n(84);t.exports=Array.isArray||function(t){return"Array"==r(t)}},function(t,e,n){var r=n(195),i=n(134).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return r(t,i)}},function(t,e,n){"use strict";e.__esModule=!0,e.default=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}},function(t,e,n){"use strict";e.__esModule=!0;var r,i=n(202),o=(r=i)&&r.__esModule?r:{default:r};e.default=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),(0,o.default)(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}()},function(t,e,n){t.exports={default:n(286),__esModule:!0}},function(t,e){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){"use strict";var r,i,o=n(6);(i=o)&&i.__esModule;!function(i){function o(t,e){var n=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(n>>16)<<16|65535&n}function s(t,e,n,r,i,s){return o(function(t,e){return t<<e|t>>>32-e}(o(o(e,t),o(r,s)),i),n)}function a(t,e,n,r,i,o,a){return s(e&n|~e&r,t,e,i,o,a)}function u(t,e,n,r,i,o,a){return s(e&r|n&~r,t,e,i,o,a)}function l(t,e,n,r,i,o,a){return s(e^n^r,t,e,i,o,a)}function c(t,e,n,r,i,o,a){return s(n^(e|~r),t,e,i,o,a)}function h(t,e){t[e>>5]|=128<<e%32,t[14+(e+64>>>9<<4)]=e;var n,r,i,s,h,f=1732584193,p=-271733879,d=-1732584194,g=271733878;for(n=0;n<t.length;n+=16)r=f,i=p,s=d,h=g,p=c(p=c(p=c(p=c(p=l(p=l(p=l(p=l(p=u(p=u(p=u(p=u(p=a(p=a(p=a(p=a(p,d=a(d,g=a(g,f=a(f,p,d,g,t[n],7,-680876936),p,d,t[n+1],12,-389564586),f,p,t[n+2],17,606105819),g,f,t[n+3],22,-1044525330),d=a(d,g=a(g,f=a(f,p,d,g,t[n+4],7,-176418897),p,d,t[n+5],12,1200080426),f,p,t[n+6],17,-1473231341),g,f,t[n+7],22,-45705983),d=a(d,g=a(g,f=a(f,p,d,g,t[n+8],7,1770035416),p,d,t[n+9],12,-1958414417),f,p,t[n+10],17,-42063),g,f,t[n+11],22,-1990404162),d=a(d,g=a(g,f=a(f,p,d,g,t[n+12],7,1804603682),p,d,t[n+13],12,-40341101),f,p,t[n+14],17,-1502002290),g,f,t[n+15],22,1236535329),d=u(d,g=u(g,f=u(f,p,d,g,t[n+1],5,-165796510),p,d,t[n+6],9,-1069501632),f,p,t[n+11],14,643717713),g,f,t[n],20,-373897302),d=u(d,g=u(g,f=u(f,p,d,g,t[n+5],5,-701558691),p,d,t[n+10],9,38016083),f,p,t[n+15],14,-660478335),g,f,t[n+4],20,-405537848),d=u(d,g=u(g,f=u(f,p,d,g,t[n+9],5,568446438),p,d,t[n+14],9,-1019803690),f,p,t[n+3],14,-187363961),g,f,t[n+8],20,1163531501),d=u(d,g=u(g,f=u(f,p,d,g,t[n+13],5,-1444681467),p,d,t[n+2],9,-51403784),f,p,t[n+7],14,1735328473),g,f,t[n+12],20,-1926607734),d=l(d,g=l(g,f=l(f,p,d,g,t[n+5],4,-378558),p,d,t[n+8],11,-2022574463),f,p,t[n+11],16,1839030562),g,f,t[n+14],23,-35309556),d=l(d,g=l(g,f=l(f,p,d,g,t[n+1],4,-1530992060),p,d,t[n+4],11,1272893353),f,p,t[n+7],16,-155497632),g,f,t[n+10],23,-1094730640),d=l(d,g=l(g,f=l(f,p,d,g,t[n+13],4,681279174),p,d,t[n],11,-358537222),f,p,t[n+3],16,-722521979),g,f,t[n+6],23,76029189),d=l(d,g=l(g,f=l(f,p,d,g,t[n+9],4,-640364487),p,d,t[n+12],11,-421815835),f,p,t[n+15],16,530742520),g,f,t[n+2],23,-995338651),d=c(d,g=c(g,f=c(f,p,d,g,t[n],6,-198630844),p,d,t[n+7],10,1126891415),f,p,t[n+14],15,-1416354905),g,f,t[n+5],21,-57434055),d=c(d,g=c(g,f=c(f,p,d,g,t[n+12],6,1700485571),p,d,t[n+3],10,-1894986606),f,p,t[n+10],15,-1051523),g,f,t[n+1],21,-2054922799),d=c(d,g=c(g,f=c(f,p,d,g,t[n+8],6,1873313359),p,d,t[n+15],10,-30611744),f,p,t[n+6],15,-1560198380),g,f,t[n+13],21,1309151649),d=c(d,g=c(g,f=c(f,p,d,g,t[n+4],6,-145523070),p,d,t[n+11],10,-1120210379),f,p,t[n+2],15,718787259),g,f,t[n+9],21,-343485551),f=o(f,r),p=o(p,i),d=o(d,s),g=o(g,h);return[f,p,d,g]}function f(t){var e,n="",r=32*t.length;for(e=0;e<r;e+=8)n+=String.fromCharCode(t[e>>5]>>>e%32&255);return n}function p(t){var e,n=[];for(n[(t.length>>2)-1]=void 0,e=0;e<n.length;e+=1)n[e]=0;var r=8*t.length;for(e=0;e<r;e+=8)n[e>>5]|=(255&t.charCodeAt(e/8))<<e%32;return n}function d(t){var e,n,r="";for(n=0;n<t.length;n+=1)e=t.charCodeAt(n),r+="0123456789abcdef".charAt(e>>>4&15)+"0123456789abcdef".charAt(15&e);return r}function g(t){return unescape(encodeURIComponent(t))}function v(t){return function(t){return f(h(p(t),8*t.length))}(g(t))}function m(t,e){return function(t,e){var n,r,i=p(t),o=[],s=[];for(o[15]=s[15]=void 0,i.length>16&&(i=h(i,8*t.length)),n=0;n<16;n+=1)o[n]=909522486^i[n],s[n]=1549556828^i[n];return r=h(o.concat(p(e)),512+8*e.length),f(h(s.concat(r),640))}(g(t),g(e))}function y(t,e,n){return e?n?m(e,t):function(t,e){return d(m(t,e))}(e,t):n?v(t):function(t){return d(v(t))}(t)}void 0===(r=function(){return y}.call(e,n,e,t))||(t.exports=r)}()},function(t,e,n){var r=n(49);t.exports=function(t,e,n,i){try{return i?e(r(n)[0],n[1]):e(n)}catch(e){var o=t.return;throw void 0!==o&&r(o.call(t)),e}}},function(t,e,n){var r=n(71),i=n(21)("iterator"),o=Array.prototype;t.exports=function(t){return void 0!==t&&(r.Array===t||o[i]===t)}},function(t,e,n){var r=n(49),i=n(82),o=n(21)("species");t.exports=function(t,e){var n,s=r(t).constructor;return void 0===s||null==(n=r(s)[o])?e:i(n)}},function(t,e,n){var r,i,o,s=n(55),a=n(291),u=n(196),l=n(128),c=n(20),h=c.process,f=c.setImmediate,p=c.clearImmediate,d=c.MessageChannel,g=c.Dispatch,v=0,m={},y=function(){var t=+this;if(m.hasOwnProperty(t)){var e=m[t];delete m[t],e()}},b=function(t){y.call(t.data)};f&&p||(f=function(t){for(var e=[],n=1;arguments.length>n;)e.push(arguments[n++]);return m[++v]=function(){a("function"==typeof t?t:Function(t),e)},r(v),v},p=function(t){delete m[t]},"process"==n(84)(h)?r=function(t){h.nextTick(s(y,t,1))}:g&&g.now?r=function(t){g.now(s(y,t,1))}:d?(o=(i=new d).port2,i.port1.onmessage=b,r=s(o.postMessage,o,1)):c.addEventListener&&"function"==typeof postMessage&&!c.importScripts?(r=function(t){c.postMessage(t+"","*")},c.addEventListener("message",b,!1)):r="onreadystatechange"in l("script")?function(t){u.appendChild(l("script")).onreadystatechange=function(){u.removeChild(this),y.call(t)}}:function(t){setTimeout(s(y,t,1),0)}),t.exports={set:f,clear:p}},function(t,e){t.exports=function(t){try{return{e:!1,v:t()}}catch(t){return{e:!0,v:t}}}},function(t,e,n){var r=n(49),i=n(42),o=n(141);t.exports=function(t,e){if(r(t),i(e)&&e.constructor===t)return e;var n=o.f(t);return(0,n.resolve)(e),n.promise}},function(t,e,n){"use strict";var r=n(20),i=n(7),o=n(44),s=n(37),a=n(21)("species");t.exports=function(t){var e="function"==typeof i[t]?i[t]:r[t];s&&e&&!e[a]&&o.f(e,a,{configurable:!0,get:function(){return this}})}},function(t,e,n){var r=n(21)("iterator"),i=!1;try{var o=[7][r]();o.return=function(){i=!0},Array.from(o,(function(){throw 2}))}catch(t){}t.exports=function(t,e){if(!e&&!i)return!1;var n=!1;try{var o=[7],s=o[r]();s.next=function(){return{done:n=!0}},o[r]=function(){return s},t(o)}catch(t){}return n}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.cipherLogin=void 0;var r=n(296);e.cipherLogin=function(t,e,n){var i=r.KEYUTIL.getKey("-----BEGIN PUBLIC KEY-----\nMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAo5TPthIDEpYCXozI3c+2\nj3AFmXHI/3ozT5GfKSp1/XRd64Uo1J9cheAetxHD8YdBa/BDwU5x7lhYtqYRQgdh\nTG/84rSi+d855p6ygGRLSX9FVSnEga+g1+K6wJwEv5b0IhMHyY9mUbUyPKLMEAyx\ndshth7QNEn4XphfmnS5OdltmqUhhTAjYVQt7KHVpx/GiyhKIMKFOy/dx3FHbT1wb\nTFdu25/DSSSqTJVsBe2M2xydb4bHW44pqb2lxClUS/FBfbR0LnIgRNTb2NSVfyQ2\nhQMcZ3zqcrmYmKF8otPqASLbLQUyMbc+B3v0T8ak0mtV0ozEMAdl5B/SD5t/wh26\n3wIDAQAB\n-----END PUBLIC KEY-----"),o=r.KJUR.crypto.Cipher.encrypt(t.pswd,i),s=(0,r.hextob64)(o);t.pswd=s,$.ajax({type:"POST",url:"/login/",data:t,success:function(n,r){n&&n.data&&!n.data.next&&(n.data.next=t.next||"/"),"function"==typeof e&&e.call(this,n,r)},error:function(e){e&&e.data&&!e.data.next&&(e.data.next=t.next||"/"),"function"==typeof n&&n.call(this,e)}})}},function(t,e){(function(e){t.exports=e}).call(e,{})},function(t,e,n){"use strict";!function(t){var e;t.Bom=(e=function(e,n,r){r=r||{path:"/"};var i=escape(e)+"="+escape(n);if(t.isPlainObject(r)){if(r.expires instanceof Date&&(i+="; expires="+r.expires.toUTCString()),"number"===t.type(r.expires)&&0!==r.expires){var o=new Date;o.setTime(o.getTime()+24*r.expires*60*60*1e3),i+="; expires="+o.toUTCString()}"string"===t.type(r.path)&&""!==r.path?i+="; path="+r.path:i+="; path=/","string"===t.type(r.domain)&&""!==r.domain&&(i+="; domain="+r.domain),!0===r.secure&&(i+="; secure")}return i},{getCookie:function(e){if("string"!==t.type(e)||""===e)return null;var n=function(e){var n={};if("string"===t.type(e)&&e.length>0)for(var r=e.split(/;\s/g),i=null,o=null,s=null,a=0,u=r.length;a<u;a++)(s=r[a].match(/([^=]+)=/i))instanceof Array?(i=unescape(s[1]),o=unescape(r[a].substring(s[1].length+1))):(i=unescape(r[a]),o=""),n[i]=o;return n}(document.cookie);return"undefined"===t.type(n[e])?"":n[e]},getSubCookie:function(e,n){var r=this.getSubCookies(e);return null!=r?"string"!==t.type(n)||""===n?"":r[n]?r[n]:"":""},getSubCookies:function(e){if("string"!==t.type(e)||""===e)return null;var n=this.getCookie(e);return"string"===t.type(n)?function(t){var e=t.split("|"),n=null,r={};if(t.length>0)for(var i=0,o=e.length;i<o;++i)n=e[i].split("="),r[unescape(n[0])]=unescape(n[1]);return r}(n):""},setCookie:function(n,r,i){if(i=i||{},"string"===t.type(n)&&"undefined"!==t.type(r)){var o=e(n,r,i);return document.cookie=o,o}},setSubCookie:function(e,n,r,i){if("string"===t.type(e)&&""!==e&&"string"===t.type(n)&&""!==n&&"undefined"!==t.type(r)){var o=this.getSubCookies(e);return t.isPlainObject(o)||(o={}),o[n]=r,this.setSubCookies(e,o,i)}},setSubCookies:function(n,r,i){if("string"===t.type(n)&&"undefined"!==t.type(r)){var o=e(n,function(e){if(t.isPlainObject(e)){var n=[];for(var r in e)t.isFunction(e[r])||"undefined"===t.type(e[r])||n.push(escape(r)+"="+escape(String(e[r])));return n.join("|")}}(r),i);return document.cookie=o,o}},removeCookie:function(e,n){if("string"===t.type(e)&&0==!e)return n=t.extend(n||{},{expires:new Date(0)}),this.setCookie(e,"",n)},removeSubCookie:function(e,n){if("string"===t.type(e)&&""!==e&&"string"===t.type(n)&&""!==n){var r=this.getSubCookies(e);return t.isPlainObject(r)&&r.hasOwnProperty(n)?(delete r[n],this.setSubCookies(e,r)):void 0}},addBookmark:function(t,e){window.sidebar?window.sidebar.addPanel(e||document.title,t||window.location.href,""):window.external?window.external.AddFavorite(t||location.href,e||document.title):alert("加入收藏失败，请使用Ctrl+D进行添加")},setHome:function(t){t=t||location.href;try{document.body.style.behavior="url(#default#homepage)",document.body.setHomePage(t)}catch(e){if(window.sidebar){if(window.netscape)try{netscape.security.PrivilegeManager.enablePrivilege("UniversalXPConnect")}catch(t){alert("该操作被浏览器拒绝，假如想启用该功能，请在地址栏内输入 about:config,然后将项 signed.applets.codebase_principal_support 值该为true")}Components.classes["@mozilla.org/preferences-service;1"].getService(Components.interfaces.nsIPrefBranch).setCharPref("browser.startup.homepage",t)}}}})}(jQuery)},function(t,e,n){var r=n(42);t.exports=function(t,e){if(!r(t)||t._t!==e)throw TypeError("Incompatible receiver, "+e+" required!");return t}},function(t,e,n){t.exports={default:n(319),__esModule:!0}},function(t,e){var n={utf8:{stringToBytes:function(t){return n.bin.stringToBytes(unescape(encodeURIComponent(t)))},bytesToString:function(t){return decodeURIComponent(escape(n.bin.bytesToString(t)))}},bin:{stringToBytes:function(t){for(var e=[],n=0;n<t.length;n++)e.push(255&t.charCodeAt(n));return e},bytesToString:function(t){for(var e=[],n=0;n<t.length;n++)e.push(String.fromCharCode(t[n]));return e.join("")}}};t.exports=n},function(t,e,n){"use strict";function r(){return(r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function i(t){if("undefined"!=typeof window&&window.navigator)return!!navigator.userAgent.match(t)}Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"Sortable",(function(){return Ot}));var o=i(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),s=i(/Edge/i),a=i(/firefox/i),u=i(/safari/i)&&!i(/chrome/i)&&!i(/android/i),l=i(/iP(ad|od|hone)/i),c=i(/chrome/i)&&i(/android/i),h={capture:!1,passive:!1};function f(t,e,n){t.addEventListener(e,n,!o&&h)}function p(t,e,n){t.removeEventListener(e,n,!o&&h)}function d(t,e){if(e){if(">"===e[0]&&(e=e.substring(1)),t)try{if(t.matches)return t.matches(e);if(t.msMatchesSelector)return t.msMatchesSelector(e);if(t.webkitMatchesSelector)return t.webkitMatchesSelector(e)}catch(t){return!1}return!1}}function g(t){return t.host&&t!==document&&t.host.nodeType?t.host:t.parentNode}function v(t,e,n,r){if(t){n=n||document;do{if(null!=e&&(">"===e[0]?t.parentNode===n&&d(t,e):d(t,e))||r&&t===n)return t;if(t===n)break}while(t=g(t))}return null}var m,y=/\s+/g;function b(t,e,n){if(t&&e)if(t.classList)t.classList[n?"add":"remove"](e);else{var r=(" "+t.className+" ").replace(y," ").replace(" "+e+" "," ");t.className=(r+(n?" "+e:"")).replace(y," ")}}function w(t,e,n){var r=t&&t.style;if(r){if(void 0===n)return document.defaultView&&document.defaultView.getComputedStyle?n=document.defaultView.getComputedStyle(t,""):t.currentStyle&&(n=t.currentStyle),void 0===e?n:n[e];e in r||-1!==e.indexOf("webkit")||(e="-webkit-"+e),r[e]=n+("string"==typeof n?"":"px")}}function x(t,e){var n="";if("string"==typeof t)n=t;else do{var r=w(t,"transform");r&&"none"!==r&&(n=r+" "+n)}while(!e&&(t=t.parentNode));var i=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return i&&new i(n)}function S(t,e,n){if(t){var r=t.getElementsByTagName(e),i=0,o=r.length;if(n)for(;i<o;i++)n(r[i],i);return r}return[]}function E(){return document.scrollingElement||document.documentElement}function A(t,e,n,r,i){if(t.getBoundingClientRect||t===window){var s,a,u,l,c,h,f;if(t!==window&&t!==E()?(a=(s=t.getBoundingClientRect()).top,u=s.left,l=s.bottom,c=s.right,h=s.height,f=s.width):(a=0,u=0,l=window.innerHeight,c=window.innerWidth,h=window.innerHeight,f=window.innerWidth),(e||n)&&t!==window&&(i=i||t.parentNode,!o))do{if(i&&i.getBoundingClientRect&&("none"!==w(i,"transform")||n&&"static"!==w(i,"position"))){var p=i.getBoundingClientRect();a-=p.top+parseInt(w(i,"border-top-width")),u-=p.left+parseInt(w(i,"border-left-width")),l=a+s.height,c=u+s.width;break}}while(i=i.parentNode);if(r&&t!==window){var d=x(i||t),g=d&&d.a,v=d&&d.d;d&&(l=(a/=v)+(h/=v),c=(u/=g)+(f/=g))}return{top:a,left:u,bottom:l,right:c,width:f,height:h}}}function C(t,e,n){for(var r=_(t,!0),i=A(t)[e];r;){var o=A(r)[n];if(!("top"===n||"left"===n?i>=o:i<=o))return r;if(r===E())break;r=_(r,!1)}return!1}function F(t,e,n){for(var r=0,i=0,o=t.children;i<o.length;){if("none"!==o[i].style.display&&o[i]!==Ot.ghost&&o[i]!==Ot.dragged&&v(o[i],n.draggable,t,!1)){if(r===e)return o[i];r++}i++}return null}function P(t,e){for(var n=t.lastElementChild;n&&(n===Ot.ghost||"none"===w(n,"display")||e&&!d(n,e));)n=n.previousElementSibling;return n||null}function k(t,e){var n=0;if(!t||!t.parentNode)return-1;for(;t=t.previousElementSibling;)"TEMPLATE"===t.nodeName.toUpperCase()||t===Ot.clone||e&&!d(t,e)||n++;return n}function T(t){var e=0,n=0,r=E();if(t)do{var i=x(t);e+=t.scrollLeft*i.a,n+=t.scrollTop*i.d}while(t!==r&&(t=t.parentNode));return[e,n]}function _(t,e){if(!t||!t.getBoundingClientRect)return E();var n=t,r=!1;do{if(n.clientWidth<n.scrollWidth||n.clientHeight<n.scrollHeight){var i=w(n);if(n.clientWidth<n.scrollWidth&&("auto"==i.overflowX||"scroll"==i.overflowX)||n.clientHeight<n.scrollHeight&&("auto"==i.overflowY||"scroll"==i.overflowY)){if(!n.getBoundingClientRect||n===document.body)return E();if(r||e)return n;r=!0}}}while(n=n.parentNode);return E()}function I(t,e){return Math.round(t.top)===Math.round(e.top)&&Math.round(t.left)===Math.round(e.left)&&Math.round(t.height)===Math.round(e.height)&&Math.round(t.width)===Math.round(e.width)}function D(t,e){return function(){if(!m){var n=arguments,r=this;1===n.length?t.call(r,n[0]):t.apply(r,n),m=setTimeout((function(){m=void 0}),e)}}}function N(t,e,n){t.scrollLeft+=e,t.scrollTop+=n}function R(t){var e=window.Polymer,n=window.jQuery||window.Zepto;return e&&e.dom?e.dom(t).cloneNode(!0):n?n(t).clone(!0)[0]:t.cloneNode(!0)}function O(t,e){w(t,"position","absolute"),w(t,"top",e.top),w(t,"left",e.left),w(t,"width",e.width),w(t,"height",e.height)}function j(t){w(t,"position",""),w(t,"top",""),w(t,"left",""),w(t,"width",""),w(t,"height","")}var B="Sortable"+(new Date).getTime(),H=[],L={initializeByDefault:!0},M={mount:function(t){for(var e in L)L.hasOwnProperty(e)&&!(e in t)&&(t[e]=L[e]);H.push(t)},pluginEvent:function(t,e,n){var i=this;this.eventCanceled=!1,n.cancel=function(){i.eventCanceled=!0};var o=t+"Global";H.forEach((function(i){e[i.pluginName]&&(e[i.pluginName][o]&&e[i.pluginName][o](r({sortable:e},n)),e.options[i.pluginName]&&e[i.pluginName][t]&&e[i.pluginName][t](r({sortable:e},n)))}))},initializePlugins:function(t,e,n,r){for(var i in H.forEach((function(r){var i=r.pluginName;if(t.options[i]||r.initializeByDefault){var o=new r(t,e,t.options);o.sortable=t,o.options=t.options,t[i]=o,Object.assign(n,o.defaults)}})),t.options)if(t.options.hasOwnProperty(i)){var o=this.modifyOption(t,i,t.options[i]);void 0!==o&&(t.options[i]=o)}},getEventProperties:function(t,e){var n={};return H.forEach((function(r){"function"==typeof r.eventProperties&&Object.assign(n,r.eventProperties.call(e[r.pluginName],t))})),n},modifyOption:function(t,e,n){var r;return H.forEach((function(i){t[i.pluginName]&&i.optionListeners&&"function"==typeof i.optionListeners[e]&&(r=i.optionListeners[e].call(t[i.pluginName],n))})),r}};function $(t){var e=t.sortable,n=t.rootEl,i=t.name,a=t.targetEl,u=t.cloneEl,l=t.toEl,c=t.fromEl,h=t.oldIndex,f=t.newIndex,p=t.oldDraggableIndex,d=t.newDraggableIndex,g=t.originalEvent,v=t.putSortable,m=t.extraEventProperties;if(e=e||n&&n[B]){var y,b=e.options,w="on"+i.charAt(0).toUpperCase()+i.substr(1);!window.CustomEvent||o||s?(y=document.createEvent("Event")).initEvent(i,!0,!0):y=new CustomEvent(i,{bubbles:!0,cancelable:!0}),y.to=l||n,y.from=c||n,y.item=a||n,y.clone=u,y.oldIndex=h,y.newIndex=f,y.oldDraggableIndex=p,y.newDraggableIndex=d,y.originalEvent=g,y.pullMode=v?v.lastPutMode:void 0;var x=r({},m,M.getEventProperties(i,e));for(var S in x)y[S]=x[S];n&&n.dispatchEvent(y),b[w]&&b[w].call(e,y)}}var U=function(t,e,n){var i=void 0===n?{}:n,o=i.evt,s=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)e.indexOf(n=o[r])>=0||(i[n]=t[n]);return i}(i,["evt"]);M.pluginEvent.bind(Ot)(t,e,r({dragEl:q,parentEl:K,ghostEl:z,rootEl:G,nextEl:W,lastDownEl:Y,cloneEl:X,cloneHidden:J,dragStarted:ct,putSortable:rt,activeSortable:Ot.active,originalEvent:o,oldIndex:Q,oldDraggableIndex:tt,newIndex:Z,newDraggableIndex:et,hideGhostForTarget:_t,unhideGhostForTarget:It,cloneNowHidden:function(){J=!0},cloneNowShown:function(){J=!1},dispatchSortableEvent:function(t){V({sortable:e,name:t,originalEvent:o})}},s))};function V(t){$(r({putSortable:rt,cloneEl:X,targetEl:q,rootEl:G,oldIndex:Q,oldDraggableIndex:tt,newIndex:Z,newDraggableIndex:et},t))}var q,K,z,G,W,Y,X,J,Q,Z,tt,et,nt,rt,it,ot,st,at,ut,lt,ct,ht,ft,pt,dt,gt=!1,vt=!1,mt=[],yt=!1,bt=!1,wt=[],xt=!1,St=[],Et="undefined"!=typeof document,At=l,Ct=s||o?"cssFloat":"float",Ft=Et&&!c&&!l&&"draggable"in document.createElement("div"),Pt=function(){if(Et){if(o)return!1;var t=document.createElement("x");return t.style.cssText="pointer-events:auto","auto"===t.style.pointerEvents}}(),kt=function(t,e){var n=w(t),r=parseInt(n.width)-parseInt(n.paddingLeft)-parseInt(n.paddingRight)-parseInt(n.borderLeftWidth)-parseInt(n.borderRightWidth),i=F(t,0,e),o=F(t,1,e),s=i&&w(i),a=o&&w(o),u=s&&parseInt(s.marginLeft)+parseInt(s.marginRight)+A(i).width,l=a&&parseInt(a.marginLeft)+parseInt(a.marginRight)+A(o).width;return"flex"===n.display?"column"===n.flexDirection||"column-reverse"===n.flexDirection?"vertical":"horizontal":"grid"===n.display?n.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal":i&&s.float&&"none"!==s.float?!o||"both"!==a.clear&&a.clear!==("left"===s.float?"left":"right")?"horizontal":"vertical":i&&("block"===s.display||"flex"===s.display||"table"===s.display||"grid"===s.display||u>=r&&"none"===n[Ct]||o&&"none"===n[Ct]&&u+l>r)?"vertical":"horizontal"},Tt=function(t){function e(t,n){return function(r,i,o,s){if(null==t&&(n||r.options.group.name&&i.options.group.name&&r.options.group.name===i.options.group.name))return!0;if(null==t||!1===t)return!1;if(n&&"clone"===t)return t;if("function"==typeof t)return e(t(r,i,o,s),n)(r,i,o,s);var a=(n?r:i).options.group.name;return!0===t||"string"==typeof t&&t===a||t.join&&t.indexOf(a)>-1}}var n={},r=t.group;r&&"object"==typeof r||(r={name:r}),n.name=r.name,n.checkPull=e(r.pull,!0),n.checkPut=e(r.put),n.revertClone=r.revertClone,t.group=n},_t=function(){!Pt&&z&&w(z,"display","none")},It=function(){!Pt&&z&&w(z,"display","")};Et&&document.addEventListener("click",(function(t){if(vt)return t.preventDefault(),t.stopPropagation&&t.stopPropagation(),t.stopImmediatePropagation&&t.stopImmediatePropagation(),vt=!1,!1}),!0);var Dt,Nt=function(t){if(q){var e=(i=(t=t.touches?t.touches[0]:t).clientX,o=t.clientY,mt.some((function(t){if(!P(t)){var e=A(t),n=t[B].options.emptyInsertThreshold;return n&&i>=e.left-n&&i<=e.right+n&&o>=e.top-n&&o<=e.bottom+n?s=t:void 0}})),s);if(e){var n={};for(var r in t)t.hasOwnProperty(r)&&(n[r]=t[r]);n.target=n.rootEl=e,n.preventDefault=void 0,n.stopPropagation=void 0,e[B]._onDragOver(n)}}var i,o,s},Rt=function(t){q&&q.parentNode[B]._isOutsideThisEl(t.target)};function Ot(t,e){if(!t||!t.nodeType||1!==t.nodeType)throw"Sortable: `el` must be an HTMLElement, not "+{}.toString.call(t);this.el=t,this.options=e=Object.assign({},e),t[B]=this;var n,i,o={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(t.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return kt(t,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(t,e){t.setData("Text",e.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:!1!==Ot.supportPointer&&"PointerEvent"in window,emptyInsertThreshold:5};for(var s in M.initializePlugins(this,t,o),o)!(s in e)&&(e[s]=o[s]);for(var a in Tt(e),this)"_"===a.charAt(0)&&"function"==typeof this[a]&&(this[a]=this[a].bind(this));this.nativeDraggable=!e.forceFallback&&Ft,this.nativeDraggable&&(this.options.touchStartThreshold=1),e.supportPointer?f(t,"pointerdown",this._onTapStart):(f(t,"mousedown",this._onTapStart),f(t,"touchstart",this._onTapStart)),this.nativeDraggable&&(f(t,"dragover",this),f(t,"dragenter",this)),mt.push(this.el),e.store&&e.store.get&&this.sort(e.store.get(this)||[]),Object.assign(this,(i=[],{captureAnimationState:function(){i=[],this.options.animation&&[].slice.call(this.el.children).forEach((function(t){if("none"!==w(t,"display")&&void 0!==t){i.push({target:t,rect:A(t)});var e=r({},i[i.length-1].rect);if(t.thisAnimationDuration){var n=x(t,!0);n&&(e.top-=n.f,e.left-=n.e)}t.fromRect=e}}))},addAnimationState:function(t){i.push(t)},removeAnimationState:function(t){i.splice(function(t,e){for(var n in t)if(t.hasOwnProperty(n))for(var r in e)if(e.hasOwnProperty(r)&&e[r]===t[n][r])return Number(n);return-1}(i,{target:t}),1)},animateAll:function(t){var e=this;if(!this.options.animation)return clearTimeout(n),void("function"==typeof t&&t());var r=!1,o=0;i.forEach((function(t){var n=0,i=t.target,s=i.fromRect,a=A(i),u=i.prevFromRect,l=i.prevToRect,c=t.rect,h=x(i,!0);h&&(a.top-=h.f,a.left-=h.e),i.toRect=a,i.thisAnimationDuration&&I(u,a)&&!I(s,a)&&(c.top-a.top)/(c.left-a.left)==(s.top-a.top)/(s.left-a.left)&&(n=function(t,e,n,r){return Math.sqrt(Math.pow(e.top-t.top,2)+Math.pow(e.left-t.left,2))/Math.sqrt(Math.pow(e.top-n.top,2)+Math.pow(e.left-n.left,2))*r.animation}(c,u,l,e.options)),I(a,s)||(i.prevFromRect=s,i.prevToRect=a,n||(n=e.options.animation),e.animate(i,c,a,n)),n&&(r=!0,o=Math.max(o,n),clearTimeout(i.animationResetTimer),i.animationResetTimer=setTimeout((function(){i.animationTime=0,i.prevFromRect=null,i.fromRect=null,i.prevToRect=null,i.thisAnimationDuration=null}),n),i.thisAnimationDuration=n)})),clearTimeout(n),r?n=setTimeout((function(){"function"==typeof t&&t()}),o):"function"==typeof t&&t(),i=[]},animate:function(t,e,n,r){if(r){w(t,"transition",""),w(t,"transform","");var i=x(this.el),o=(e.left-n.left)/(i&&i.a||1),s=(e.top-n.top)/(i&&i.d||1);t.animatingX=!!o,t.animatingY=!!s,w(t,"transform","translate3d("+o+"px,"+s+"px,0)"),this.forRepaintDummy=function(t){return t.offsetWidth}(t),w(t,"transition","transform "+r+"ms"+(this.options.easing?" "+this.options.easing:"")),w(t,"transform","translate3d(0,0,0)"),"number"==typeof t.animated&&clearTimeout(t.animated),t.animated=setTimeout((function(){w(t,"transition",""),w(t,"transform",""),t.animated=!1,t.animatingX=!1,t.animatingY=!1}),r)}}}))}function jt(t,e,n,r,i,a,u,l){var c,h,f=t[B],p=f.options.onMove;return!window.CustomEvent||o||s?(c=document.createEvent("Event")).initEvent("move",!0,!0):c=new CustomEvent("move",{bubbles:!0,cancelable:!0}),c.to=e,c.from=t,c.dragged=n,c.draggedRect=r,c.related=i||e,c.relatedRect=a||A(e),c.willInsertAfter=l,c.originalEvent=u,t.dispatchEvent(c),p&&(h=p.call(f,c,u)),h}function Bt(t){t.draggable=!1}function Ht(){xt=!1}function Lt(t){for(var e=t.tagName+t.className+t.src+t.href+t.textContent,n=e.length,r=0;n--;)r+=e.charCodeAt(n);return r.toString(36)}function Mt(t){return setTimeout(t,0)}function $t(t){return clearTimeout(t)}Ot.prototype={constructor:Ot,_isOutsideThisEl:function(t){this.el.contains(t)||t===this.el||(ht=null)},_getDirection:function(t,e){return"function"==typeof this.options.direction?this.options.direction.call(this,t,e,q):this.options.direction},_onTapStart:function(t){if(t.cancelable){var e=this,n=this.el,r=this.options,i=r.preventOnFilter,o=t.type,s=t.touches&&t.touches[0]||t.pointerType&&"touch"===t.pointerType&&t,a=(s||t).target,l=t.target.shadowRoot&&(t.path&&t.path[0]||t.composedPath&&t.composedPath()[0])||a,c=r.filter;if(function(t){St.length=0;for(var e=t.getElementsByTagName("input"),n=e.length;n--;){var r=e[n];r.checked&&St.push(r)}}(n),!q&&!(/mousedown|pointerdown/.test(o)&&0!==t.button||r.disabled)&&!l.isContentEditable&&(this.nativeDraggable||!u||!a||"SELECT"!==a.tagName.toUpperCase())&&!((a=v(a,r.draggable,n,!1))&&a.animated||Y===a)){if(Q=k(a),tt=k(a,r.draggable),"function"==typeof c){if(c.call(this,t,a,this))return V({sortable:e,rootEl:l,name:"filter",targetEl:a,toEl:n,fromEl:n}),U("filter",e,{evt:t}),void(i&&t.cancelable&&t.preventDefault())}else if(c&&(c=c.split(",").some((function(r){if(r=v(l,r.trim(),n,!1))return V({sortable:e,rootEl:r,name:"filter",targetEl:a,fromEl:n,toEl:n}),U("filter",e,{evt:t}),!0}))))return void(i&&t.cancelable&&t.preventDefault());r.handle&&!v(l,r.handle,n,!1)||this._prepareDragStart(t,s,a)}}},_prepareDragStart:function(t,e,n){var r,i=this,u=i.el,l=i.options,c=u.ownerDocument;if(n&&!q&&n.parentNode===u){var h=A(n);if(G=u,K=(q=n).parentNode,W=q.nextSibling,Y=n,nt=l.group,Ot.dragged=q,ut=(it={target:q,clientX:(e||t).clientX,clientY:(e||t).clientY}).clientX-h.left,lt=it.clientY-h.top,this._lastX=(e||t).clientX,this._lastY=(e||t).clientY,q.style["will-change"]="all",r=function(){U("delayEnded",i,{evt:t}),Ot.eventCanceled?i._onDrop():(i._disableDelayedDragEvents(),!a&&i.nativeDraggable&&(q.draggable=!0),i._triggerDragStart(t,e),V({sortable:i,name:"choose",originalEvent:t}),b(q,l.chosenClass,!0))},l.ignore.split(",").forEach((function(t){S(q,t.trim(),Bt)})),f(c,"dragover",Nt),f(c,"mousemove",Nt),f(c,"touchmove",Nt),f(c,"mouseup",i._onDrop),f(c,"touchend",i._onDrop),f(c,"touchcancel",i._onDrop),a&&this.nativeDraggable&&(this.options.touchStartThreshold=4,q.draggable=!0),U("delayStart",this,{evt:t}),!l.delay||l.delayOnTouchOnly&&!e||this.nativeDraggable&&(s||o))r();else{if(Ot.eventCanceled)return void this._onDrop();f(c,"mouseup",i._disableDelayedDrag),f(c,"touchend",i._disableDelayedDrag),f(c,"touchcancel",i._disableDelayedDrag),f(c,"mousemove",i._delayedDragTouchMoveHandler),f(c,"touchmove",i._delayedDragTouchMoveHandler),l.supportPointer&&f(c,"pointermove",i._delayedDragTouchMoveHandler),i._dragStartTimer=setTimeout(r,l.delay)}}},_delayedDragTouchMoveHandler:function(t){var e=t.touches?t.touches[0]:t;Math.max(Math.abs(e.clientX-this._lastX),Math.abs(e.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){q&&Bt(q),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var t=this.el.ownerDocument;p(t,"mouseup",this._disableDelayedDrag),p(t,"touchend",this._disableDelayedDrag),p(t,"touchcancel",this._disableDelayedDrag),p(t,"mousemove",this._delayedDragTouchMoveHandler),p(t,"touchmove",this._delayedDragTouchMoveHandler),p(t,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(t,e){e=e||"touch"==t.pointerType&&t,!this.nativeDraggable||e?f(document,this.options.supportPointer?"pointermove":e?"touchmove":"mousemove",this._onTouchMove):(f(q,"dragend",this),f(G,"dragstart",this._onDragStart));try{document.selection?Mt((function(){document.selection.empty()})):window.getSelection().removeAllRanges()}catch(t){}},_dragStarted:function(t,e){if(gt=!1,G&&q){U("dragStarted",this,{evt:e}),this.nativeDraggable&&f(document,"dragover",Rt);var n=this.options;!t&&b(q,n.dragClass,!1),b(q,n.ghostClass,!0),Ot.active=this,t&&this._appendGhost(),V({sortable:this,name:"start",originalEvent:e})}else this._nulling()},_emulateDragOver:function(){if(ot){this._lastX=ot.clientX,this._lastY=ot.clientY,_t();for(var t=document.elementFromPoint(ot.clientX,ot.clientY),e=t;t&&t.shadowRoot&&(t=t.shadowRoot.elementFromPoint(ot.clientX,ot.clientY))!==e;)e=t;if(q.parentNode[B]._isOutsideThisEl(t),e)do{if(e[B]&&e[B]._onDragOver({clientX:ot.clientX,clientY:ot.clientY,target:t,rootEl:e})&&!this.options.dragoverBubble)break;t=e}while(e=e.parentNode);It()}},_onTouchMove:function(t){if(it){var e=this.options,n=e.fallbackTolerance,r=e.fallbackOffset,i=t.touches?t.touches[0]:t,o=z&&x(z,!0),s=z&&o&&o.a,a=z&&o&&o.d,u=At&&dt&&T(dt),l=(i.clientX-it.clientX+r.x)/(s||1)+(u?u[0]-wt[0]:0)/(s||1),c=(i.clientY-it.clientY+r.y)/(a||1)+(u?u[1]-wt[1]:0)/(a||1);if(!Ot.active&&!gt){if(n&&Math.max(Math.abs(i.clientX-this._lastX),Math.abs(i.clientY-this._lastY))<n)return;this._onDragStart(t,!0)}if(z){o?(o.e+=l-(st||0),o.f+=c-(at||0)):o={a:1,b:0,c:0,d:1,e:l,f:c};var h="matrix("+o.a+","+o.b+","+o.c+","+o.d+","+o.e+","+o.f+")";w(z,"webkitTransform",h),w(z,"mozTransform",h),w(z,"msTransform",h),w(z,"transform",h),st=l,at=c,ot=i}t.cancelable&&t.preventDefault()}},_appendGhost:function(){if(!z){var t=this.options.fallbackOnBody?document.body:G,e=A(q,!0,At,!0,t),n=this.options;if(At){for(dt=t;"static"===w(dt,"position")&&"none"===w(dt,"transform")&&dt!==document;)dt=dt.parentNode;dt!==document.body&&dt!==document.documentElement?(dt===document&&(dt=E()),e.top+=dt.scrollTop,e.left+=dt.scrollLeft):dt=E(),wt=T(dt)}b(z=q.cloneNode(!0),n.ghostClass,!1),b(z,n.fallbackClass,!0),b(z,n.dragClass,!0),w(z,"transition",""),w(z,"transform",""),w(z,"box-sizing","border-box"),w(z,"margin",0),w(z,"top",e.top),w(z,"left",e.left),w(z,"width",e.width),w(z,"height",e.height),w(z,"opacity","0.8"),w(z,"position",At?"absolute":"fixed"),w(z,"zIndex","100000"),w(z,"pointerEvents","none"),Ot.ghost=z,t.appendChild(z),w(z,"transform-origin",ut/parseInt(z.style.width)*100+"% "+lt/parseInt(z.style.height)*100+"%")}},_onDragStart:function(t,e){var n=this,r=t.dataTransfer,i=n.options;U("dragStart",this,{evt:t}),Ot.eventCanceled?this._onDrop():(U("setupClone",this),Ot.eventCanceled||((X=R(q)).draggable=!1,X.style["will-change"]="",this._hideClone(),b(X,this.options.chosenClass,!1),Ot.clone=X),n.cloneId=Mt((function(){U("clone",n),Ot.eventCanceled||(n.options.removeCloneOnHide||G.insertBefore(X,q),n._hideClone(),V({sortable:n,name:"clone"}))})),!e&&b(q,i.dragClass,!0),e?(vt=!0,n._loopId=setInterval(n._emulateDragOver,50)):(p(document,"mouseup",n._onDrop),p(document,"touchend",n._onDrop),p(document,"touchcancel",n._onDrop),r&&(r.effectAllowed="move",i.setData&&i.setData.call(n,r,q)),f(document,"drop",n),w(q,"transform","translateZ(0)")),gt=!0,n._dragStartId=Mt(n._dragStarted.bind(n,e,t)),f(document,"selectstart",n),ct=!0,u&&w(document.body,"user-select","none"))},_onDragOver:function(t){var e,n,i,o,s=this.el,a=t.target,u=this.options,l=u.group,c=Ot.active,h=nt===l,f=u.sort,p=rt||c,d=this,g=!1;if(!xt){if(void 0!==t.preventDefault&&t.cancelable&&t.preventDefault(),a=v(a,u.draggable,s,!0),H("dragOver"),Ot.eventCanceled)return g;if(q.contains(t.target)||a.animated&&a.animatingX&&a.animatingY||d._ignoreWhileAnimating===a)return M(!1);if(vt=!1,c&&!u.disabled&&(h?f||(i=!G.contains(q)):rt===this||(this.lastPutMode=nt.checkPull(this,c,q,t))&&l.checkPut(this,c,q,t))){if(o="vertical"===this._getDirection(t,a),e=A(q),H("dragOverValid"),Ot.eventCanceled)return g;if(i)return K=G,L(),this._hideClone(),H("revert"),Ot.eventCanceled||(W?G.insertBefore(q,W):G.appendChild(q)),M(!0);var m=P(s,u.draggable);if(!m||function(t,e,n){var r=A(P(n.el,n.options.draggable));return e?t.clientX>r.right+10||t.clientX<=r.right&&t.clientY>r.bottom&&t.clientX>=r.left:t.clientX>r.right&&t.clientY>r.top||t.clientX<=r.right&&t.clientY>r.bottom+10}(t,o,this)&&!m.animated){if(m===q)return M(!1);if(m&&s===t.target&&(a=m),a&&(n=A(a)),!1!==jt(G,s,q,e,a,n,t,!!a))return L(),s.appendChild(q),K=s,$(),M(!0)}else if(a.parentNode===s){n=A(a);var y,x,S,E=q.parentNode!==s,F=!function(t,e,n){var r=n?t.left:t.top,i=n?e.left:e.top;return r===i||(n?t.right:t.bottom)===(n?e.right:e.bottom)||r+(n?t.width:t.height)/2===i+(n?e.width:e.height)/2}(q.animated&&q.toRect||e,a.animated&&a.toRect||n,o),T=o?"top":"left",_=C(a,"top","top")||C(q,"top","top"),I=_?_.scrollTop:void 0;if(ht!==a&&(x=n[T],yt=!1,bt=!F&&u.invertSwap||E),0!==(y=function(t,e,n,r,i,o,s,a){var u=r?t.clientY:t.clientX,l=r?n.height:n.width,c=r?n.top:n.left,h=r?n.bottom:n.right,f=!1;if(!s)if(a&&pt<l*i){if(!yt&&(1===ft?u>c+l*o/2:u<h-l*o/2)&&(yt=!0),yt)f=!0;else if(1===ft?u<c+pt:u>h-pt)return-ft}else if(u>c+l*(1-i)/2&&u<h-l*(1-i)/2)return function(t){return k(q)<k(t)?1:-1}(e);return(f=f||s)&&(u<c+l*o/2||u>h-l*o/2)?u>c+l/2?1:-1:0}(t,a,n,o,F?1:u.swapThreshold,null==u.invertedSwapThreshold?u.swapThreshold:u.invertedSwapThreshold,bt,ht===a))){var D=k(q);do{S=K.children[D-=y]}while(S&&("none"===w(S,"display")||S===z))}if(0===y||S===a)return M(!1);ht=a,ft=y;var R=a.nextElementSibling,O=!1,j=jt(G,s,q,e,a,n,t,O=1===y);if(!1!==j)return 1!==j&&-1!==j||(O=1===j),xt=!0,setTimeout(Ht,30),L(),O&&!R?s.appendChild(q):a.parentNode.insertBefore(q,O?R:a),_&&N(_,0,I-_.scrollTop),K=q.parentNode,void 0===x||bt||(pt=Math.abs(x-A(a)[T])),$(),M(!0)}if(s.contains(q))return M(!1)}return!1}function H(u,l){U(u,d,r({evt:t,isOwner:h,axis:o?"vertical":"horizontal",revert:i,dragRect:e,targetRect:n,canSort:f,fromSortable:p,target:a,completed:M,onMove:function(n,r){return jt(G,s,q,e,n,A(n),t,r)},changed:$},l))}function L(){H("dragOverAnimationCapture"),d.captureAnimationState(),d!==p&&p.captureAnimationState()}function M(e){return H("dragOverCompleted",{insertion:e}),e&&(h?c._hideClone():c._showClone(d),d!==p&&(b(q,rt?rt.options.ghostClass:c.options.ghostClass,!1),b(q,u.ghostClass,!0)),rt!==d&&d!==Ot.active?rt=d:d===Ot.active&&rt&&(rt=null),p===d&&(d._ignoreWhileAnimating=a),d.animateAll((function(){H("dragOverAnimationComplete"),d._ignoreWhileAnimating=null})),d!==p&&(p.animateAll(),p._ignoreWhileAnimating=null)),(a===q&&!q.animated||a===s&&!a.animated)&&(ht=null),u.dragoverBubble||t.rootEl||a===document||(q.parentNode[B]._isOutsideThisEl(t.target),!e&&Nt(t)),!u.dragoverBubble&&t.stopPropagation&&t.stopPropagation(),g=!0}function $(){Z=k(q),et=k(q,u.draggable),V({sortable:d,name:"change",toEl:s,newIndex:Z,newDraggableIndex:et,originalEvent:t})}},_ignoreWhileAnimating:null,_offMoveEvents:function(){p(document,"mousemove",this._onTouchMove),p(document,"touchmove",this._onTouchMove),p(document,"pointermove",this._onTouchMove),p(document,"dragover",Nt),p(document,"mousemove",Nt),p(document,"touchmove",Nt)},_offUpEvents:function(){var t=this.el.ownerDocument;p(t,"mouseup",this._onDrop),p(t,"touchend",this._onDrop),p(t,"pointerup",this._onDrop),p(t,"touchcancel",this._onDrop),p(document,"selectstart",this)},_onDrop:function(t){var e=this.el,n=this.options;Z=k(q),et=k(q,n.draggable),U("drop",this,{evt:t}),K=q&&q.parentNode,Z=k(q),et=k(q,n.draggable),Ot.eventCanceled||(gt=!1,bt=!1,yt=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),$t(this.cloneId),$t(this._dragStartId),this.nativeDraggable&&(p(document,"drop",this),p(e,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),u&&w(document.body,"user-select",""),w(q,"transform",""),t&&(ct&&(t.cancelable&&t.preventDefault(),!n.dropBubble&&t.stopPropagation()),z&&z.parentNode&&z.parentNode.removeChild(z),(G===K||rt&&"clone"!==rt.lastPutMode)&&X&&X.parentNode&&X.parentNode.removeChild(X),q&&(this.nativeDraggable&&p(q,"dragend",this),Bt(q),q.style["will-change"]="",ct&&!gt&&b(q,rt?rt.options.ghostClass:this.options.ghostClass,!1),b(q,this.options.chosenClass,!1),V({sortable:this,name:"unchoose",toEl:K,newIndex:null,newDraggableIndex:null,originalEvent:t}),G!==K?(Z>=0&&(V({rootEl:K,name:"add",toEl:K,fromEl:G,originalEvent:t}),V({sortable:this,name:"remove",toEl:K,originalEvent:t}),V({rootEl:K,name:"sort",toEl:K,fromEl:G,originalEvent:t}),V({sortable:this,name:"sort",toEl:K,originalEvent:t})),rt&&rt.save()):Z!==Q&&Z>=0&&(V({sortable:this,name:"update",toEl:K,originalEvent:t}),V({sortable:this,name:"sort",toEl:K,originalEvent:t})),Ot.active&&(null!=Z&&-1!==Z||(Z=Q,et=tt),V({sortable:this,name:"end",toEl:K,originalEvent:t}),this.save())))),this._nulling()},_nulling:function(){U("nulling",this),G=q=K=z=W=X=Y=J=it=ot=ct=Z=et=Q=tt=ht=ft=rt=nt=Ot.dragged=Ot.ghost=Ot.clone=Ot.active=null,St.forEach((function(t){t.checked=!0})),St.length=st=at=0},handleEvent:function(t){switch(t.type){case"drop":case"dragend":this._onDrop(t);break;case"dragenter":case"dragover":q&&(this._onDragOver(t),function(t){t.dataTransfer&&(t.dataTransfer.dropEffect="move"),t.cancelable&&t.preventDefault()}(t));break;case"selectstart":t.preventDefault()}},toArray:function(){for(var t,e=[],n=this.el.children,r=0,i=n.length,o=this.options;r<i;r++)v(t=n[r],o.draggable,this.el,!1)&&e.push(t.getAttribute(o.dataIdAttr)||Lt(t));return e},sort:function(t){var e={},n=this.el;this.toArray().forEach((function(t,r){var i=n.children[r];v(i,this.options.draggable,n,!1)&&(e[t]=i)}),this),t.forEach((function(t){e[t]&&(n.removeChild(e[t]),n.appendChild(e[t]))}))},save:function(){var t=this.options.store;t&&t.set&&t.set(this)},closest:function(t,e){return v(t,e||this.options.draggable,this.el,!1)},option:function(t,e){var n=this.options;if(void 0===e)return n[t];var r=M.modifyOption(this,t,e);n[t]=void 0!==r?r:e,"group"===t&&Tt(n)},destroy:function(){U("destroy",this);var t=this.el;t[B]=null,p(t,"mousedown",this._onTapStart),p(t,"touchstart",this._onTapStart),p(t,"pointerdown",this._onTapStart),this.nativeDraggable&&(p(t,"dragover",this),p(t,"dragenter",this)),Array.prototype.forEach.call(t.querySelectorAll("[draggable]"),(function(t){t.removeAttribute("draggable")})),this._onDrop(),this._disableDelayedDragEvents(),mt.splice(mt.indexOf(this.el),1),this.el=t=null},_hideClone:function(){if(!J){if(U("hideClone",this),Ot.eventCanceled)return;w(X,"display","none"),this.options.removeCloneOnHide&&X.parentNode&&X.parentNode.removeChild(X),J=!0}},_showClone:function(t){if("clone"===t.lastPutMode){if(J){if(U("showClone",this),Ot.eventCanceled)return;q.parentNode!=G||this.options.group.revertClone?W?G.insertBefore(X,W):G.appendChild(X):G.insertBefore(X,q),this.options.group.revertClone&&this.animate(q,X),w(X,"display",""),J=!1}}else this._hideClone()}},Et&&f(document,"touchmove",(function(t){(Ot.active||gt)&&t.cancelable&&t.preventDefault()})),Ot.utils={on:f,off:p,css:w,find:S,is:function(t,e){return!!v(t,e,t,!1)},extend:function(t,e){if(t&&e)for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t},throttle:D,closest:v,toggleClass:b,clone:R,index:k,nextTick:Mt,cancelNextTick:$t,detectDirection:kt,getChild:F},Ot.get=function(t){return t[B]},Ot.mount=function(){var t=[].slice.call(arguments);t[0].constructor===Array&&(t=t[0]),t.forEach((function(t){if(!t.prototype||!t.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not "+{}.toString.call(t);t.utils&&(Ot.utils=r({},Ot.utils,t.utils)),M.mount(t)}))},Ot.create=function(t,e){return new Ot(t,e)},Ot.version="1.12.0";var Ut,Vt,qt,Kt,zt,Gt=[],Wt=[],Yt=!1,Xt=!1,Jt=!1;function Qt(t,e){Wt.forEach((function(n,r){var i=e.children[n.sortableIndex+(t?Number(r):0)];i?e.insertBefore(n,i):e.appendChild(n)}))}function Zt(){Gt.forEach((function(t){t!==qt&&t.parentNode&&t.parentNode.removeChild(t)}))}var te=function(t){var e=t.originalEvent,n=t.putSortable,r=t.dragEl,i=t.dispatchSortableEvent,o=t.unhideGhostForTarget;if(e){var s=n||t.activeSortable;(0,t.hideGhostForTarget)();var a=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:e,u=document.elementFromPoint(a.clientX,a.clientY);o(),s&&!s.el.contains(u)&&(i("spill"),this.onSpill({dragEl:r,putSortable:n}))}};function ee(){}function ne(){}ee.prototype={startIndex:null,dragStart:function(t){this.startIndex=t.oldDraggableIndex},onSpill:function(t){var e=t.dragEl,n=t.putSortable;this.sortable.captureAnimationState(),n&&n.captureAnimationState();var r=F(this.sortable.el,this.startIndex,this.options);r?this.sortable.el.insertBefore(e,r):this.sortable.el.appendChild(e),this.sortable.animateAll(),n&&n.animateAll()},drop:te},Object.assign(ee,{pluginName:"revertOnSpill"}),ne.prototype={onSpill:function(t){var e=t.dragEl,n=t.putSortable||this.sortable;n.captureAnimationState(),e.parentNode&&e.parentNode.removeChild(e),n.animateAll()},drop:te},Object.assign(ne,{pluginName:"removeOnSpill"});var re,ie,oe,se,ae,ue,le=[],ce=!1;function he(){le.forEach((function(t){clearInterval(t.pid)})),le=[]}function fe(){clearInterval(ue)}var pe=D((function(t,e,n,r){if(e.scroll){var i,o=(t.touches?t.touches[0]:t).clientX,s=(t.touches?t.touches[0]:t).clientY,a=e.scrollSensitivity,u=e.scrollSpeed,l=E(),c=!1;ie!==n&&(ie=n,he(),i=e.scrollFn,!0===(re=e.scroll)&&(re=_(n,!0)));var h=0,f=re;do{var p=f,d=A(p),g=d.top,v=d.bottom,m=d.left,y=d.right,b=d.width,x=d.height,S=void 0,C=void 0,F=p.scrollWidth,P=p.scrollHeight,k=w(p),T=p.scrollLeft,I=p.scrollTop;p===l?(S=b<F&&("auto"===k.overflowX||"scroll"===k.overflowX||"visible"===k.overflowX),C=x<P&&("auto"===k.overflowY||"scroll"===k.overflowY||"visible"===k.overflowY)):(S=b<F&&("auto"===k.overflowX||"scroll"===k.overflowX),C=x<P&&("auto"===k.overflowY||"scroll"===k.overflowY));var D=S&&(Math.abs(y-o)<=a&&T+b<F)-(Math.abs(m-o)<=a&&!!T),R=C&&(Math.abs(v-s)<=a&&I+x<P)-(Math.abs(g-s)<=a&&!!I);if(!le[h])for(var O=0;O<=h;O++)le[O]||(le[O]={});le[h].vx==D&&le[h].vy==R&&le[h].el===p||(le[h].el=p,le[h].vx=D,le[h].vy=R,clearInterval(le[h].pid),0==D&&0==R||(c=!0,le[h].pid=setInterval(function(){r&&0===this.layer&&Ot.active._onTouchMove(ae);var e=le[this.layer].vy?le[this.layer].vy*u:0,n=le[this.layer].vx?le[this.layer].vx*u:0;"function"==typeof i&&"continue"!==i.call(Ot.dragged.parentNode[B],n,e,t,ae,le[this.layer].el)||N(le[this.layer].el,n,e)}.bind({layer:h}),24))),h++}while(e.bubbleScroll&&f!==l&&(f=_(f,!1)));ce=c}}),30);Ot.mount(new function(){function t(){for(var t in this.defaults={scroll:!0,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0},this)"_"===t.charAt(0)&&"function"==typeof this[t]&&(this[t]=this[t].bind(this))}return t.prototype={dragStarted:function(t){var e=t.originalEvent;this.sortable.nativeDraggable?f(document,"dragover",this._handleAutoScroll):f(document,this.options.supportPointer?"pointermove":e.touches?"touchmove":"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(t){var e=t.originalEvent;this.options.dragOverBubble||e.rootEl||this._handleAutoScroll(e)},drop:function(){this.sortable.nativeDraggable?p(document,"dragover",this._handleAutoScroll):(p(document,"pointermove",this._handleFallbackAutoScroll),p(document,"touchmove",this._handleFallbackAutoScroll),p(document,"mousemove",this._handleFallbackAutoScroll)),fe(),he(),clearTimeout(m),m=void 0},nulling:function(){ae=ie=re=ce=ue=oe=se=null,le.length=0},_handleFallbackAutoScroll:function(t){this._handleAutoScroll(t,!0)},_handleAutoScroll:function(t,e){var n=this,r=(t.touches?t.touches[0]:t).clientX,i=(t.touches?t.touches[0]:t).clientY,a=document.elementFromPoint(r,i);if(ae=t,e||s||o||u){pe(t,this.options,a,e);var l=_(a,!0);!ce||ue&&r===oe&&i===se||(ue&&fe(),ue=setInterval((function(){var o=_(document.elementFromPoint(r,i),!0);o!==l&&(l=o,he()),pe(t,n.options,o,e)}),10),oe=r,se=i)}else{if(!this.options.bubbleScroll||_(a,!0)===E())return void he();pe(t,this.options,_(a,!1),!1)}}},Object.assign(t,{pluginName:"scroll",initializeByDefault:!0})}),Ot.mount(ne,ee),Ot.mount(new function(){function t(){this.defaults={swapClass:"sortable-swap-highlight"}}return t.prototype={dragStart:function(t){Dt=t.dragEl},dragOverValid:function(t){var e=t.completed,n=t.target,r=t.changed,i=t.cancel;if(t.activeSortable.options.swap){var o=this.options;if(n&&n!==this.sortable.el){var s=Dt;!1!==(0,t.onMove)(n)?(b(n,o.swapClass,!0),Dt=n):Dt=null,s&&s!==Dt&&b(s,o.swapClass,!1)}r(),e(!0),i()}},drop:function(t){var e,n,r,i,o,s,a=t.activeSortable,u=t.putSortable,l=t.dragEl,c=u||this.sortable,h=this.options;Dt&&b(Dt,h.swapClass,!1),Dt&&(h.swap||u&&u.options.swap)&&l!==Dt&&(c.captureAnimationState(),c!==a&&a.captureAnimationState(),s=(n=Dt).parentNode,(o=(e=l).parentNode)&&s&&!o.isEqualNode(n)&&!s.isEqualNode(e)&&(r=k(e),i=k(n),o.isEqualNode(s)&&r<i&&i++,o.insertBefore(n,o.children[r]),s.insertBefore(e,s.children[i])),c.animateAll(),c!==a&&a.animateAll())},nulling:function(){Dt=null}},Object.assign(t,{pluginName:"swap",eventProperties:function(){return{swapItem:Dt}}})}),Ot.mount(new function(){function t(t){for(var e in this)"_"===e.charAt(0)&&"function"==typeof this[e]&&(this[e]=this[e].bind(this));t.options.supportPointer?f(document,"pointerup",this._deselectMultiDrag):(f(document,"mouseup",this._deselectMultiDrag),f(document,"touchend",this._deselectMultiDrag)),f(document,"keydown",this._checkKeyDown),f(document,"keyup",this._checkKeyUp),this.defaults={selectedClass:"sortable-selected",multiDragKey:null,setData:function(e,n){var r="";Gt.length&&Vt===t?Gt.forEach((function(t,e){r+=(e?", ":"")+t.textContent})):r=n.textContent,e.setData("Text",r)}}}return t.prototype={multiDragKeyDown:!1,isMultiDrag:!1,delayStartGlobal:function(t){qt=t.dragEl},delayEnded:function(){this.isMultiDrag=~Gt.indexOf(qt)},setupClone:function(t){var e=t.sortable,n=t.cancel;if(this.isMultiDrag){for(var r=0;r<Gt.length;r++)Wt.push(R(Gt[r])),Wt[r].sortableIndex=Gt[r].sortableIndex,Wt[r].draggable=!1,Wt[r].style["will-change"]="",b(Wt[r],this.options.selectedClass,!1),Gt[r]===qt&&b(Wt[r],this.options.chosenClass,!1);e._hideClone(),n()}},clone:function(t){var e=t.dispatchSortableEvent,n=t.cancel;this.isMultiDrag&&(this.options.removeCloneOnHide||Gt.length&&Vt===t.sortable&&(Qt(!0,t.rootEl),e("clone"),n()))},showClone:function(t){var e=t.cloneNowShown,n=t.cancel;this.isMultiDrag&&(Qt(!1,t.rootEl),Wt.forEach((function(t){w(t,"display","")})),e(),zt=!1,n())},hideClone:function(t){var e=this,n=t.cloneNowHidden,r=t.cancel;this.isMultiDrag&&(Wt.forEach((function(t){w(t,"display","none"),e.options.removeCloneOnHide&&t.parentNode&&t.parentNode.removeChild(t)})),n(),zt=!0,r())},dragStartGlobal:function(t){!this.isMultiDrag&&Vt&&Vt.multiDrag._deselectMultiDrag(),Gt.forEach((function(t){t.sortableIndex=k(t)})),Gt=Gt.sort((function(t,e){return t.sortableIndex-e.sortableIndex})),Jt=!0},dragStarted:function(t){var e=this,n=t.sortable;if(this.isMultiDrag){if(this.options.sort&&(n.captureAnimationState(),this.options.animation)){Gt.forEach((function(t){t!==qt&&w(t,"position","absolute")}));var r=A(qt,!1,!0,!0);Gt.forEach((function(t){t!==qt&&O(t,r)})),Xt=!0,Yt=!0}n.animateAll((function(){Xt=!1,Yt=!1,e.options.animation&&Gt.forEach((function(t){j(t)})),e.options.sort&&Zt()}))}},dragOver:function(t){var e=t.completed,n=t.cancel;Xt&&~Gt.indexOf(t.target)&&(e(!1),n())},revert:function(t){var e=t.fromSortable,n=t.rootEl,r=t.sortable,i=t.dragRect;Gt.length>1&&(Gt.forEach((function(t){r.addAnimationState({target:t,rect:Xt?A(t):i}),j(t),t.fromRect=i,e.removeAnimationState(t)})),Xt=!1,function(t,e){Gt.forEach((function(n,r){var i=e.children[n.sortableIndex+(t?Number(r):0)];i?e.insertBefore(n,i):e.appendChild(n)}))}(!this.options.removeCloneOnHide,n))},dragOverCompleted:function(t){var e=t.sortable,n=t.isOwner,r=t.activeSortable,i=t.parentEl,o=t.putSortable,s=this.options;if(t.insertion){if(n&&r._hideClone(),Yt=!1,s.animation&&Gt.length>1&&(Xt||!n&&!r.options.sort&&!o)){var a=A(qt,!1,!0,!0);Gt.forEach((function(t){t!==qt&&(O(t,a),i.appendChild(t))})),Xt=!0}if(!n)if(Xt||Zt(),Gt.length>1){var u=zt;r._showClone(e),r.options.animation&&!zt&&u&&Wt.forEach((function(t){r.addAnimationState({target:t,rect:Kt}),t.fromRect=Kt,t.thisAnimationDuration=null}))}else r._showClone(e)}},dragOverAnimationCapture:function(t){var e=t.dragRect,n=t.isOwner,r=t.activeSortable;if(Gt.forEach((function(t){t.thisAnimationDuration=null})),r.options.animation&&!n&&r.multiDrag.isMultiDrag){Kt=Object.assign({},e);var i=x(qt,!0);Kt.top-=i.f,Kt.left-=i.e}},dragOverAnimationComplete:function(){Xt&&(Xt=!1,Zt())},drop:function(t){var e=t.originalEvent,n=t.rootEl,r=t.parentEl,i=t.sortable,o=t.dispatchSortableEvent,s=t.oldIndex,a=t.putSortable,u=a||this.sortable;if(e){var l=this.options,c=r.children;if(!Jt)if(l.multiDragKey&&!this.multiDragKeyDown&&this._deselectMultiDrag(),b(qt,l.selectedClass,!~Gt.indexOf(qt)),~Gt.indexOf(qt))Gt.splice(Gt.indexOf(qt),1),Ut=null,$({sortable:i,rootEl:n,name:"deselect",targetEl:qt,originalEvt:e});else{if(Gt.push(qt),$({sortable:i,rootEl:n,name:"select",targetEl:qt,originalEvt:e}),e.shiftKey&&Ut&&i.el.contains(Ut)){var h,f,p=k(Ut),d=k(qt);if(~p&&~d&&p!==d)for(d>p?(f=p,h=d):(f=d,h=p+1);f<h;f++)~Gt.indexOf(c[f])||(b(c[f],l.selectedClass,!0),Gt.push(c[f]),$({sortable:i,rootEl:n,name:"select",targetEl:c[f],originalEvt:e}))}else Ut=qt;Vt=u}if(Jt&&this.isMultiDrag){if((r[B].options.sort||r!==n)&&Gt.length>1){var g=A(qt),v=k(qt,":not(."+this.options.selectedClass+")");if(!Yt&&l.animation&&(qt.thisAnimationDuration=null),u.captureAnimationState(),!Yt&&(l.animation&&(qt.fromRect=g,Gt.forEach((function(t){if(t.thisAnimationDuration=null,t!==qt){var e=Xt?A(t):g;t.fromRect=e,u.addAnimationState({target:t,rect:e})}}))),Zt(),Gt.forEach((function(t){c[v]?r.insertBefore(t,c[v]):r.appendChild(t),v++})),s===k(qt))){var m=!1;Gt.forEach((function(t){t.sortableIndex===k(t)||(m=!0)})),m&&o("update")}Gt.forEach((function(t){j(t)})),u.animateAll()}Vt=u}(n===r||a&&"clone"!==a.lastPutMode)&&Wt.forEach((function(t){t.parentNode&&t.parentNode.removeChild(t)}))}},nullingGlobal:function(){this.isMultiDrag=Jt=!1,Wt.length=0},destroyGlobal:function(){this._deselectMultiDrag(),p(document,"pointerup",this._deselectMultiDrag),p(document,"mouseup",this._deselectMultiDrag),p(document,"touchend",this._deselectMultiDrag),p(document,"keydown",this._checkKeyDown),p(document,"keyup",this._checkKeyUp)},_deselectMultiDrag:function(t){if(!(void 0!==Jt&&Jt||Vt!==this.sortable||t&&v(t.target,this.options.draggable,this.sortable.el,!1)||t&&0!==t.button))for(;Gt.length;){var e=Gt[0];b(e,this.options.selectedClass,!1),Gt.shift(),$({sortable:this.sortable,rootEl:this.sortable.el,name:"deselect",targetEl:e,originalEvt:t})}},_checkKeyDown:function(t){t.key===this.options.multiDragKey&&(this.multiDragKeyDown=!0)},_checkKeyUp:function(t){t.key===this.options.multiDragKey&&(this.multiDragKeyDown=!1)}},Object.assign(t,{pluginName:"multiDrag",utils:{select:function(t){var e=t.parentNode[B];e&&e.options.multiDrag&&!~Gt.indexOf(t)&&(Vt&&Vt!==e&&(Vt.multiDrag._deselectMultiDrag(),Vt=e),b(t,e.options.selectedClass,!0),Gt.push(t))},deselect:function(t){var e=t.parentNode[B],n=Gt.indexOf(t);e&&e.options.multiDrag&&~n&&(b(t,e.options.selectedClass,!1),Gt.splice(n,1))}},eventProperties:function(){var t=this,e=[],n=[];return Gt.forEach((function(r){var i;e.push({multiDragElement:r,index:r.sortableIndex}),i=Xt&&r!==qt?-1:Xt?k(r,":not(."+t.options.selectedClass+")"):k(r),n.push({multiDragElement:r,index:i})})),{items:[].concat(Gt),clones:[].concat(Wt),oldIndicies:e,newIndicies:n}},optionListeners:{multiDragKey:function(t){return"ctrl"===(t=t.toLowerCase())?t="Control":t.length>1&&(t=t.charAt(0).toUpperCase()+t.substr(1)),t}}})}),e.default=Ot},function(t,e,n){"use strict";e.__esModule=!0;var r=o(n(333)),i=o(n(336));function o(t){return t&&t.__esModule?t:{default:t}}e.default=function(t,e){if(Array.isArray(t))return t;if((0,r.default)(Object(t)))return function(t,e){var n=[],r=!0,o=!1,s=void 0;try{for(var a,u=(0,i.default)(t);!(r=(a=u.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,s=t}finally{try{!r&&u.return&&u.return()}finally{if(o)throw s}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}},function(t,e,n){t.exports={default:n(339),__esModule:!0}},function(t,e,n){"use strict";n(223),n(146);var r=n(38);t.exports=function(t){var e=$(t[0]),n=$(t[1]),i=$(t[2]),o=$(t[3]),s=$(t[4]),a=$(t[5]),u=t[6];s.lengthLimit();var l={tags:{user_tags:[],def_tags:[],used_tags:[],added_tags:[]},_init:function(){for(var t in this.tags)this.tags[t]=[];for(var n,r=e.find(".added-tag"),i=(t=0,r.length);t<i;t++)(n=$.trim($(r[t]).text()))&&this.tags.user_tags.push(n);$.fn.comtags&&o.append((function(){for(var t="",e=$.fn.comtags.tags,n=0;n<e.length;n++)t+='<a href="#">'+e[n]+"</a>";return t})),this._initSysTags(),this._flashHotTagHtml()},_initSysTags:function(){for(var t=$.G.getMonthCookie("usedtags"),e=t?t.split(";"):[],n=o.find("a"),r=n.length,i=r>=12?12:r,s=0;s<i;s++)(u=$.trim($(n[s]).text()))&&this.tags.def_tags.push(u);s=0;for(var a=e.length;s<a;s++)(u=$.trim(e[s]))&&-1===$.inArray(u,this.tags.def_tags)&&"|"!==u&&this.tags.used_tags.push(u);if(r>12){var u;for(s=12;s<r&&(u=$.trim($(n[s]).text()),!(this.tags.used_tags.length>8));s++)-1===$.inArray(u,this.tags.used_tags)&&this.tags.used_tags.push(u)}this._saveToCookie()},_saveToCookie:function(){$.G.setMonthCookie("usedtags",this.tags.def_tags.join(";")+";|;"+this.tags.used_tags.slice(0,20).join(";"))},_escapeHTML:function(t){var e={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","/":"&#x2F;"};return t.replace(/[&<>"'\/]/g,(function(t){return e[t]}))},_flashHotTagHtml:function(){for(var t=this.tags.def_tags,e=this.tags.used_tags,n=this._getCurTags(),r=[],i=!1,s=0,a=n.length;s<a;s++)if(l=n[s],$.inArray(l,t)>-1){i=!0;break}var u;for(s=0,a=t.length;s<a;s++)u="",l=t[s],u+='<a class="def-tags',$.inArray(l,n)>-1&&(u+=" locked"),i&&(u+=" locked"),u+='" href="javascript:;"><i>'+this._escapeHTML(l)+"</i></a>",r.push(u);var l;for(s=0,a=e.length;s<a;s++)l=e[s],$.inArray(l,n)>-1?r.push('<a class="user-tags locked" href="javascript:;"><i>'+this._escapeHTML(l)+"</i></a>"):r.push('<a class="user-tags" href="javascript:;"><i>'+this._escapeHTML(l)+"</i></a>");o.find("a").remove(),o.append(r.slice(0,20).join(""))},_removeFromSelect:function(t){e.find(".added-tag");var n=this.tags.user_tags,r=this.tags.added_tags,i=(this.tags.used_tags,$.inArray(t,n));-1!==i&&(this.tags.user_tags=n.slice(0,i).concat(n.slice(i+1,n.length))),-1!==(i=$.inArray(t,r))&&(this.tags.added_tags=r.slice(0,i).concat(r.slice(i+1,r.length))),this._flashHotTagHtml(),e.find(".added-tag").each((function(e,n){$.trim($(n).text())===t&&$(n).remove()})),e.closest("div").find(".tag-tips").removeClass("red")},_flashPageCnt:function(){if(i.length){for(var t=this._getCurTags(),e=[],n=0,r=t.length;n<r;n++)e.push('<a class="mytag" href="'+u+"?name="+t[n]+'"><i>'+this._escapeHTML(t[n])+"</i></a>");i.find("a").not("#addnewtag").remove(),i.prepend(e.join(""))}s.focus()},_remove:function(t,r){if(!n.hasClass("form-locked")&&(n.addClass("form-locked"),t||(t=$.trim(s.prev().text())),r||(r=$.trim(s.prev().data("tagid"))),t||r))return-1===$.inArray(t,this.tags.user_tags)?(this._removeFromSelect(t),void n.removeClass("form-locked")):void(n.length?(e.find(".abtn").addClass("abtn-no"),$.ajax({url:n.getFormAction(),data:n.paramForm()+"&tag_id="+encodeURIComponent(r),mysuccess:function(e,n){l._removeFromSelect(t),l._flashPageCnt()}}).always((function(){n.removeClass("form-locked"),e.find(".abtn").removeClass("abtn-no")}))):(n.removeClass("form-locked"),l._removeFromSelect(t),l._flashPageCnt()))},_add:function(t){var n=t.split(","),r=this.tags.user_tags.concat(this.tags.added_tags);s.val("");for(var i,o=0,a=n.length;o<a;o++){if(i=n[o],r.length>=5)return void e.closest("div").find(".tag-tips").addClass("red");i&&-1===$.inArray(i,this.tags.user_tags)&&-1===$.inArray(i,this.tags.added_tags)&&(r.push(i),this.tags.added_tags.push(i),s.before('<a class="added-tag" href="javascript:;" data-tit="'+this._escapeHTML(i)+'"><i>'+this._escapeHTML(i)+"</i></a>"),-1===$.inArray(i,this.tags.used_tags)&&-1===$.inArray(i,this.tags.def_tags)&&this.tags.used_tags.unshift(i))}this._flashHotTagHtml(),this._saveToCookie()},_addTagIds:function(t){t&&$(t).each((function(t,n){e.find('a.added-tag[data-tit="'+n.name+'"]').data("tagid",n.tag_id)}))},_checkLength:function(){return e.find(".added-tag").length},_getCurTags:function(){return this.tags.user_tags.concat(this.tags.added_tags)},_beforeSubmit:function(){var t=$.trim(s.val());t.length&&this._add(t)},_afterSubmit:function(){this.tags.user_tags=this._getCurTags(),this.tags.added_tags=[]}};a.on("click",(function(t){l.tags.added_tags=[],o.find(".locked").removeClass("locked")})),o.delegate("a","click",(function(t){var n=$(this),r=$.trim(n.text());n.hasClass("locked")||(l._checkLength()>=5?e.closest("div").find(".tag-tips").addClass("red"):(n.hasClass("def-tags")?o.find(".def-tags").each((function(){$(this).hasClass("locked")||$(this).addClass("locked")})):n.addClass("locked"),l._add(r),s.focus()))})),s.on("keyup",(function(t){var e=$(this),n=e.val().slice(-1);if(188===t.keyCode&&!t.shiftKey||13===t.keyCode||229===t.keyCode&&"，"===n){var r=e.val(),i=r.length;i=13===t.keyCode?i:i-1,r=(r=r.substr(0,i)).replace(/,/gi," "),e.val(r),r.length&&l._add(r)}})),s.on("keydown",(function(t){var e=$(this),n=$.trim(e.val());8===t.keyCode&&!n&&l._getCurTags().length&&l._remove(),13!==t.keyCode||t.preventDefault()})),e.click((function(t){s.focus()})),e.delegate("a","click",(function(t){var e=$(this).data("tagid");l._remove($.trim($(this).text()),e)})),e.submit((function(t){var e,n=$(this),i=n.find(".abtn");i.find("[type=submit]");if(l._beforeSubmit(),!(e=l.tags.added_tags.join(",")))return l._flashPageCnt(),void r.PopOut.closeMask(0);i.hasClass("abtn-no")||(i.addClass("abtn-no"),n.find("input[name=tags]").val(e),$.ajax({url:"/napi/tag/add/",data:n.paramForm(),mysuccess:function(t,e){r.PopOut.closeMask(0),l._flashPageCnt(),l._addTagIds(t.data.object_list),l._afterSubmit()}}).always((function(){i.removeClass("abtn-no")})))})),l._init()}},function(t,e,n){"use strict";n(0);jQuery.fn.comtags={tags:["家居","设计","插画","电影","旅行","手工","女装","男装","配饰","美食","摄影","艺术","封面","动漫","怀旧","街拍","小孩","宠物","植物","人物"]}},function(t,e,n){"use strict";var r=n(8),i=n(58);!function(t){t.fn.uploadpic=function(e,n,o){var s=this;if(!(s.length<=0)){"function"!=typeof e&&(o=n,n=e,e=t.noop),"string"!=typeof n&&(o=n,n="");var a=t.extend({},t.fn.uploadpic.defaults,o);return a.fn=e,function(){var t=s;n?s.delegate(n,"mousemove",c).delegate(n+" "+a.sel_input,"change",h):(s.bind("mousemove",c).delegate(a.sel_input,"change",h),t=s.closest(a.sel_holder));t.delegate("a.uploadpic-delthepic","click",u),s.delegate(n+" "+a.sel_input,"click",l)}(),this}function u(e){var n=t(this).closest(a.sel_holder),r=n.find(a.sel_uploading),i=n.find(a.sel_uploaded);n.find(a.sel_normal).removeClass("dn"),r.addClass("dn"),i.addClass("dn"),i.find("a.uploadpic-thepic").remove(),n.find("a.abtn-no").removeClass("abtn-no")}function l(e){if(!t.G.getUSERID())return e.preventDefault(),e.stopPropagation(),void r.PopOut.login();t(this).closest("a").hasClass("abtn-no")&&(e.preventDefault(),e.stopPropagation())}function c(e){var n=t(this),r=n.offset();n.find(a.sel_input).css({left:e.pageX-r.left-70,top:e.pageY-r.top-10})}function h(){var e=t(this),n=e.closest(a.sel_form),r=t(i(3)),o=parseInt(1e10*Math.random());""!==e.val()&&(a.onupload(),n.find("input[name=tid]").val(o).attr("uploadpic-tid",o).data("uploadpic-config",a).data("uploadpic-callback",(function(e,n){var r=e.data("uploadpic-config"),i=e.closest(r.sel_holder);if(n.success){var o=i.find(r.sel_input).val();i.find(r.sel_form).closest("a").addClass("abtn-no").end().find("a.uploadpic-thepic").remove();var s=i.find(r.sel_input).blur(),a=s.clone();s.replaceWith(a);var u=i.find(r.sel_uploaded).removeClass("dn").prepend('<a class="uploadpic-thepic graylk" href="'+n.src+'" target="_blank">'+o.substr(o.lastIndexOf("\\")+1)+"</a>");u.find("a.uploadpic-delthepic").length||u.append('<a class="uploadpic-delthepic ml8 mr8" href="javascript:;">x删除</a>')}else i.find(r.sel_error).removeClass("dn").html(mergeServerMessage(n.message)).end().find("a.abtn-no").removeClass("abtn-no");i.find(r.sel_uploading).addClass("dn"),t.isFunction(r.fn)&&r.fn(n,i,r)})).end().append(r).submit(),r.remove(),e.closest(a.sel_holder).find(a.sel_normal).addClass("dn").end().find(a.sel_error).addClass("dn").end().find(a.sel_uploaded).addClass("dn").end().find(a.sel_uploading).removeClass("dn"),n.closest("a").addClass("abtn-no"))}},t.fn.uploadpic.defaults={onupload:t.noop,sel_holder:"",sel_form:"",sel_input:"input[type=file]",sel_normal:"",sel_error:"",sel_uploading:"",sel_uploaded:""},t.fn.uploadpic.upPicCallBack=function(e){if(t.isPlainObject(e)){var n=t("input[uploadpic-tid="+e.tid+"]");n.length&&t.isFunction(n.data("uploadpic-callback"))&&n.data("uploadpic-callback")(n,e)}}}(jQuery)},function(t,e,n){"use strict";var r=s(n(64)),i=s(n(147)),o=s(n(226));function s(t){return t&&t.__esModule?t:{default:t}}var a=function(t){return function(e){return function(n,r){return Math.ceil(Number((t+"").replace(/[^\d\-\.]*/g,""))*(Number(e)+(Number(r)||0))*Math.pow(10,n||3))/Math.pow(10,n||3)+(t+"").replace(/[^a-zA-Z]/g,"")}}},u=function(t){return function(e){return function(n){var r=e||"rgba(0,0,0,1)",i=["r","g","b","a"].indexOf(t),o=r.split(",");return 1===i||2===i?o[i]=n:0===i?o[i]=o[i].slice(0,o[i].length-1)+n:3===i&&(o[i]=n+o[i].slice(1,o[i].length)),o.join(",")}}},l={"font-color-([a-zA-Z])":function(t){return function(t){return function(t){return function(e){return function(n){var r=new RegExp("font-color-([a-zA-Z])").exec(n)[1],i=t.color;return{color:u(r)(i)(e[n])}}}}}},"background-color-([a-zA-Z])":function(t){return function(t){return function(t){return function(e){return function(n){var r=new RegExp("background-color-([a-zA-Z])").exec(n)[1],i=t["background-color"];return{"background-color":u(r)(i)(e[n])}}}}}},"font-weight-bold":function(t){return function(t){return function(t){return function(t){return function(e){return t[e]?{"font-weight":"bold"}:{}}}}}},"line-space":function(t){return function(e){return function(e){return function(e){return function(n){return{"line-height":a(t)(e["font-size"]+e[n])(5,.01)}}}}}},"max-lines":function(t){return function(t){return function(t){return function(t){return function(t){return{}}}}}},ellipsize:function(t){return function(t){return function(t){return function(t){return function(e){return{overflow:"hidden","text-overflow":"ellipsis",display:"-webkit-box","-webkit-line-clamp":t["max-lines"],"-webkit-box-orient":"vertical"}}}}}},"background-image":function(t){return function(t){return function(t){return function(t){return function(e){return{"background-image":"url('"+t[e]+"')"}}}}}},radius:function(t){return function(e){return function(e){return function(e){return function(n){return(0,o.default)({},{radius:"border-radius","radius-top-left":"border-top-left-radius","radius-top-right":"border-top-right-radius","radius-bottom-right":"border-bottom-right-radius","radius-bottom-left":"border-bottom-left-radius"}[n],a(t)(e[n])(5))}}}}},"tag-fixed-(url|top|right|bottom|left)":function(t){return function(e){return function(e){return function(n){return function(r){var i=e["border-image-source"],o=parseFloat(t)*n.height/(n["tag-fixed-top"]+n["tag-fixed-bottom"]+1);return i?{}:{"border-image-source":"url("+n["tag-fixed-url"]+")","border-image-slice":n["tag-fixed-top"]+" "+n["tag-fixed-right"]+" "+n["tag-fixed-bottom"]+" "+n["tag-fixed-left"]+" fill","border-width":n["tag-fixed-top"]*o+"px "+n["tag-fixed-right"]*o+"px "+n["tag-fixed-bottom"]*o+"px "+n["tag-fixed-left"]*o+"px","line-height":"1px"}}}}}}},c=function(t){return function(e){return function(n){return function(o,s){var a=(0,i.default)(o).reduce((function(r,i,s){return t(o)(r)(i)(e)(n)}),s?(0,r.default)({position:"absolute","box-sizing":"border-box","z-index":997},s):{position:"absolute","box-sizing":"border-box","z-index":997});return(0,i.default)(a).reduce((function(t,e,n){return t+(e+": ")+a[e]+";"}),"")}}}}((function(t){return function(e){return function(n){return function(s){return function(u){var c=(0,i.default)(l).reduce((function(r,i){return new RegExp(i).test(n)?l[i](s)(u)(e)(t):r}),null);return c?(0,r.default)({},e,c(n)):(0,r.default)({},e,function(t){return function(e){return e&&-1!=e||0===e?Number(e)?(0,o.default)({},t,"z-index"===t?e:"top"===t||"bottom"===t?a(u)(e)(5):a(s)(e)(5)):(0,o.default)({},t,e):{}}}(n)(t[n]))}}}}}));t.exports=c},function(t,e,n){"use strict";e.__esModule=!0;var r,i=n(202),o=(r=i)&&r.__esModule?r:{default:r};e.default=function(t,e,n){return e in t?(0,o.default)(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}},function(t,e,n){"use strict";var r=n(0);n(15),n(223),n(228);var i=n(58);n(146);var o=n(38),s=n(43);r((function(){var t=r.G.store();function e(){var e=r("#popcreatealbum");e.length||(e=r('        <div id="popcreatealbum" class="popcreatealbum">         <form id="form-popcreatealbum" method="post" action="/napi/album/create/">         <table cellspacing="0" cellpadding="0">         <tr>         <td width="60" align="right">专辑名</td>         <td><input class="ipt" type="text" name="name" value="" maxlength="40"/></td>         <td rowspan="4">         <h6>常用标签</h6>         <div class="usetag da" id="popal-mbaddtagsel">         </div>         </td>         </tr>         <tr>         <td align="right">描述</td>         <td><textarea class="txa" name="desc" maxlength="600" data-optional="1"></textarea></td>         </tr>         <tr>         <td align="right">标签</td>         <td>         <div class="pr">         <div class="divipt clr"><input id="popal-mbaddtagipt" class="l ipt mr8" autocomplete="off" type="text" name="tags" value=""  maxlength="100" data-optional="1"/></div>         <label for="popal-mbaddtagipt" id="popal-mbaddtag-lb">多个标签用空格隔开</label>         </div>         </td>         </tr>         <tr>         <td>&nbsp;</td>         <td><a class="abtn l" href="javascript:;" target="_target"><button type="submit"><u>创建</u></button></a></td>         </tr>         </table>         </form>         </div>').appendTo(t),r.fn.comtags&&r("#popal-mbaddtagsel").html((function(){for(var t="",e=r.fn.comtags.tags,n=0;n<e.length;n++)t+='<a href="#">'+e[n]+"</a>";return t})),s.tagSelectBind("#popal-mbaddtagsel","#popal-mbaddtagipt",5),s.setLabelIptFocus("#popal-mbaddtagipt","#popal-mbaddtag-lb"),e.find("[name=name],[name=desc]").lengthLimit(),r("#form-popcreatealbum").safeSubmit((function(t){if(r.G.getUSERID()){var e=r(this),n=e.find("a.abtn"),o=n.find("[type=submit]");n.hasClass("abtn-no")||(n.addClass("abtn-no"),r.ajax({url:e.getFormAction(),data:e.paramForm(i(2)),mysuccess:function(t,e){location.href="/album/?id="+t.data.album.id},myfailure:function(t,e){t.data&&t.data.robot_check?o.verif({w:1}):this.wrongmsg(t)},myerror:function(){this.errormsg()}}).always((function(){n.removeClass("abtn-no")})))}}))),e.find("[name=name],[name=desc]").val(""),o.PopOut.alert(["创建专辑",e,""],2)}r(document).delegate("#mynavtools-create,#createalbum-pp,#createalbum","click",(function(t){USER.bindPhone?r.SGAlbum.createAlbumSet():r.SGBindPhone.pop(window.location.href)}));var n=null;function a(){var e=r("#popalbumdel");e.length||(e=r('<div id="popalbumdel" class="prompt"><form id="form-albumdel" method="post" action="/napi/album/destroy/"><p class="albumconfirm" >将删除该专辑以及其中的图片。</p><div class="album-pop-action clr"><a class="abtn abtn-w4 l" href="javascript:;" target="_self"><button type="submit"><u>确定删除</u></button></a></div></form></div>').appendTo(t),r("#form-albumdel").delegate(".cancel","click",(function(t){o.PopOut.closeMask(0)})),r("#form-albumdel").safeSubmit((function(t){if(r.G.getUSERID()){var e=r(this),i=e.find('button[type="submit"]').closest(".abtn");i.hasClass("abtn-no")||(i.addClass("abtn-no"),r.ajax({cache:!1,url:e.getFormAction(),data:{album_id:n.title},mysuccess:function(t){o.PopOut.alert('<div class="prompt prompt-success"><h3>删除成功！</h3></div>'),r("#albumdelbtn").length&&n.title==r("#albumdelbtn").attr("title")?r({}).delay(1e3).queue((function(){o.PopOut.closeMask(0);var t="/people/?id="+r.G.getUSERID()+"#album",e=r("#ppuserlnk");e.length&&(t=e.attr("href")),window.location.href=t})):(r({}).delay(1e3).queue((function(){o.PopOut.closeMask(0)})),r(n).closest("div.woo").remove())}}).always((function(){i.removeClass("abtn-no")})))}}))),o.PopOut.alert(["删除专辑",e,""])}r(".my-albums").delegate("a.blockthisalbum","click",(function(e){var i=r(this).hasClass("ohblocked")?"pass":"blocked";e.preventDefault(),n=this,function(e){var i=r("#popalbumblock"),s="pass"===e?"解屏":"屏蔽",a="pass"===e?window.location.protocol+"//"+DtTools.getOperateDomain()+"/operator/audit/manual/?type=1&status=0":window.location.protocol+"//"+DtTools.getOperateDomain()+"/operator/audit/manual/?type=1&status=6";i.length?(i.find("form").attr("action",a),i.find(".albumbock-sw").text(s)):(i=r('<div id="popalbumblock" class="prompt"><form id="form-albumblock" method="post" action="'+a+'"><p class="albumconfirm" >将<span class="albumbock-sw">'+s+'</span>该专辑以及其中的图片。</p><div class="album-pop-action clr"><a class="abtn abtn-w4 l" href="javascript:;" target="_self"><button type="submit"><u>确定<span class="albumbock-sw">'+s+"</span></u></button></a></div></form></div>").appendTo(t),r("#form-albumblock").delegate(".cancel","click",(function(t){o.PopOut.closeMask(0)})),r("#form-albumblock").safeSubmit((function(t){if(r.G.getUSERID()){var e=r(this),i=e.find('button[type="submit"]').closest(".abtn");i.hasClass("abtn-no")||(i.addClass("abtn-no"),r.ajax({type:"POST",cache:!1,url:e.getFormAction(),data:{ids:n.title},xhrFields:{withCredentials:!0},mysuccess:function(t){r(n).closest(".album-item").length&&(r(n).hasClass("ohblocked")?r(n).removeClass("ohblocked").text("屏蔽"):r(n).addClass("ohblocked").text("解屏")),r("#albumblockbtn").length&&(n.title,r("#albumblockbtn").attr("title"))}}).always((function(){o.PopOut.closeMask(),i.removeClass("abtn-no")})))}})));o.PopOut.alert([s+"专辑",i,""])}(i)})),r(".my-albums").delegate("a.delthisalbum","click",(function(t){t.preventDefault(),n=this,a()})),r("#albumdelbtn").click((function(t){t.preventDefault(),n=this,a()})),r.SGAlbum={createAlbumSet:e}}))},function(module,exports,__webpack_require__){"use strict";(function(module){var _stringify=__webpack_require__(10),_stringify2=_interopRequireDefault(_stringify),_typeof2=__webpack_require__(6),_typeof3=_interopRequireDefault(_typeof2);function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}!function(window){window.JSON||(window.JSON={}),function(){function f(t){return t<10?"0"+t:t}function quote(t){return escapable.lastIndex=0,escapable.test(t)?'"'+t.replace(escapable,(function(t){var e=meta[t];return"string"==typeof e?e:"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)}))+'"':'"'+t+'"'}function str(t,e){var n,r,i,o,s,a=gap,u=e[t];switch(u&&"object"==(void 0===u?"undefined":(0,_typeof3.default)(u))&&"function"==typeof u.toJSON&&(u=u.toJSON(t)),"function"==typeof rep&&(u=rep.call(e,t,u)),void 0===u?"undefined":(0,_typeof3.default)(u)){case"string":return quote(u);case"number":return isFinite(u)?String(u):"null";case"boolean":case"null":return String(u);case"object":if(!u)return"null";if(gap+=indent,s=[],"[object Array]"===Object.prototype.toString.apply(u)){for(o=u.length,n=0;n<o;n+=1)s[n]=str(n,u)||"null";return i=0===s.length?"[]":gap?"[\n"+gap+s.join(",\n"+gap)+"\n"+a+"]":"["+s.join(",")+"]",gap=a,i}if(rep&&"object"==(void 0===rep?"undefined":(0,_typeof3.default)(rep)))for(o=rep.length,n=0;n<o;n+=1)"string"==typeof(r=rep[n])&&((i=str(r,u))&&s.push(quote(r)+(gap?": ":":")+i));else for(r in u)Object.hasOwnProperty.call(u,r)&&((i=str(r,u))&&s.push(quote(r)+(gap?": ":":")+i));return i=0===s.length?"{}":gap?"{\n"+gap+s.join(",\n"+gap)+"\n"+a+"}":"{"+s.join(",")+"}",gap=a,i}}"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(t){return isFinite(window.valueOf())?window.getUTCFullYear()+"-"+f(window.getUTCMonth()+1)+"-"+f(window.getUTCDate())+"T"+f(window.getUTCHours())+":"+f(window.getUTCMinutes())+":"+f(window.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(t){return window.valueOf()});var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b"," ":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;"function"!=typeof _stringify2.default&&(JSON.stringify=function(t,e,n){var r;if(gap="",indent="","number"==typeof n)for(r=0;r<n;r+=1)indent+=" ";else"string"==typeof n&&(indent=n);if(rep=e,!e||"function"==typeof e||"object"==(void 0===e?"undefined":(0,_typeof3.default)(e))&&"number"==typeof e.length)return str("",{"":t});throw new Error("JSON.stringify")}),"function"!=typeof JSON.parse&&(JSON.parse=function(text,reviver){function walk(t,e){var n,r,i=t[e];if(i&&"object"==(void 0===i?"undefined":(0,_typeof3.default)(i)))for(n in i)Object.hasOwnProperty.call(i,n)&&(void 0!==(r=walk(i,n))?i[n]=r:delete i[n]);return reviver.call(t,e,i)}var j;if(text=String(text),cx.lastIndex=0,cx.test(text)&&(text=text.replace(cx,(function(t){return"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)}))),/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return j=eval("("+text+")"),"function"==typeof reviver?walk({"":j},""):j;throw new SyntaxError("JSON.parse")})}(),function(t){var e,n={},r=t.document,i="localStorage";if(n.disabled=!1,n.set=function(t,e){},n.get=function(t){},n.remove=function(t){},n.clear=function(){},n.transact=function(t,e,r){var i=n.get(t);null==r&&(r=e,e=null),void 0===i&&(i=e||{}),r(i),n.set(t,i)},n.getAll=function(){},n.forEach=function(){},n.serialize=function(t){return(0,_stringify2.default)(t)},n.deserialize=function(t){if("string"==typeof t)try{return JSON.parse(t)}catch(e){return t||void 0}},function(){try{return i in t&&t[i]}catch(t){return!1}}())e=t[i],n.set=function(t,r){return void 0===r?n.remove(t):(e.setItem(t,n.serialize(r)),r)},n.get=function(t){return n.deserialize(e.getItem(t))},n.remove=function(t){e.removeItem(t)},n.clear=function(){e.clear()},n.getAll=function(){var t={};return n.forEach((function(e,n){t[e]=n})),t},n.forEach=function(t){for(var r=0;r<e.length;r++){var i=e.key(r);t(i,n.get(i))}};else if(r.documentElement.addBehavior){var o,s,a=function(t){return function(){var r=Array.prototype.slice.call(arguments,0);r.unshift(e),o.appendChild(e),e.addBehavior("#default#userData"),e.load(i);var s=t.apply(n,r);return o.removeChild(e),s}},u=function(t){return t.replace(/^d/,"___$&").replace(l,"___")};try{(s=new ActiveXObject("htmlfile")).open(),s.write('<script>document.w=window<\/script><iframe src="/favicon.ico"></iframe>'),s.close(),o=s.w.frames[0].document,e=o.createElement("div")}catch(t){e=r.createElement("div"),o=r.body}var l=new RegExp("[!\"#$%&'()*+,/\\\\:;<=>?@[\\]^`{|}~]","g");n.set=a((function(t,e,r){return e=u(e),void 0===r?n.remove(e):(t.setAttribute(e,n.serialize(r)),t.save(i),r)})),n.get=a((function(t,e){return e=u(e),n.deserialize(t.getAttribute(e))})),n.remove=a((function(t,e){e=u(e),t.removeAttribute(e),t.save(i)})),n.clear=a((function(t){var e=t.XMLDocument.documentElement.attributes;t.load(i);for(var n,r=0;n=e[r];r++)t.removeAttribute(n.name);t.save(i)})),n.getAll=function(t){var e={};return n.forEach((function(t,n){e[t]=n})),e},n.forEach=a((function(t,e){for(var r,i=t.XMLDocument.documentElement.attributes,o=0;r=i[o];++o)e(r.name,n.deserialize(t.getAttribute(r.name)))}))}try{var c="__storejs__";n.set(c,c),n.get(c)!=c&&(n.disabled=!0),n.remove(c)}catch(t){n.disabled=!0}n.enabled=!n.disabled,$?$.Store=n:t.Store=n,void 0!==module&&module.exports&&window.module!==module?module.exports=$.Store:module.exports=t.Store}(Function("return this")())}(window)}).call(exports,__webpack_require__(353)(module))},function(t,e,n){n(0),n(264),n(191),n(192),n(265),n(8),n(15),n(302),n(303),t.exports=n(2)},function(t,e,n){var r;void 0===(r=function(){return function(t,e,n,r){var i,o,s={};for(o in e)s[o]=t.style[o],t.style[o]=e[o];for(o in i=n.apply(t,r||[]),e)t.style[o]=s[o];return i}}.call(e,n,e,t))||(t.exports=r)},function(t,e,n){var r,i;r=[n(114)],void 0===(i=function(t){return t.toString}.apply(e,r))||(t.exports=i)},function(t,e,n){var r,i;r=[n(3),n(233)],void 0===(i=function(t,e){t.find=e,t.expr=e.selectors,t.expr[":"]=t.expr.pseudos,t.uniqueSort=t.unique=e.uniqueSort,t.text=e.getText,t.isXMLDoc=e.isXML,t.contains=e.contains}.apply(e,r))||(t.exports=i)},function(t,e,n){var r;
/*!
 * Sizzle CSS Selector Engine v2.2.1
 * http://sizzlejs.com/
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2015-10-17
 */!function(i){var o,s,a,u,l,c,h,f,p,d,g,v,m,y,b,w,x,S,E,A="sizzle"+1*new Date,C=i.document,F=0,P=0,k=ut(),T=ut(),_=ut(),I=function(t,e){return t===e&&(g=!0),0},D={}.hasOwnProperty,N=[],R=N.pop,O=N.push,j=N.push,B=N.slice,H=function(t,e){for(var n=0,r=t.length;n<r;n++)if(t[n]===e)return n;return-1},L="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",M="[\\x20\\t\\r\\n\\f]",$="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",U="\\["+M+"*("+$+")(?:"+M+"*([*^$|!~]?=)"+M+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+$+"))|)"+M+"*\\]",V=":("+$+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+U+")*)|.*)\\)|)",q=new RegExp(M+"+","g"),K=new RegExp("^"+M+"+|((?:^|[^\\\\])(?:\\\\.)*)"+M+"+$","g"),z=new RegExp("^"+M+"*,"+M+"*"),G=new RegExp("^"+M+"*([>+~]|"+M+")"+M+"*"),W=new RegExp("="+M+"*([^\\]'\"]*?)"+M+"*\\]","g"),Y=new RegExp(V),X=new RegExp("^"+$+"$"),J={ID:new RegExp("^#("+$+")"),CLASS:new RegExp("^\\.("+$+")"),TAG:new RegExp("^("+$+"|[*])"),ATTR:new RegExp("^"+U),PSEUDO:new RegExp("^"+V),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+M+"*(even|odd|(([+-]|)(\\d*)n|)"+M+"*(?:([+-]|)"+M+"*(\\d+)|))"+M+"*\\)|)","i"),bool:new RegExp("^(?:"+L+")$","i"),needsContext:new RegExp("^"+M+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+M+"*((?:-\\d)?\\d*)"+M+"*\\)|)(?=[^-]|$)","i")},Q=/^(?:input|select|textarea|button)$/i,Z=/^h\d$/i,tt=/^[^{]+\{\s*\[native \w/,et=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,nt=/[+~]/,rt=/'|\\/g,it=new RegExp("\\\\([\\da-f]{1,6}"+M+"?|("+M+")|.)","ig"),ot=function(t,e,n){var r="0x"+e-65536;return r!=r||n?e:r<0?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320)},st=function(){v()};try{j.apply(N=B.call(C.childNodes),C.childNodes),N[C.childNodes.length].nodeType}catch(t){j={apply:N.length?function(t,e){O.apply(t,B.call(e))}:function(t,e){for(var n=t.length,r=0;t[n++]=e[r++];);t.length=n-1}}}function at(t,e,n,r){var i,o,a,u,l,h,p,d,g=e&&e.ownerDocument,y=e?e.nodeType:9;if(n=n||[],"string"!=typeof t||!t||1!==y&&9!==y&&11!==y)return n;if(!r&&((e?e.ownerDocument||e:C)!==m&&v(e),e=e||m,b)){if(11!==y&&(h=et.exec(t)))if(i=h[1]){if(9===y){if(!(a=e.getElementById(i)))return n;if(a.id===i)return n.push(a),n}else if(g&&(a=g.getElementById(i))&&E(e,a)&&a.id===i)return n.push(a),n}else{if(h[2])return j.apply(n,e.getElementsByTagName(t)),n;if((i=h[3])&&s.getElementsByClassName&&e.getElementsByClassName)return j.apply(n,e.getElementsByClassName(i)),n}if(s.qsa&&!_[t+" "]&&(!w||!w.test(t))){if(1!==y)g=e,d=t;else if("object"!==e.nodeName.toLowerCase()){for((u=e.getAttribute("id"))?u=u.replace(rt,"\\$&"):e.setAttribute("id",u=A),o=(p=c(t)).length,l=X.test(u)?"#"+u:"[id='"+u+"']";o--;)p[o]=l+" "+yt(p[o]);d=p.join(","),g=nt.test(t)&&vt(e.parentNode)||e}if(d)try{return j.apply(n,g.querySelectorAll(d)),n}catch(t){}finally{u===A&&e.removeAttribute("id")}}}return f(t.replace(K,"$1"),e,n,r)}function ut(){var t=[];return function e(n,r){return t.push(n+" ")>a.cacheLength&&delete e[t.shift()],e[n+" "]=r}}function lt(t){return t[A]=!0,t}function ct(t){var e=m.createElement("div");try{return!!t(e)}catch(t){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function ht(t,e){for(var n=t.split("|"),r=n.length;r--;)a.attrHandle[n[r]]=e}function ft(t,e){var n=e&&t,r=n&&1===t.nodeType&&1===e.nodeType&&(~e.sourceIndex||1<<31)-(~t.sourceIndex||1<<31);if(r)return r;if(n)for(;n=n.nextSibling;)if(n===e)return-1;return t?1:-1}function pt(t){return function(e){return"input"===e.nodeName.toLowerCase()&&e.type===t}}function dt(t){return function(e){var n=e.nodeName.toLowerCase();return("input"===n||"button"===n)&&e.type===t}}function gt(t){return lt((function(e){return e=+e,lt((function(n,r){for(var i,o=t([],n.length,e),s=o.length;s--;)n[i=o[s]]&&(n[i]=!(r[i]=n[i]))}))}))}function vt(t){return t&&void 0!==t.getElementsByTagName&&t}for(o in s=at.support={},l=at.isXML=function(t){var e=t&&(t.ownerDocument||t).documentElement;return!!e&&"HTML"!==e.nodeName},v=at.setDocument=function(t){var e,n,r=t?t.ownerDocument||t:C;return r!==m&&9===r.nodeType&&r.documentElement?(y=(m=r).documentElement,b=!l(m),(n=m.defaultView)&&n.top!==n&&(n.addEventListener?n.addEventListener("unload",st,!1):n.attachEvent&&n.attachEvent("onunload",st)),s.attributes=ct((function(t){return t.className="i",!t.getAttribute("className")})),s.getElementsByTagName=ct((function(t){return t.appendChild(m.createComment("")),!t.getElementsByTagName("*").length})),s.getElementsByClassName=tt.test(m.getElementsByClassName),s.getById=ct((function(t){return y.appendChild(t).id=A,!m.getElementsByName||!m.getElementsByName(A).length})),s.getById?(a.find.ID=function(t,e){if(void 0!==e.getElementById&&b){var n=e.getElementById(t);return n?[n]:[]}},a.filter.ID=function(t){var e=t.replace(it,ot);return function(t){return t.getAttribute("id")===e}}):(delete a.find.ID,a.filter.ID=function(t){var e=t.replace(it,ot);return function(t){var n=void 0!==t.getAttributeNode&&t.getAttributeNode("id");return n&&n.value===e}}),a.find.TAG=s.getElementsByTagName?function(t,e){return void 0!==e.getElementsByTagName?e.getElementsByTagName(t):s.qsa?e.querySelectorAll(t):void 0}:function(t,e){var n,r=[],i=0,o=e.getElementsByTagName(t);if("*"===t){for(;n=o[i++];)1===n.nodeType&&r.push(n);return r}return o},a.find.CLASS=s.getElementsByClassName&&function(t,e){if(void 0!==e.getElementsByClassName&&b)return e.getElementsByClassName(t)},x=[],w=[],(s.qsa=tt.test(m.querySelectorAll))&&(ct((function(t){y.appendChild(t).innerHTML="<a id='"+A+"'></a><select id='"+A+"-\r\\' msallowcapture=''><option selected=''></option></select>",t.querySelectorAll("[msallowcapture^='']").length&&w.push("[*^$]="+M+"*(?:''|\"\")"),t.querySelectorAll("[selected]").length||w.push("\\["+M+"*(?:value|"+L+")"),t.querySelectorAll("[id~="+A+"-]").length||w.push("~="),t.querySelectorAll(":checked").length||w.push(":checked"),t.querySelectorAll("a#"+A+"+*").length||w.push(".#.+[+~]")})),ct((function(t){var e=m.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&w.push("name"+M+"*[*^$|!~]?="),t.querySelectorAll(":enabled").length||w.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),w.push(",.*:")}))),(s.matchesSelector=tt.test(S=y.matches||y.webkitMatchesSelector||y.mozMatchesSelector||y.oMatchesSelector||y.msMatchesSelector))&&ct((function(t){s.disconnectedMatch=S.call(t,"div"),S.call(t,"[s!='']:x"),x.push("!=",V)})),w=w.length&&new RegExp(w.join("|")),x=x.length&&new RegExp(x.join("|")),e=tt.test(y.compareDocumentPosition),E=e||tt.test(y.contains)?function(t,e){var n=9===t.nodeType?t.documentElement:t,r=e&&e.parentNode;return t===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):t.compareDocumentPosition&&16&t.compareDocumentPosition(r)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},I=e?function(t,e){if(t===e)return g=!0,0;var n=!t.compareDocumentPosition-!e.compareDocumentPosition;return n||(1&(n=(t.ownerDocument||t)===(e.ownerDocument||e)?t.compareDocumentPosition(e):1)||!s.sortDetached&&e.compareDocumentPosition(t)===n?t===m||t.ownerDocument===C&&E(C,t)?-1:e===m||e.ownerDocument===C&&E(C,e)?1:d?H(d,t)-H(d,e):0:4&n?-1:1)}:function(t,e){if(t===e)return g=!0,0;var n,r=0,i=t.parentNode,o=e.parentNode,s=[t],a=[e];if(!i||!o)return t===m?-1:e===m?1:i?-1:o?1:d?H(d,t)-H(d,e):0;if(i===o)return ft(t,e);for(n=t;n=n.parentNode;)s.unshift(n);for(n=e;n=n.parentNode;)a.unshift(n);for(;s[r]===a[r];)r++;return r?ft(s[r],a[r]):s[r]===C?-1:a[r]===C?1:0},m):m},at.matches=function(t,e){return at(t,null,null,e)},at.matchesSelector=function(t,e){if((t.ownerDocument||t)!==m&&v(t),e=e.replace(W,"='$1']"),s.matchesSelector&&b&&!_[e+" "]&&(!x||!x.test(e))&&(!w||!w.test(e)))try{var n=S.call(t,e);if(n||s.disconnectedMatch||t.document&&11!==t.document.nodeType)return n}catch(t){}return at(e,m,null,[t]).length>0},at.contains=function(t,e){return(t.ownerDocument||t)!==m&&v(t),E(t,e)},at.attr=function(t,e){(t.ownerDocument||t)!==m&&v(t);var n=a.attrHandle[e.toLowerCase()],r=n&&D.call(a.attrHandle,e.toLowerCase())?n(t,e,!b):void 0;return void 0!==r?r:s.attributes||!b?t.getAttribute(e):(r=t.getAttributeNode(e))&&r.specified?r.value:null},at.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},at.uniqueSort=function(t){var e,n=[],r=0,i=0;if(g=!s.detectDuplicates,d=!s.sortStable&&t.slice(0),t.sort(I),g){for(;e=t[i++];)e===t[i]&&(r=n.push(i));for(;r--;)t.splice(n[r],1)}return d=null,t},u=at.getText=function(t){var e,n="",r=0,i=t.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)n+=u(t)}else if(3===i||4===i)return t.nodeValue}else for(;e=t[r++];)n+=u(e);return n},(a=at.selectors={cacheLength:50,createPseudo:lt,match:J,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(it,ot),t[3]=(t[3]||t[4]||t[5]||"").replace(it,ot),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||at.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&at.error(t[0]),t},PSEUDO:function(t){var e,n=!t[6]&&t[2];return J.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":n&&Y.test(n)&&(e=c(n,!0))&&(e=n.indexOf(")",n.length-e)-n.length)&&(t[0]=t[0].slice(0,e),t[2]=n.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(it,ot).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=k[t+" "];return e||(e=new RegExp("(^|"+M+")"+t+"("+M+"|$)"))&&k(t,(function(t){return e.test("string"==typeof t.className&&t.className||void 0!==t.getAttribute&&t.getAttribute("class")||"")}))},ATTR:function(t,e,n){return function(r){var i=at.attr(r,t);return null==i?"!="===e:!e||(i+="","="===e?i===n:"!="===e?i!==n:"^="===e?n&&0===i.indexOf(n):"*="===e?n&&i.indexOf(n)>-1:"$="===e?n&&i.slice(-n.length)===n:"~="===e?(" "+i.replace(q," ")+" ").indexOf(n)>-1:"|="===e&&(i===n||i.slice(0,n.length+1)===n+"-"))}},CHILD:function(t,e,n,r,i){var o="nth"!==t.slice(0,3),s="last"!==t.slice(-4),a="of-type"===e;return 1===r&&0===i?function(t){return!!t.parentNode}:function(e,n,u){var l,c,h,f,p,d,g=o!==s?"nextSibling":"previousSibling",v=e.parentNode,m=a&&e.nodeName.toLowerCase(),y=!u&&!a,b=!1;if(v){if(o){for(;g;){for(f=e;f=f[g];)if(a?f.nodeName.toLowerCase()===m:1===f.nodeType)return!1;d=g="only"===t&&!d&&"nextSibling"}return!0}if(d=[s?v.firstChild:v.lastChild],s&&y){for(b=(p=(l=(c=(h=(f=v)[A]||(f[A]={}))[f.uniqueID]||(h[f.uniqueID]={}))[t]||[])[0]===F&&l[1])&&l[2],f=p&&v.childNodes[p];f=++p&&f&&f[g]||(b=p=0)||d.pop();)if(1===f.nodeType&&++b&&f===e){c[t]=[F,p,b];break}}else if(y&&(b=p=(l=(c=(h=(f=e)[A]||(f[A]={}))[f.uniqueID]||(h[f.uniqueID]={}))[t]||[])[0]===F&&l[1]),!1===b)for(;(f=++p&&f&&f[g]||(b=p=0)||d.pop())&&((a?f.nodeName.toLowerCase()!==m:1!==f.nodeType)||!++b||(y&&((c=(h=f[A]||(f[A]={}))[f.uniqueID]||(h[f.uniqueID]={}))[t]=[F,b]),f!==e)););return(b-=i)===r||b%r==0&&b/r>=0}}},PSEUDO:function(t,e){var n,r=a.pseudos[t]||a.setFilters[t.toLowerCase()]||at.error("unsupported pseudo: "+t);return r[A]?r(e):r.length>1?(n=[t,t,"",e],a.setFilters.hasOwnProperty(t.toLowerCase())?lt((function(t,n){for(var i,o=r(t,e),s=o.length;s--;)t[i=H(t,o[s])]=!(n[i]=o[s])})):function(t){return r(t,0,n)}):r}},pseudos:{not:lt((function(t){var e=[],n=[],r=h(t.replace(K,"$1"));return r[A]?lt((function(t,e,n,i){for(var o,s=r(t,null,i,[]),a=t.length;a--;)(o=s[a])&&(t[a]=!(e[a]=o))})):function(t,i,o){return e[0]=t,r(e,null,o,n),e[0]=null,!n.pop()}})),has:lt((function(t){return function(e){return at(t,e).length>0}})),contains:lt((function(t){return t=t.replace(it,ot),function(e){return(e.textContent||e.innerText||u(e)).indexOf(t)>-1}})),lang:lt((function(t){return X.test(t||"")||at.error("unsupported lang: "+t),t=t.replace(it,ot).toLowerCase(),function(e){var n;do{if(n=b?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(n=n.toLowerCase())===t||0===n.indexOf(t+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}})),target:function(t){var e=i.location&&i.location.hash;return e&&e.slice(1)===t.id},root:function(t){return t===y},focus:function(t){return t===m.activeElement&&(!m.hasFocus||m.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:function(t){return!1===t.disabled},disabled:function(t){return!0===t.disabled},checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,!0===t.selected},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!a.pseudos.empty(t)},header:function(t){return Z.test(t.nodeName)},input:function(t){return Q.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:gt((function(){return[0]})),last:gt((function(t,e){return[e-1]})),eq:gt((function(t,e,n){return[n<0?n+e:n]})),even:gt((function(t,e){for(var n=0;n<e;n+=2)t.push(n);return t})),odd:gt((function(t,e){for(var n=1;n<e;n+=2)t.push(n);return t})),lt:gt((function(t,e,n){for(var r=n<0?n+e:n;--r>=0;)t.push(r);return t})),gt:gt((function(t,e,n){for(var r=n<0?n+e:n;++r<e;)t.push(r);return t}))}}).pseudos.nth=a.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})a.pseudos[o]=pt(o);for(o in{submit:!0,reset:!0})a.pseudos[o]=dt(o);function mt(){}function yt(t){for(var e=0,n=t.length,r="";e<n;e++)r+=t[e].value;return r}function bt(t,e,n){var r=e.dir,i=n&&"parentNode"===r,o=P++;return e.first?function(e,n,o){for(;e=e[r];)if(1===e.nodeType||i)return t(e,n,o)}:function(e,n,s){var a,u,l,c=[F,o];if(s){for(;e=e[r];)if((1===e.nodeType||i)&&t(e,n,s))return!0}else for(;e=e[r];)if(1===e.nodeType||i){if((a=(u=(l=e[A]||(e[A]={}))[e.uniqueID]||(l[e.uniqueID]={}))[r])&&a[0]===F&&a[1]===o)return c[2]=a[2];if(u[r]=c,c[2]=t(e,n,s))return!0}}}function wt(t){return t.length>1?function(e,n,r){for(var i=t.length;i--;)if(!t[i](e,n,r))return!1;return!0}:t[0]}function xt(t,e,n,r,i){for(var o,s=[],a=0,u=t.length,l=null!=e;a<u;a++)(o=t[a])&&(n&&!n(o,r,i)||(s.push(o),l&&e.push(a)));return s}function St(t,e,n,r,i,o){return r&&!r[A]&&(r=St(r)),i&&!i[A]&&(i=St(i,o)),lt((function(o,s,a,u){var l,c,h,f=[],p=[],d=s.length,g=o||function(t,e,n){for(var r=0,i=e.length;r<i;r++)at(t,e[r],n);return n}(e||"*",a.nodeType?[a]:a,[]),v=!t||!o&&e?g:xt(g,f,t,a,u),m=n?i||(o?t:d||r)?[]:s:v;if(n&&n(v,m,a,u),r)for(l=xt(m,p),r(l,[],a,u),c=l.length;c--;)(h=l[c])&&(m[p[c]]=!(v[p[c]]=h));if(o){if(i||t){if(i){for(l=[],c=m.length;c--;)(h=m[c])&&l.push(v[c]=h);i(null,m=[],l,u)}for(c=m.length;c--;)(h=m[c])&&(l=i?H(o,h):f[c])>-1&&(o[l]=!(s[l]=h))}}else m=xt(m===s?m.splice(d,m.length):m),i?i(null,s,m,u):j.apply(s,m)}))}function Et(t){for(var e,n,r,i=t.length,o=a.relative[t[0].type],s=o||a.relative[" "],u=o?1:0,l=bt((function(t){return t===e}),s,!0),c=bt((function(t){return H(e,t)>-1}),s,!0),h=[function(t,n,r){var i=!o&&(r||n!==p)||((e=n).nodeType?l(t,n,r):c(t,n,r));return e=null,i}];u<i;u++)if(n=a.relative[t[u].type])h=[bt(wt(h),n)];else{if((n=a.filter[t[u].type].apply(null,t[u].matches))[A]){for(r=++u;r<i&&!a.relative[t[r].type];r++);return St(u>1&&wt(h),u>1&&yt(t.slice(0,u-1).concat({value:" "===t[u-2].type?"*":""})).replace(K,"$1"),n,u<r&&Et(t.slice(u,r)),r<i&&Et(t=t.slice(r)),r<i&&yt(t))}h.push(n)}return wt(h)}mt.prototype=a.filters=a.pseudos,a.setFilters=new mt,c=at.tokenize=function(t,e){var n,r,i,o,s,u,l,c=T[t+" "];if(c)return e?0:c.slice(0);for(s=t,u=[],l=a.preFilter;s;){for(o in n&&!(r=z.exec(s))||(r&&(s=s.slice(r[0].length)||s),u.push(i=[])),n=!1,(r=G.exec(s))&&(n=r.shift(),i.push({value:n,type:r[0].replace(K," ")}),s=s.slice(n.length)),a.filter)!(r=J[o].exec(s))||l[o]&&!(r=l[o](r))||(n=r.shift(),i.push({value:n,type:o,matches:r}),s=s.slice(n.length));if(!n)break}return e?s.length:s?at.error(t):T(t,u).slice(0)},h=at.compile=function(t,e){var n,r=[],i=[],o=_[t+" "];if(!o){for(e||(e=c(t)),n=e.length;n--;)(o=Et(e[n]))[A]?r.push(o):i.push(o);(o=_(t,function(t,e){var n=e.length>0,r=t.length>0,i=function(i,o,s,u,l){var c,h,f,d=0,g="0",y=i&&[],w=[],x=p,S=i||r&&a.find.TAG("*",l),E=F+=null==x?1:Math.random()||.1,A=S.length;for(l&&(p=o===m||o||l);g!==A&&null!=(c=S[g]);g++){if(r&&c){for(h=0,o||c.ownerDocument===m||(v(c),s=!b);f=t[h++];)if(f(c,o||m,s)){u.push(c);break}l&&(F=E)}n&&((c=!f&&c)&&d--,i&&y.push(c))}if(d+=g,n&&g!==d){for(h=0;f=e[h++];)f(y,w,o,s);if(i){if(d>0)for(;g--;)y[g]||w[g]||(w[g]=R.call(u));w=xt(w)}j.apply(u,w),l&&!i&&w.length>0&&d+e.length>1&&at.uniqueSort(u)}return l&&(F=E,p=x),y};return n?lt(i):i}(i,r))).selector=t}return o},f=at.select=function(t,e,n,r){var i,o,u,l,f,p="function"==typeof t&&t,d=!r&&c(t=p.selector||t);if(n=n||[],1===d.length){if((o=d[0]=d[0].slice(0)).length>2&&"ID"===(u=o[0]).type&&s.getById&&9===e.nodeType&&b&&a.relative[o[1].type]){if(!(e=(a.find.ID(u.matches[0].replace(it,ot),e)||[])[0]))return n;p&&(e=e.parentNode),t=t.slice(o.shift().value.length)}for(i=J.needsContext.test(t)?0:o.length;i--&&(u=o[i],!a.relative[l=u.type]);)if((f=a.find[l])&&(r=f(u.matches[0].replace(it,ot),nt.test(o[0].type)&&vt(e.parentNode)||e))){if(o.splice(i,1),!(t=r.length&&yt(o)))return j.apply(n,r),n;break}}return(p||h(t,d))(r,e,!b,n,!e||nt.test(t)&&vt(e.parentNode)||e),n},s.sortStable=A.split("").sort(I).join("")===A,s.detectDuplicates=!!g,v(),s.sortDetached=ct((function(t){return 1&t.compareDocumentPosition(m.createElement("div"))})),ct((function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")}))||ht("type|href|height|width",(function(t,e,n){if(!n)return t.getAttribute(e,"type"===e.toLowerCase()?1:2)})),s.attributes&&ct((function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")}))||ht("value",(function(t,e,n){if(!n&&"input"===t.nodeName.toLowerCase())return t.defaultValue})),ct((function(t){return null==t.getAttribute("disabled")}))||ht(L,(function(t,e,n){var r;if(!n)return!0===t[e]?e.toLowerCase():(r=t.getAttributeNode(e))&&r.specified?r.value:null})),void 0===(r=function(){return at}.call(e,n,e,t))||(t.exports=r)}(window)},function(t,e,n){var r,i;r=[n(18),n(66)],void 0===(i=function(t,e){var n,r;return n=t.createDocumentFragment().appendChild(t.createElement("div")),(r=t.createElement("input")).setAttribute("type","radio"),r.setAttribute("checked","checked"),r.setAttribute("name","t"),n.appendChild(r),e.checkClone=n.cloneNode(!0).cloneNode(!0).lastChild.checked,n.innerHTML="<textarea>x</textarea>",e.noCloneChecked=!!n.cloneNode(!0).lastChild.defaultValue,e}.apply(e,r))||(t.exports=i)},function(t,e,n){var r,i;r=[n(3)],void 0===(i=function(t){return function(e,n,r){for(var i=[],o=void 0!==r;(e=e[n])&&9!==e.nodeType;)if(1===e.nodeType){if(o&&t(e).is(r))break;i.push(e)}return i}}.apply(e,r))||(t.exports=i)},function(t,e,n){var r;void 0===(r=function(){return function(t,e){for(var n=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&n.push(t);return n}}.call(e,n,e,t))||(t.exports=r)},function(t,e,n){var r,i;r=[n(3),n(59),n(47),n(181)],void 0===(i=function(t,e,n,r){var i=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,o=/[A-Z]/g;function s(e,n,s){var a;if(void 0===s&&1===e.nodeType)if(a="data-"+n.replace(o,"-$&").toLowerCase(),"string"==typeof(s=e.getAttribute(a))){try{s="true"===s||"false"!==s&&("null"===s?null:+s+""===s?+s:i.test(s)?t.parseJSON(s):s)}catch(t){}r.set(e,n,s)}else s=void 0;return s}return t.extend({hasData:function(t){return r.hasData(t)||n.hasData(t)},data:function(t,e,n){return r.access(t,e,n)},removeData:function(t,e){r.remove(t,e)},_data:function(t,e,r){return n.access(t,e,r)},_removeData:function(t,e){n.remove(t,e)}}),t.fn.extend({data:function(i,a){var u,l,c,h=this[0],f=h&&h.attributes;if(void 0===i){if(this.length&&(c=r.get(h),1===h.nodeType&&!n.get(h,"hasDataAttrs"))){for(u=f.length;u--;)f[u]&&0===(l=f[u].name).indexOf("data-")&&(l=t.camelCase(l.slice(5)),s(h,l,c[l]));n.set(h,"hasDataAttrs",!0)}return c}return"object"==typeof i?this.each((function(){r.set(this,i)})):e(this,(function(e){var n,a;if(h&&void 0===e)return void 0!==(n=r.get(h,i)||r.get(h,i.replace(o,"-$&").toLowerCase()))?n:(a=t.camelCase(i),void 0!==(n=r.get(h,a))||void 0!==(n=s(h,a,void 0))?n:void 0);a=t.camelCase(i),this.each((function(){var t=r.get(this,a);r.set(this,a,e),i.indexOf("-")>-1&&void 0!==t&&r.set(this,i,e)}))}),null,a,arguments.length>1,null,!0)},removeData:function(t){return this.each((function(){r.remove(this,t)}))}}),t}.apply(e,r))||(t.exports=i)},function(t,e,n){var r,i;r=[n(3),n(121),n(122)],void 0===(i=function(t){return t.fn.delay=function(e,n){return e=t.fx&&t.fx.speeds[e]||e,n=n||"fx",this.queue(n,(function(t,n){var r=window.setTimeout(t,e);n.stop=function(){window.clearTimeout(r)}}))},t.fn.delay}.apply(e,r))||(t.exports=i)},function(t,e,n){var r,i;r=[n(3),n(78)],void 0===(i=function(t){function e(t,n,r,i,o){return new e.prototype.init(t,n,r,i,o)}t.Tween=e,e.prototype={constructor:e,init:function(e,n,r,i,o,s){this.elem=e,this.prop=r,this.easing=o||t.easing._default,this.options=n,this.start=this.now=this.cur(),this.end=i,this.unit=s||(t.cssNumber[r]?"":"px")},cur:function(){var t=e.propHooks[this.prop];return t&&t.get?t.get(this):e.propHooks._default.get(this)},run:function(n){var r,i=e.propHooks[this.prop];return this.options.duration?this.pos=r=t.easing[this.easing](n,this.options.duration*n,0,1,this.options.duration):this.pos=r=n,this.now=(this.end-this.start)*r+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),i&&i.set?i.set(this):e.propHooks._default.set(this),this}},e.prototype.init.prototype=e.prototype,e.propHooks={_default:{get:function(e){var n;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(n=t.css(e.elem,e.prop,""))&&"auto"!==n?n:0},set:function(e){t.fx.step[e.prop]?t.fx.step[e.prop](e):1!==e.elem.nodeType||null==e.elem.style[t.cssProps[e.prop]]&&!t.cssHooks[e.prop]?e.elem[e.prop]=e.now:t.style(e.elem,e.prop,e.now+e.unit)}}},e.propHooks.scrollTop=e.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},t.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2},_default:"swing"},t.fx=e.prototype.init,t.fx.step={}}.apply(e,r))||(t.exports=i)},function(t,e,n){var r,i;r=[n(3),n(241),n(187),n(242),n(243)],void 0===(i=function(t){return t}.apply(e,r))||(t.exports=i)},function(t,e,n){var r,i;r=[n(3),n(59),n(123),n(60),n(19)],void 0===(i=function(t,e,n,r){var i,o=t.expr.attrHandle;t.fn.extend({attr:function(n,r){return e(this,t.attr,n,r,arguments.length>1)},removeAttr:function(e){return this.each((function(){t.removeAttr(this,e)}))}}),t.extend({attr:function(e,n,r){var o,s,a=e.nodeType;if(3!==a&&8!==a&&2!==a)return void 0===e.getAttribute?t.prop(e,n,r):(1===a&&t.isXMLDoc(e)||(n=n.toLowerCase(),s=t.attrHooks[n]||(t.expr.match.bool.test(n)?i:void 0)),void 0!==r?null===r?void t.removeAttr(e,n):s&&"set"in s&&void 0!==(o=s.set(e,r,n))?o:(e.setAttribute(n,r+""),r):s&&"get"in s&&null!==(o=s.get(e,n))?o:null==(o=t.find.attr(e,n))?void 0:o)},attrHooks:{type:{set:function(e,r){if(!n.radioValue&&"radio"===r&&t.nodeName(e,"input")){var i=e.value;return e.setAttribute("type",r),i&&(e.value=i),r}}}},removeAttr:function(e,n){var i,o,s=0,a=n&&n.match(r);if(a&&1===e.nodeType)for(;i=a[s++];)o=t.propFix[i]||i,t.expr.match.bool.test(i)&&(e[o]=!1),e.removeAttribute(i)}}),i={set:function(e,n,r){return!1===n?t.removeAttr(e,r):e.setAttribute(r,r),r}},t.each(t.expr.match.bool.source.match(/\w+/g),(function(e,n){var r=o[n]||t.find.attr;o[n]=function(t,e,n){var i,s;return n||(s=o[e],o[e]=i,i=null!=r(t,e,n)?e.toLowerCase():null,o[e]=s),i}}))}.apply(e,r))||(t.exports=i)},function(t,e,n){var r,i;r=[n(3),n(60),n(47),n(41)],void 0===(i=function(t,e,n){var r=/[\t\r\n\f]/g;function i(t){return t.getAttribute&&t.getAttribute("class")||""}t.fn.extend({addClass:function(n){var o,s,a,u,l,c,h,f=0;if(t.isFunction(n))return this.each((function(e){t(this).addClass(n.call(this,e,i(this)))}));if("string"==typeof n&&n)for(o=n.match(e)||[];s=this[f++];)if(u=i(s),a=1===s.nodeType&&(" "+u+" ").replace(r," ")){for(c=0;l=o[c++];)a.indexOf(" "+l+" ")<0&&(a+=l+" ");u!==(h=t.trim(a))&&s.setAttribute("class",h)}return this},removeClass:function(n){var o,s,a,u,l,c,h,f=0;if(t.isFunction(n))return this.each((function(e){t(this).removeClass(n.call(this,e,i(this)))}));if(!arguments.length)return this.attr("class","");if("string"==typeof n&&n)for(o=n.match(e)||[];s=this[f++];)if(u=i(s),a=1===s.nodeType&&(" "+u+" ").replace(r," ")){for(c=0;l=o[c++];)for(;a.indexOf(" "+l+" ")>-1;)a=a.replace(" "+l+" "," ");u!==(h=t.trim(a))&&s.setAttribute("class",h)}return this},toggleClass:function(r,o){var s=typeof r;return"boolean"==typeof o&&"string"===s?o?this.addClass(r):this.removeClass(r):t.isFunction(r)?this.each((function(e){t(this).toggleClass(r.call(this,e,i(this),o),o)})):this.each((function(){var o,a,u,l;if("string"===s)for(a=0,u=t(this),l=r.match(e)||[];o=l[a++];)u.hasClass(o)?u.removeClass(o):u.addClass(o);else void 0!==r&&"boolean"!==s||((o=i(this))&&n.set(this,"__className__",o),this.setAttribute&&this.setAttribute("class",o||!1===r?"":n.get(this,"__className__")||""))}))},hasClass:function(t){var e,n,o=0;for(e=" "+t+" ";n=this[o++];)if(1===n.nodeType&&(" "+i(n)+" ").replace(r," ").indexOf(e)>-1)return!0;return!1}})}.apply(e,r))||(t.exports=i)},function(t,e,n){var r,i;r=[n(3),n(123),n(41)],void 0===(i=function(t,e){var n=/\r/g,r=/[\x20\t\r\n\f]+/g;t.fn.extend({val:function(e){var r,i,o,s=this[0];return arguments.length?(o=t.isFunction(e),this.each((function(n){var i;1===this.nodeType&&(null==(i=o?e.call(this,n,t(this).val()):e)?i="":"number"==typeof i?i+="":t.isArray(i)&&(i=t.map(i,(function(t){return null==t?"":t+""}))),(r=t.valHooks[this.type]||t.valHooks[this.nodeName.toLowerCase()])&&"set"in r&&void 0!==r.set(this,i,"value")||(this.value=i))}))):s?(r=t.valHooks[s.type]||t.valHooks[s.nodeName.toLowerCase()])&&"get"in r&&void 0!==(i=r.get(s,"value"))?i:"string"==typeof(i=s.value)?i.replace(n,""):null==i?"":i:void 0}}),t.extend({valHooks:{option:{get:function(e){var n=t.find.attr(e,"value");return null!=n?n:t.trim(t.text(e)).replace(r," ")}},select:{get:function(n){for(var r,i,o=n.options,s=n.selectedIndex,a="select-one"===n.type||s<0,u=a?null:[],l=a?s+1:o.length,c=s<0?l:a?s:0;c<l;c++)if(((i=o[c]).selected||c===s)&&(e.optDisabled?!i.disabled:null===i.getAttribute("disabled"))&&(!i.parentNode.disabled||!t.nodeName(i.parentNode,"optgroup"))){if(r=t(i).val(),a)return r;u.push(r)}return u},set:function(e,n){for(var r,i,o=e.options,s=t.makeArray(n),a=o.length;a--;)((i=o[a]).selected=t.inArray(t.valHooks.option.get(i),s)>-1)&&(r=!0);return r||(e.selectedIndex=-1),s}}}}),t.each(["radio","checkbox"],(function(){t.valHooks[this]={set:function(e,n){if(t.isArray(n))return e.checked=t.inArray(t(e).val(),n)>-1}},e.checkOn||(t.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})}))}.apply(e,r))||(t.exports=i)},function(t,e,n){var r,i;r=[n(3),n(47),n(245),n(68),n(124)],void 0===(i=function(t,e,n){return n.focusin||t.each({focus:"focusin",blur:"focusout"},(function(n,r){var i=function(e){t.event.simulate(r,e.target,t.event.fix(e))};t.event.special[r]={setup:function(){var t=this.ownerDocument||this,o=e.access(t,r);o||t.addEventListener(n,i,!0),e.access(t,r,(o||0)+1)},teardown:function(){var t=this.ownerDocument||this,o=e.access(t,r)-1;o?e.access(t,r,o):(t.removeEventListener(n,i,!0),e.remove(t,r))}}})),t}.apply(e,r))||(t.exports=i)},function(t,e,n){var r,i;r=[n(66)],void 0===(i=function(t){return t.focusin="onfocusin"in window,t}.apply(e,r))||(t.exports=i)},function(t,e,n){var r,i;r=[n(69)],void 0===(i=function(t){return t._evalUrl=function(e){return t.ajax({url:e,type:"GET",dataType:"script",async:!1,global:!1,throws:!0})},t._evalUrl}.apply(e,r))||(t.exports=i)},function(t,e,n){var r;void 0===(r=function(){return window.location}.call(e,n,e,t))||(t.exports=r)},function(t,e,n){var r,i;r=[n(3)],void 0===(i=function(t){return t.parseJSON=function(t){return JSON.parse(t+"")},t.parseJSON}.apply(e,r))||(t.exports=i)},function(t,e,n){var r,i;r=[n(3)],void 0===(i=function(t){return t.parseXML=function(e){var n;if(!e||"string"!=typeof e)return null;try{n=(new window.DOMParser).parseFromString(e,"text/xml")}catch(t){n=void 0}return n&&!n.getElementsByTagName("parsererror").length||t.error("Invalid XML: "+e),n},t.parseXML}.apply(e,r))||(t.exports=i)},function(t,e,n){var r,i;r=[n(3),n(41),n(104),n(67)],void 0===(i=function(t){return t.fn.extend({wrapAll:function(e){var n;return t.isFunction(e)?this.each((function(n){t(this).wrapAll(e.call(this,n))})):(this[0]&&(n=t(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&n.insertBefore(this[0]),n.map((function(){for(var t=this;t.firstElementChild;)t=t.firstElementChild;return t})).append(this)),this)},wrapInner:function(e){return t.isFunction(e)?this.each((function(n){t(this).wrapInner(e.call(this,n))})):this.each((function(){var n=t(this),r=n.contents();r.length?r.wrapAll(e):n.append(e)}))},wrap:function(e){var n=t.isFunction(e);return this.each((function(r){t(this).wrapAll(n?e.call(this,r):e)}))},unwrap:function(){return this.parent().each((function(){t.nodeName(this,"body")||t(this).replaceWith(this.childNodes)})).end()}}),t}.apply(e,r))||(t.exports=i)},function(t,e,n){var r,i;r=[n(3),n(19)],void 0===(i=function(t){t.expr.filters.hidden=function(e){return!t.expr.filters.visible(e)},t.expr.filters.visible=function(t){return t.offsetWidth>0||t.offsetHeight>0||t.getClientRects().length>0}}.apply(e,r))||(t.exports=i)},function(t,e,n){var r,i;r=[n(3),n(180),n(41),n(67),n(187)],void 0===(i=function(t,e){var n=/%20/g,r=/\[\]$/,i=/\r?\n/g,o=/^(?:submit|button|image|reset|file)$/i,s=/^(?:input|select|textarea|keygen)/i;function a(e,n,i,o){var s;if(t.isArray(n))t.each(n,(function(t,n){i||r.test(e)?o(e,n):a(e+"["+("object"==typeof n&&null!=n?t:"")+"]",n,i,o)}));else if(i||"object"!==t.type(n))o(e,n);else for(s in n)a(e+"["+s+"]",n[s],i,o)}return t.param=function(e,r){var i,o=[],s=function(e,n){n=t.isFunction(n)?n():null==n?"":n,o[o.length]=encodeURIComponent(e)+"="+encodeURIComponent(n)};if(void 0===r&&(r=t.ajaxSettings&&t.ajaxSettings.traditional),t.isArray(e)||e.jquery&&!t.isPlainObject(e))t.each(e,(function(){s(this.name,this.value)}));else for(i in e)a(i,e[i],r,s);return o.join("&").replace(n,"+")},t.fn.extend({serialize:function(){return t.param(this.serializeArray())},serializeArray:function(){return this.map((function(){var e=t.prop(this,"elements");return e?t.makeArray(e):this})).filter((function(){var n=this.type;return this.name&&!t(this).is(":disabled")&&s.test(this.nodeName)&&!o.test(n)&&(this.checked||!e.test(n))})).map((function(e,n){var r=t(this).val();return null==r?null:t.isArray(r)?t.map(r,(function(t){return{name:n.name,value:t.replace(i,"\r\n")}})):{name:n.name,value:r.replace(i,"\r\n")}})).get()}}),t}.apply(e,r))||(t.exports=i)},function(t,e,n){var r,i;r=[n(3),n(66),n(69)],void 0===(i=function(t,e){t.ajaxSettings.xhr=function(){try{return new window.XMLHttpRequest}catch(t){}};var n={0:200,1223:204},r=t.ajaxSettings.xhr();e.cors=!!r&&"withCredentials"in r,e.ajax=r=!!r,t.ajaxTransport((function(t){var i,o;if(e.cors||r&&!t.crossDomain)return{send:function(e,r){var s,a=t.xhr();if(a.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(s in t.xhrFields)a[s]=t.xhrFields[s];for(s in t.mimeType&&a.overrideMimeType&&a.overrideMimeType(t.mimeType),t.crossDomain||e["X-Requested-With"]||(e["X-Requested-With"]="XMLHttpRequest"),e)a.setRequestHeader(s,e[s]);i=function(t){return function(){i&&(i=o=a.onload=a.onerror=a.onabort=a.onreadystatechange=null,"abort"===t?a.abort():"error"===t?"number"!=typeof a.status?r(0,"error"):r(a.status,a.statusText):r(n[a.status]||a.status,a.statusText,"text"!==(a.responseType||"text")||"string"!=typeof a.responseText?{binary:a.response}:{text:a.responseText},a.getAllResponseHeaders()))}},a.onload=i(),o=a.onerror=i("error"),void 0!==a.onabort?a.onabort=o:a.onreadystatechange=function(){4===a.readyState&&window.setTimeout((function(){i&&o()}))},i=i("abort");try{a.send(t.hasContent&&t.data||null)}catch(t){if(i)throw t}},abort:function(){i&&i()}}}))}.apply(e,r))||(t.exports=i)},function(t,e,n){var r,i;r=[n(3),n(18),n(69)],void 0===(i=function(t,e){t.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return t.globalEval(e),e}}}),t.ajaxPrefilter("script",(function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type="GET")})),t.ajaxTransport("script",(function(n){var r,i;if(n.crossDomain)return{send:function(o,s){r=t("<script>").prop({charset:n.scriptCharset,src:n.url}).on("load error",i=function(t){r.remove(),i=null,t&&s("error"===t.type?404:200,t.type)}),e.head.appendChild(r[0])},abort:function(){i&&i()}}}))}.apply(e,r))||(t.exports=i)},function(t,e,n){var r,i;r=[n(3),n(189),n(190),n(69)],void 0===(i=function(t,e,n){var r=[],i=/(=)\?(?=&|$)|\?\?/;t.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var n=r.pop()||t.expando+"_"+e++;return this[n]=!0,n}}),t.ajaxPrefilter("json jsonp",(function(e,o,s){var a,u,l,c=!1!==e.jsonp&&(i.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&i.test(e.data)&&"data");if(c||"jsonp"===e.dataTypes[0])return a=e.jsonpCallback=t.isFunction(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,c?e[c]=e[c].replace(i,"$1"+a):!1!==e.jsonp&&(e.url+=(n.test(e.url)?"&":"?")+e.jsonp+"="+a),e.converters["script json"]=function(){return l||t.error(a+" was not called"),l[0]},e.dataTypes[0]="json",u=window[a],window[a]=function(){l=arguments},s.always((function(){void 0===u?t(window).removeProp(a):window[a]=u,e[a]&&(e.jsonpCallback=o.jsonpCallback,r.push(a)),l&&t.isFunction(u)&&u(l[0]),l=u=void 0})),"script"}))}.apply(e,r))||(t.exports=i)},function(t,e,n){var r,i;r=[n(3),n(257),n(69),n(67),n(104),n(19),n(188)],void 0===(i=function(t){var e=t.fn.load;t.fn.load=function(n,r,i){if("string"!=typeof n&&e)return e.apply(this,arguments);var o,s,a,u=this,l=n.indexOf(" ");return l>-1&&(o=t.trim(n.slice(l)),n=n.slice(0,l)),t.isFunction(r)?(i=r,r=void 0):r&&"object"==typeof r&&(s="POST"),u.length>0&&t.ajax({url:n,type:s||"GET",dataType:"html",data:r}).done((function(e){a=arguments,u.html(o?t("<div>").append(t.parseHTML(e)).find(o):e)})).always(i&&function(t,e){u.each((function(){i.apply(this,a||[t.responseText,e,t])}))}),this}}.apply(e,r))||(t.exports=i)},function(t,e,n){var r,i;r=[n(3),n(18),n(182),n(173)],void 0===(i=function(t,e,n,r){return t.parseHTML=function(i,o,s){if(!i||"string"!=typeof i)return null;"boolean"==typeof o&&(s=o,o=!1),o=o||e;var a=n.exec(i),u=!s&&[];return a?[o.createElement(a[1])]:(a=r([i],o,u),u&&u.length&&t(u).remove(),t.merge([],a.childNodes))},t.parseHTML}.apply(e,r))||(t.exports=i)},function(t,e,n){var r,i;r=[n(3),n(68)],void 0===(i=function(t){t.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],(function(e,n){t.fn[n]=function(t){return this.on(n,t)}}))}.apply(e,r))||(t.exports=i)},function(t,e,n){var r,i;r=[n(3),n(19),n(122)],void 0===(i=function(t){t.expr.filters.animated=function(e){return t.grep(t.timers,(function(t){return e===t.elem})).length}}.apply(e,r))||(t.exports=i)},function(t,e,n){var r,i;r=[n(3),n(59),n(18),n(170),n(117),n(169),n(185),n(118),n(41),n(78),n(19)],void 0===(i=function(t,e,n,r,i,o,s,a){function u(e){return t.isWindow(e)?e:9===e.nodeType&&e.defaultView}return t.offset={setOffset:function(e,n,r){var i,o,s,a,u,l,c=t.css(e,"position"),h=t(e),f={};"static"===c&&(e.style.position="relative"),u=h.offset(),s=t.css(e,"top"),l=t.css(e,"left"),("absolute"===c||"fixed"===c)&&(s+l).indexOf("auto")>-1?(a=(i=h.position()).top,o=i.left):(a=parseFloat(s)||0,o=parseFloat(l)||0),t.isFunction(n)&&(n=n.call(e,r,t.extend({},u))),null!=n.top&&(f.top=n.top-u.top+a),null!=n.left&&(f.left=n.left-u.left+o),"using"in n?n.using.call(e,f):h.css(f)}},t.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each((function(n){t.offset.setOffset(this,e,n)}));var n,r,i=this[0],o={top:0,left:0},s=i&&i.ownerDocument;return s?(n=s.documentElement,t.contains(n,i)?(o=i.getBoundingClientRect(),r=u(s),{top:o.top+r.pageYOffset-n.clientTop,left:o.left+r.pageXOffset-n.clientLeft}):o):void 0},position:function(){if(this[0]){var e,n,r=this[0],i={top:0,left:0};return"fixed"===t.css(r,"position")?n=r.getBoundingClientRect():(e=this.offsetParent(),n=this.offset(),t.nodeName(e[0],"html")||(i=e.offset()),i.top+=t.css(e[0],"borderTopWidth",!0),i.left+=t.css(e[0],"borderLeftWidth",!0)),{top:n.top-i.top-t.css(r,"marginTop",!0),left:n.left-i.left-t.css(r,"marginLeft",!0)}}},offsetParent:function(){return this.map((function(){for(var e=this.offsetParent;e&&"static"===t.css(e,"position");)e=e.offsetParent;return e||r}))}}),t.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},(function(n,r){var i="pageYOffset"===r;t.fn[n]=function(t){return e(this,(function(t,e,n){var o=u(t);if(void 0===n)return o?o[r]:t[e];o?o.scrollTo(i?o.pageXOffset:n,i?n:o.pageYOffset):t[e]=n}),n,t,arguments.length)}})),t.each(["top","left"],(function(e,n){t.cssHooks[n]=s(a.pixelPosition,(function(e,r){if(r)return r=o(e,n),i.test(r)?t(e).position()[n]+"px":r}))})),t}.apply(e,r))||(t.exports=i)},function(t,e,n){var r,i;r=[n(3),n(59),n(78)],void 0===(i=function(t,e){return t.each({Height:"height",Width:"width"},(function(n,r){t.each({padding:"inner"+n,content:r,"":"outer"+n},(function(i,o){t.fn[o]=function(o,s){var a=arguments.length&&(i||"boolean"!=typeof o),u=i||(!0===o||!0===s?"margin":"border");return e(this,(function(e,r,i){var o;return t.isWindow(e)?e.document.documentElement["client"+n]:9===e.nodeType?(o=e.documentElement,Math.max(e.body["scroll"+n],o["scroll"+n],e.body["offset"+n],o["offset"+n],o["client"+n])):void 0===i?t.css(e,r,u):t.style(e,r,i,u)}),r,a?o:void 0,a,null)}}))})),t}.apply(e,r))||(t.exports=i)},function(t,e,n){var r,i;r=[n(3)],void 0===(i=function(t){t.fn.extend({bind:function(t,e,n){return this.on(t,null,e,n)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,n,r){return this.on(e,t,n,r)},undelegate:function(t,e,n){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",n)},size:function(){return this.length}}),t.fn.andSelf=t.fn.addBack}.apply(e,r))||(t.exports=i)},function(t,e,n){var r,i;r=[n(3)],void 0===(i=function(n){void 0===(i=function(){return n}.apply(e,r=[]))||(t.exports=i)}.apply(e,r))||(t.exports=i)},function(t,e,n){"use strict";var r,i,o;$.browser||($.browser={},r=navigator.userAgent.toLowerCase(),i=/(webkit)[ \/]([\w.]+)/.exec(r)||/(opera)(?:.*version)?[ \/]([\w.]+)/.exec(r)||/(msie) ([\w.]+)/.exec(r)||r.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+))?/.exec(r)||[],(o={browser:i[1]||"",version:i[2]||"0"}).browser&&($.browser[o.browser]=!0,$.browser.version=o.version))},function(t,e,n){"use strict";var r=o(n(6)),i=o(n(107));function o(t){return t&&t.__esModule?t:{default:t}}var s=n(1);n(204);$((function(){var t,e=!1;function n(t){if(!t.prop("hasInit")){t.prop("hasInit",!0);var n,r=new i.default,l=($(document),s.getWwwDomain()),c=(window.location.protocol,$(".pg-picbox"),$("#submit"),t.find(".bind-phone-number-old")),h=t.find(".bind-phone-number"),f=t.find(".bind-phone-error-msg"),p=t.find(".bind-phone-fetch-code"),d=(t.find(".bind-phone-fetch-code-action"),t.find(".bind-phone-time-remain")),g=t.find(".bind-phone-code-number"),v=t.find(".bind-phone-submit"),m=(t.find(".phone-number-wrap"),t.find(".phone-number-wrap-old"),$(".phone-number-wrap .choose-country")),y=$(".phone-number-wrap-old .choose-country"),b=t.find(".regist-phone-fetch-code"),w=$("#checkPhone"),x={code:"86",name:"中国",rule:"^1[0-9]{10}$",simple_name:"CN"},S=$(null),E={};$.Event("bindPhone:countDownRemain",{bubbles:!1}),d.on("bindPhone:countDownRemain",(function(t,e){var n=Number(d.text());n-=1,p.hide(),b.hide(),d.parent().show(),d.text(n),n>0?setTimeout((function(){d.trigger("bindPhone:countDownRemain")}),1e3):(d.parent().hide(),p.show(),b.show())})),$.ajax({type:"GET",url:"/napi/phone/check/rules/"}).done((function(t){1===t.status&&(E=t.data.object_list,S=$('<ul class="country-list"></ul>'),$.each(E,(function(t,e){var n='<li data-simpleName="'+e.simple_name+'">'+e.name+"<span>+"+e.code+"</span></li>";$(n).appendTo(S)})))})),m.add(y).on("click",(function(t){var e=$(this),n=e.closest(".country-wrap");S.appendTo(n),n.find(".country-list").show(),function(t,e){S.unbind("click"),S.on("click","li",(function(){var n=$(this),r=t.find(".country-code"),i=n.data("simplename");x=function(t,e){var n={};return $.each(e,(function(e,r){r.simple_name==t&&(n=r)})),n}(i,e),r.text(n.find("span").text()),S.hide()}))}(e,E)})),w.on("blur",(function(t){var r=$(this),i=t.target.value;window.clearTimeout(n),n=window.setTimeout((function(){if(i&&!e){var t=new FormData;t.append("telephone",i),$.ajax({url:"/napi/register/check/telephone/?__domain=www.duitang.com",type:"POST",contentType:!1,processData:!1,data:t,success:function(t){if(1==t.status){if(!t.data||"registered"!==t.data.status)return void r.prop("verified",!0);f.html("手机号已被绑定，直接登录或更换后重试")}else 1!==t.status&&t.message?f.html(t.message):1!==t.status&&f.html("手机号检测失败");r.prop("verified",!1)},error:function(){f.html("由于网络等原因，手机号检测失败"),r.prop("verified",!1)}})}}),100)})),w.on("change",(function(){f.html("")})),$(document).on("click",(function(t){var e=$(".country-wrap");e.is(t.target)||0!==e.has(t.target).length||S.hide()})),p.click((function(){var t=$(this),e=h.val();t.hasClass("disabled")||(""!=e?(r.instance.reset(),r.instance.verify(),r.option.onSuccess=function(){var n=r.rid||"";if(""!==n){var i=o(e,x.rule);if(f.empty(),i){var s=m.find(".country-code").text(),u=a(e,s.replace("+",""));t.addClass("disabled"),$.ajax({type:"POST",url:"/napi/validation_code/send/v2/",data:{receiver:u,rid:n,action:"bind_telephone",type:"sms"},wrongmsg:function(t){f.html(t.message)},errormsg:function(){f.html("请求失败，请重新尝试")}}).done((function(t){1==t.status&&(d.text(t.data.next_send),d.trigger("bindPhone:countDownRemain"))})).fail((function(t){})).always((function(){t.removeClass("disabled")}))}else f.html("手机号不符合规范, 请校对后重新输入")}else f.html("请完成验证")}):f.html("请输入手机号"))})),b.click((function(){var t=$(this),e=h.val();!t.hasClass("disabled")&&h.prop("verified")&&(""!=e?(r.instance.reset(),r.instance.verify(),r.option.onSuccess=function(){var n=r.rid||"";if(""!==n){var i=o(e,x.rule);if(f.empty(),i){var s=a(e,x.code);t.addClass("disabled"),$.ajax({type:"POST",url:"/napi/validation_code/send/v2/",data:{receiver:s,rid:n,action:"register_by_phone",type:"sms"},wrongmsg:function(t){f.html(t.message)},errormsg:function(){f.html("请求失败，请重新尝试")}}).done((function(t){1==t.status&&(d.text(t.data.next_send),d.trigger("bindPhone:countDownRemain"))})).fail((function(t){})).always((function(){t.removeClass("disabled")}))}else f.html("手机号不符合规范, 请校对后重新输入")}else f.html("请完成验证")}):f.html("请输入手机号"))})),h.add(c).add(g).on("change keyup",(function(t){var e=$(this).closest(".bind-phone"),n=e.find(".bind-phone-number-old"),r=e.find(".bind-phone-number"),i=e.find(".bind-phone-code-number"),s=e.find(".bind-phone-submit"),a=$.trim(n.val()),u=$.trim(r.val()),l=$.trim(i.val());o(u,x.rule),o(a,x.rule);u&&l&&(n.length&&a||!n.length)?s.removeClass("disabled"):s.addClass("disabled")})),v.click((function(){var t=$(this);if(!t.hasClass("disabled")){var e=$("#agreement");if(!e||e.prop("checked"))if(f.empty(),t.addClass("disabled"),console.log("oldphone "+c.length),c.length){var n=a($.trim(c.val()),y.find(".country-code").text().replace("+",""));$.ajax({type:"POST",url:"/napi/check/telephone/",data:{telephone:n},wrongmsg:function(t){f.html(t.message)},errormsg:function(){f.html("请求失败，请重新尝试")}}).done((function(e){1==e.status?u(t,h,g,x.code,f):t.removeClass("disabled")})).fail((function(e){t.removeClass("disabled")}))}else u(t,h,g,x.code,f);else f.html("同意协议才能继续注册")}}))}}function o(t,e){return!!new RegExp(e).test(t)}function a(t,e){return"86"==e?t:e+"_"+t}function u(n,i,o,s,u){var l=$.trim(i.val()),c=a(l,s);e=!0,$.ajax({type:"POST",url:n.closest(".bind-phone").data("url"),data:{telephone:c,code:$.trim(o.val())},wrongmsg:function(t){u.html(t.message)},errormsg:function(){u.html("请求失败，请重新尝试")}}).done((function(e){if(1==e.status){var i=n.closest(".bind-phone"),o=i.data("redirect");if(!/(http|\.com|\.net)/.test(o))o=window.location.origin+o;i.data("redirect-withphone")&&(o=$.G.addParam(o,"phone",s+"_"+l)),function(e){window.clearTimeout(t),t=window.setTimeout((function(){"object"==("undefined"==typeof USER?"undefined":(0,r.default)(USER))&&(USER.bindPhone=!0),"string"==typeof e&&(window.location.href=e)}),1500)}(o),"/bind/"==window.location.pathname&&SUGAR.PopOut.alert('<div class="prompt prompt-success"><h3>绑定成功</h3></div>')}})).fail((function(t){})).always((function(){n.removeClass("disabled"),e=!1}))}$.SGBindPhone={init:n,pop:function(t){var e=$("#bind-phone-pop");e.length||(e=$('<div id="bind-phone-pop" class="bind-phone" data-url="/napi/people/bind_telephone/">   <h2>亲爱的堆糖用户：</h2>   <span class="bind-phone-des">根据相关法律法规，您需要绑定手机号才能正常使用发布图片、发布文章、创建专辑、发表评论功能，<a href="https://www.duitang.com/guide/mkt/bindTelephone/">如有疑问请点击这里。</a></span>   <div class="bind-phone-code-check">     <form class="bind-phone-form">       <div class="bind-phone-error-msg"></div>       <div class="bind-phone-check-row">         <label>输入手机号</label>         <div class="phone-number-wrap country-wrap">           <div class="choose-country">             <p class="country-code">+86</p>           </div>           <input class="bind-phone-number" type="text" value="" placeholder="" />         </div>       </div>       <div class="bind-phone-check-row">         <label>输入短信验证码</label>         <input class="bind-phone-code-number" type="text" value="" placeholder="" maxlength="6"/>         <div class="bind-phone-time-remain-wrap"><span class="bind-phone-time-remain">19</span>&apos;</div>         <a href="javascript:;" class="bind-phone-fetch-code">获取短信验证码</a>         <input type="hidden" class="bind-phone-fetch-code-action" value="bind_telephone" />       </div>       <div class="agreement-wrapper">         <input type="checkbox" id="agreement" class="agreement" />         <span class="agreement">我已阅读并同意<a target="_blank" href="/user/agreement/">《堆糖注册协议》</a>和<a target="_blank" href="/privacy/protection/">《用户隐私协议》</span>       </div>     </form>   </div>   <a href="javascript:;" class="bind-phone-submit disabled">提交</a> </div>')),e.find(".bind-phone-code-number").val(""),e.find(".bind-phone-submit").addClass("disabled"),e.data("redirect",t),e.find(".bind-phone-error-msg").empty(),SUGAR.PopOut.alert(["",e],2),n(e)},popChangePhone:function(t){var e=$("#bind-phone-pop-change");e.length||(e=$('<div id="bind-phone-pop-change" class="bind-phone" data-url="/napi/people/bind_telephone/">   <div class="bind-phone-code-check">     <form class="bind-phone-form">       <div class="bind-phone-error-msg"></div>       <div class="bind-phone-check-row">         <label>输入旧手机号</label>         <div class="phone-number-wrap-old country-wrap">           <div class="choose-country">             <p class="country-code">+86</p>           </div>           <input class="bind-phone-number-old" type="text" value="" placeholder="" />         </div>       </div>       <div class="bind-phone-check-row">         <label>输入新手机号</label>         <div class="phone-number-wrap country-wrap">           <div class="choose-country">             <p class="country-code">+86</p>           </div>           <input class="bind-phone-number" type="text" value="" placeholder="" />         </div>       </div>       <div class="bind-phone-check-row">         <label>新手机短信验证码</label>         <input class="bind-phone-code-number" type="text" value="" placeholder="" maxlength="6"/>         <div class="bind-phone-time-remain-wrap"><span class="bind-phone-time-remain">19</span>&apos;</div>         <a href="javascript:;" class="bind-phone-fetch-code">获取短信验证码</a>         <input type="hidden" class="bind-phone-fetch-code-action" value="bind_telephone" />       </div>       <div class="agreement-wrapper">         <input type="checkbox" id="agreement" class="agreement" />         <span class="agreement">我已阅读并同意<a target="_blank" href="/user/agreement/">《堆糖注册协议》</a>和<a target="_blank" href="/privacy/protection/">《用户隐私协议》</span>       </div>     </form>   </div>   <a href="javascript:;" class="bind-phone-submit disabled">提交</a> </div>')),e.find(".bind-phone-code-number").val(""),e.find(".bind-phone-submit").addClass("disabled"),e.data("redirect",t),e.find(".bind-phone-error-msg").empty(),SUGAR.PopOut.alert(["更换绑定手机号",e],2),n(e)}}}))},function(t,e,n){t.exports={default:n(267),__esModule:!0}},function(t,e,n){n(70),n(86),t.exports=n(135).f("iterator")},function(t,e,n){var r=n(125),i=n(126);t.exports=function(t){return function(e,n){var o,s,a=String(i(e)),u=r(n),l=a.length;return u<0||u>=l?t?"":void 0:(o=a.charCodeAt(u))<55296||o>56319||u+1===l||(s=a.charCodeAt(u+1))<56320||s>57343?t?a.charAt(u):o:t?a.slice(u,u+2):s-56320+(o-55296<<10)+65536}}},function(t,e,n){"use strict";var r=n(45),i=n(83),o=n(85),s={};n(56)(s,n(21)("iterator"),(function(){return this})),t.exports=function(t,e,n){t.prototype=r(s,{next:i(1,n)}),o(t,e+" Iterator")}},function(t,e,n){var r=n(63),i=n(105),o=n(271);t.exports=function(t){return function(e,n,s){var a,u=r(e),l=i(u.length),c=o(s,l);if(t&&n!=n){for(;l>c;)if((a=u[c++])!=a)return!0}else for(;l>c;c++)if((t||c in u)&&u[c]===n)return t||c||0;return!t&&-1}}},function(t,e,n){var r=n(125),i=Math.max,o=Math.min;t.exports=function(t,e){return(t=r(t))<0?i(t+e,0):o(t,e)}},function(t,e,n){var r=n(62),i=n(73),o=n(132)("IE_PROTO"),s=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=i(t),r(t,o)?t[o]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?s:null}},function(t,e,n){"use strict";var r=n(274),i=n(197),o=n(71),s=n(63);t.exports=n(127)(Array,"Array",(function(t,e){this._t=s(t),this._i=0,this._k=e}),(function(){var t=this._t,e=this._k,n=this._i++;return!t||n>=t.length?(this._t=void 0,i(1)):i(0,"keys"==e?n:"values"==e?t[n]:[n,t[n]])}),"values"),o.Arguments=o.Array,r("keys"),r("values"),r("entries")},function(t,e){t.exports=function(){}},function(t,e,n){t.exports={default:n(276),__esModule:!0}},function(t,e,n){n(277),n(138),n(281),n(282),t.exports=n(7).Symbol},function(t,e,n){"use strict";var r=n(20),i=n(62),o=n(37),s=n(11),a=n(194),u=n(87).KEY,l=n(61),c=n(133),h=n(85),f=n(106),p=n(21),d=n(135),g=n(136),v=n(278),m=n(198),y=n(49),b=n(42),w=n(73),x=n(63),S=n(129),E=n(83),A=n(45),C=n(279),F=n(280),P=n(137),k=n(44),T=n(72),_=F.f,I=k.f,D=C.f,N=r.Symbol,R=r.JSON,O=R&&R.stringify,j=p("_hidden"),B=p("toPrimitive"),H={}.propertyIsEnumerable,L=c("symbol-registry"),M=c("symbols"),$=c("op-symbols"),U=Object.prototype,V="function"==typeof N&&!!P.f,q=r.QObject,K=!q||!q.prototype||!q.prototype.findChild,z=o&&l((function(){return 7!=A(I({},"a",{get:function(){return I(this,"a",{value:7}).a}})).a}))?function(t,e,n){var r=_(U,e);r&&delete U[e],I(t,e,n),r&&t!==U&&I(U,e,r)}:I,G=function(t){var e=M[t]=A(N.prototype);return e._k=t,e},W=V&&"symbol"==typeof N.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof N},Y=function(t,e,n){return t===U&&Y($,e,n),y(t),e=S(e,!0),y(n),i(M,e)?(n.enumerable?(i(t,j)&&t[j][e]&&(t[j][e]=!1),n=A(n,{enumerable:E(0,!1)})):(i(t,j)||I(t,j,E(1,{})),t[j][e]=!0),z(t,e,n)):I(t,e,n)},X=function(t,e){y(t);for(var n,r=v(e=x(e)),i=0,o=r.length;o>i;)Y(t,n=r[i++],e[n]);return t},J=function(t){var e=H.call(this,t=S(t,!0));return!(this===U&&i(M,t)&&!i($,t))&&(!(e||!i(this,t)||!i(M,t)||i(this,j)&&this[j][t])||e)},Q=function(t,e){if(t=x(t),e=S(e,!0),t!==U||!i(M,e)||i($,e)){var n=_(t,e);return!n||!i(M,e)||i(t,j)&&t[j][e]||(n.enumerable=!0),n}},Z=function(t){for(var e,n=D(x(t)),r=[],o=0;n.length>o;)i(M,e=n[o++])||e==j||e==u||r.push(e);return r},tt=function(t){for(var e,n=t===U,r=D(n?$:x(t)),o=[],s=0;r.length>s;)!i(M,e=r[s++])||n&&!i(U,e)||o.push(M[e]);return o};V||(a((N=function(){if(this instanceof N)throw TypeError("Symbol is not a constructor!");var t=f(arguments.length>0?arguments[0]:void 0),e=function(n){this===U&&e.call($,n),i(this,j)&&i(this[j],t)&&(this[j][t]=!1),z(this,t,E(1,n))};return o&&K&&z(U,t,{configurable:!0,set:e}),G(t)}).prototype,"toString",(function(){return this._k})),F.f=Q,k.f=Y,n(199).f=C.f=Z,n(88).f=J,P.f=tt,o&&!n(81)&&a(U,"propertyIsEnumerable",J,!0),d.f=function(t){return G(p(t))}),s(s.G+s.W+s.F*!V,{Symbol:N});for(var et="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),nt=0;et.length>nt;)p(et[nt++]);for(var rt=T(p.store),it=0;rt.length>it;)g(rt[it++]);s(s.S+s.F*!V,"Symbol",{for:function(t){return i(L,t+="")?L[t]:L[t]=N(t)},keyFor:function(t){if(!W(t))throw TypeError(t+" is not a symbol!");for(var e in L)if(L[e]===t)return e},useSetter:function(){K=!0},useSimple:function(){K=!1}}),s(s.S+s.F*!V,"Object",{create:function(t,e){return void 0===e?A(t):X(A(t),e)},defineProperty:Y,defineProperties:X,getOwnPropertyDescriptor:Q,getOwnPropertyNames:Z,getOwnPropertySymbols:tt});var ot=l((function(){P.f(1)}));s(s.S+s.F*ot,"Object",{getOwnPropertySymbols:function(t){return P.f(w(t))}}),R&&s(s.S+s.F*(!V||l((function(){var t=N();return"[null]"!=O([t])||"{}"!=O({a:t})||"{}"!=O(Object(t))}))),"JSON",{stringify:function(t){for(var e,n,r=[t],i=1;arguments.length>i;)r.push(arguments[i++]);if(n=e=r[1],(b(e)||void 0!==t)&&!W(t))return m(e)||(e=function(t,e){if("function"==typeof n&&(e=n.call(this,t,e)),!W(e))return e}),r[1]=e,O.apply(R,r)}}),N.prototype[B]||n(56)(N.prototype,B,N.prototype.valueOf),h(N,"Symbol"),h(Math,"Math",!0),h(r.JSON,"JSON",!0)},function(t,e,n){var r=n(72),i=n(137),o=n(88);t.exports=function(t){var e=r(t),n=i.f;if(n)for(var s,a=n(t),u=o.f,l=0;a.length>l;)u.call(t,s=a[l++])&&e.push(s);return e}},function(t,e,n){var r=n(63),i=n(199).f,o={}.toString,s="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function(t){return s&&"[object Window]"==o.call(t)?function(t){try{return i(t)}catch(t){return s.slice()}}(t):i(r(t))}},function(t,e,n){var r=n(88),i=n(83),o=n(63),s=n(129),a=n(62),u=n(193),l=Object.getOwnPropertyDescriptor;e.f=n(37)?l:function(t,e){if(t=o(t),e=s(e,!0),u)try{return l(t,e)}catch(t){}if(a(t,e))return i(!r.f.call(t,e),t[e])}},function(t,e,n){n(136)("asyncIterator")},function(t,e,n){n(136)("observable")},function(t,e,n){n(284),t.exports=n(7).Object.assign},function(t,e,n){var r=n(11);r(r.S+r.F,"Object",{assign:n(285)})},function(t,e,n){"use strict";var r=n(37),i=n(72),o=n(137),s=n(88),a=n(73),u=n(131),l=Object.assign;t.exports=!l||n(61)((function(){var t={},e={},n=Symbol(),r="abcdefghijklmnopqrst";return t[n]=7,r.split("").forEach((function(t){e[t]=t})),7!=l({},t)[n]||Object.keys(l({},e)).join("")!=r}))?function(t,e){for(var n=a(t),l=arguments.length,c=1,h=o.f,f=s.f;l>c;)for(var p,d=u(arguments[c++]),g=h?i(d).concat(h(d)):i(d),v=g.length,m=0;v>m;)p=g[m++],r&&!f.call(d,p)||(n[p]=d[p]);return n}:l},function(t,e,n){n(287);var r=n(7).Object;t.exports=function(t,e,n){return r.defineProperty(t,e,n)}},function(t,e,n){var r=n(11);r(r.S+r.F*!n(37),"Object",{defineProperty:n(44).f})},function(t,e,n){var r=n(7),i=r.JSON||(r.JSON={stringify:JSON.stringify});t.exports=function(t){return i.stringify.apply(i,arguments)}},function(t,e,n){n(138),n(70),n(86),n(290),n(294),n(295),t.exports=n(7).Promise},function(t,e,n){"use strict";var r,i,o,s,a=n(81),u=n(20),l=n(55),c=n(109),h=n(11),f=n(42),p=n(82),d=n(139),g=n(89),v=n(207),m=n(208).set,y=n(292)(),b=n(141),w=n(209),x=n(293),S=n(210),E=u.TypeError,A=u.process,C=A&&A.versions,F=C&&C.v8||"",P=u.Promise,k="process"==c(A),T=function(){},_=i=b.f,I=!!function(){try{var t=P.resolve(1),e=(t.constructor={})[n(21)("species")]=function(t){t(T,T)};return(k||"function"==typeof PromiseRejectionEvent)&&t.then(T)instanceof e&&0!==F.indexOf("6.6")&&-1===x.indexOf("Chrome/66")}catch(t){}}(),D=function(t){var e;return!(!f(t)||"function"!=typeof(e=t.then))&&e},N=function(t,e){if(!t._n){t._n=!0;var n=t._c;y((function(){for(var r=t._v,i=1==t._s,o=0,s=function(e){var n,o,s,a=i?e.ok:e.fail,u=e.resolve,l=e.reject,c=e.domain;try{a?(i||(2==t._h&&j(t),t._h=1),!0===a?n=r:(c&&c.enter(),n=a(r),c&&(c.exit(),s=!0)),n===e.promise?l(E("Promise-chain cycle")):(o=D(n))?o.call(n,u,l):u(n)):l(r)}catch(t){c&&!s&&c.exit(),l(t)}};n.length>o;)s(n[o++]);t._c=[],t._n=!1,e&&!t._h&&R(t)}))}},R=function(t){m.call(u,(function(){var e,n,r,i=t._v,o=O(t);if(o&&(e=w((function(){k?A.emit("unhandledRejection",i,t):(n=u.onunhandledrejection)?n({promise:t,reason:i}):(r=u.console)&&r.error&&r.error("Unhandled promise rejection",i)})),t._h=k||O(t)?2:1),t._a=void 0,o&&e.e)throw e.v}))},O=function(t){return 1!==t._h&&0===(t._a||t._c).length},j=function(t){m.call(u,(function(){var e;k?A.emit("rejectionHandled",t):(e=u.onrejectionhandled)&&e({promise:t,reason:t._v})}))},B=function(t){var e=this;e._d||(e._d=!0,(e=e._w||e)._v=t,e._s=2,e._a||(e._a=e._c.slice()),N(e,!0))},H=function(t){var e,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===t)throw E("Promise can't be resolved itself");(e=D(t))?y((function(){var r={_w:n,_d:!1};try{e.call(t,l(H,r,1),l(B,r,1))}catch(t){B.call(r,t)}})):(n._v=t,n._s=1,N(n,!1))}catch(t){B.call({_w:n,_d:!1},t)}}};I||(P=function(t){d(this,P,"Promise","_h"),p(t),r.call(this);try{t(l(H,this,1),l(B,this,1))}catch(t){B.call(this,t)}},(r=function(t){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=n(142)(P.prototype,{then:function(t,e){var n=_(v(this,P));return n.ok="function"!=typeof t||t,n.fail="function"==typeof e&&e,n.domain=k?A.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&N(this,!1),n.promise},catch:function(t){return this.then(void 0,t)}}),o=function(){var t=new r;this.promise=t,this.resolve=l(H,t,1),this.reject=l(B,t,1)},b.f=_=function(t){return t===P||t===s?new o(t):i(t)}),h(h.G+h.W+h.F*!I,{Promise:P}),n(85)(P,"Promise"),n(211)("Promise"),s=n(7).Promise,h(h.S+h.F*!I,"Promise",{reject:function(t){var e=_(this);return(0,e.reject)(t),e.promise}}),h(h.S+h.F*(a||!I),"Promise",{resolve:function(t){return S(a&&this===s?P:this,t)}}),h(h.S+h.F*!(I&&n(212)((function(t){P.all(t).catch(T)}))),"Promise",{all:function(t){var e=this,n=_(e),r=n.resolve,i=n.reject,o=w((function(){var n=[],o=0,s=1;g(t,!1,(function(t){var a=o++,u=!1;n.push(void 0),s++,e.resolve(t).then((function(t){u||(u=!0,n[a]=t,--s||r(n))}),i)})),--s||r(n)}));return o.e&&i(o.v),n.promise},race:function(t){var e=this,n=_(e),r=n.reject,i=w((function(){g(t,!1,(function(t){e.resolve(t).then(n.resolve,r)}))}));return i.e&&r(i.v),n.promise}})},function(t,e){t.exports=function(t,e,n){var r=void 0===n;switch(e.length){case 0:return r?t():t.call(n);case 1:return r?t(e[0]):t.call(n,e[0]);case 2:return r?t(e[0],e[1]):t.call(n,e[0],e[1]);case 3:return r?t(e[0],e[1],e[2]):t.call(n,e[0],e[1],e[2]);case 4:return r?t(e[0],e[1],e[2],e[3]):t.call(n,e[0],e[1],e[2],e[3])}return t.apply(n,e)}},function(t,e,n){var r=n(20),i=n(208).set,o=r.MutationObserver||r.WebKitMutationObserver,s=r.process,a=r.Promise,u="process"==n(84)(s);t.exports=function(){var t,e,n,l=function(){var r,i;for(u&&(r=s.domain)&&r.exit();t;){i=t.fn,t=t.next;try{i()}catch(r){throw t?n():e=void 0,r}}e=void 0,r&&r.enter()};if(u)n=function(){s.nextTick(l)};else if(!o||r.navigator&&r.navigator.standalone)if(a&&a.resolve){var c=a.resolve(void 0);n=function(){c.then(l)}}else n=function(){i.call(r,l)};else{var h=!0,f=document.createTextNode("");new o(l).observe(f,{characterData:!0}),n=function(){f.data=h=!h}}return function(r){var i={fn:r,next:void 0};e&&(e.next=i),t||(t=i,n()),e=i}}},function(t,e,n){var r=n(20).navigator;t.exports=r&&r.userAgent||""},function(t,e,n){"use strict";var r=n(11),i=n(7),o=n(20),s=n(207),a=n(210);r(r.P+r.R,"Promise",{finally:function(t){var e=s(this,i.Promise||o.Promise),n="function"==typeof t;return this.then(n?function(n){return a(e,t()).then((function(){return n}))}:t,n?function(n){return a(e,t()).then((function(){throw n}))}:t)}})},function(t,e,n){"use strict";var r=n(11),i=n(141),o=n(209);r(r.S,"Promise",{try:function(t){var e=i.f(this),n=o(t);return(n.e?e.reject:e.resolve)(n.v),e.promise}})},function(t,e,n){(function(t){var n,r,i,o,s,a,u,l,c,h,f,p={userAgent:!1},d={},g=g||(n=Math,i=(r={}).lib={},o=i.Base=function(){function t(){}return{extend:function(e){t.prototype=this;var n=new t;return e&&n.mixIn(e),n.hasOwnProperty("init")||(n.init=function(){n.$super.init.apply(this,arguments)}),n.init.prototype=n,n.$super=this,n},create:function(){var t=this.extend();return t.init.apply(t,arguments),t},init:function(){},mixIn:function(t){for(var e in t)t.hasOwnProperty(e)&&(this[e]=t[e]);t.hasOwnProperty("toString")&&(this.toString=t.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),s=i.WordArray=o.extend({init:function(t,e){t=this.words=t||[],this.sigBytes=null!=e?e:4*t.length},toString:function(t){return(t||u).stringify(this)},concat:function(t){var e=this.words,n=t.words,r=this.sigBytes,i=t.sigBytes;if(this.clamp(),r%4)for(var o=0;o<i;o++){var s=n[o>>>2]>>>24-o%4*8&255;e[r+o>>>2]|=s<<24-(r+o)%4*8}else for(o=0;o<i;o+=4)e[r+o>>>2]=n[o>>>2];return this.sigBytes+=i,this},clamp:function(){var t=this.words,e=this.sigBytes;t[e>>>2]&=4294967295<<32-e%4*8,t.length=n.ceil(e/4)},clone:function(){var t=o.clone.call(this);return t.words=this.words.slice(0),t},random:function(t){for(var e=[],r=0;r<t;r+=4)e.push(4294967296*n.random()|0);return new s.init(e,t)}}),a=r.enc={},u=a.Hex={stringify:function(t){for(var e=t.words,n=t.sigBytes,r=[],i=0;i<n;i++){var o=e[i>>>2]>>>24-i%4*8&255;r.push((o>>>4).toString(16)),r.push((15&o).toString(16))}return r.join("")},parse:function(t){for(var e=t.length,n=[],r=0;r<e;r+=2)n[r>>>3]|=parseInt(t.substr(r,2),16)<<24-r%8*4;return new s.init(n,e/2)}},l=a.Latin1={stringify:function(t){for(var e=t.words,n=t.sigBytes,r=[],i=0;i<n;i++){var o=e[i>>>2]>>>24-i%4*8&255;r.push(String.fromCharCode(o))}return r.join("")},parse:function(t){for(var e=t.length,n=[],r=0;r<e;r++)n[r>>>2]|=(255&t.charCodeAt(r))<<24-r%4*8;return new s.init(n,e)}},c=a.Utf8={stringify:function(t){try{return decodeURIComponent(escape(l.stringify(t)))}catch(t){throw new Error("Malformed UTF-8 data")}},parse:function(t){return l.parse(unescape(encodeURIComponent(t)))}},h=i.BufferedBlockAlgorithm=o.extend({reset:function(){this._data=new s.init,this._nDataBytes=0},_append:function(t){"string"==typeof t&&(t=c.parse(t)),this._data.concat(t),this._nDataBytes+=t.sigBytes},_process:function(t){var e=this._data,r=e.words,i=e.sigBytes,o=this.blockSize,a=i/(4*o),u=(a=t?n.ceil(a):n.max((0|a)-this._minBufferSize,0))*o,l=n.min(4*u,i);if(u){for(var c=0;c<u;c+=o)this._doProcessBlock(r,c);var h=r.splice(0,u);e.sigBytes-=l}return new s.init(h,l)},clone:function(){var t=o.clone.call(this);return t._data=this._data.clone(),t},_minBufferSize:0}),i.Hasher=h.extend({cfg:o.extend(),init:function(t){this.cfg=this.cfg.extend(t),this.reset()},reset:function(){h.reset.call(this),this._doReset()},update:function(t){return this._append(t),this._process(),this},finalize:function(t){return t&&this._append(t),this._doFinalize()},blockSize:16,_createHelper:function(t){return function(e,n){return new t.init(n).finalize(e)}},_createHmacHelper:function(t){return function(e,n){return new f.HMAC.init(t,n).finalize(e)}}}),f=r.algo={},r);!function(t){var e,n=(e=g).lib,r=n.Base,i=n.WordArray;(e=e.x64={}).Word=r.extend({init:function(t,e){this.high=t,this.low=e}}),e.WordArray=r.extend({init:function(t,e){t=this.words=t||[],this.sigBytes=null!=e?e:8*t.length},toX32:function(){for(var t=this.words,e=t.length,n=[],r=0;r<e;r++){var o=t[r];n.push(o.high),n.push(o.low)}return i.create(n,this.sigBytes)},clone:function(){for(var t=r.clone.call(this),e=t.words=this.words.slice(0),n=e.length,i=0;i<n;i++)e[i]=e[i].clone();return t}})}(),g.lib.Cipher||function(t){var e=(p=g).lib,n=e.Base,r=e.WordArray,i=e.BufferedBlockAlgorithm,o=p.enc.Base64,s=p.algo.EvpKDF,a=e.Cipher=i.extend({cfg:n.extend(),createEncryptor:function(t,e){return this.create(this._ENC_XFORM_MODE,t,e)},createDecryptor:function(t,e){return this.create(this._DEC_XFORM_MODE,t,e)},init:function(t,e,n){this.cfg=this.cfg.extend(n),this._xformMode=t,this._key=e,this.reset()},reset:function(){i.reset.call(this),this._doReset()},process:function(t){return this._append(t),this._process()},finalize:function(t){return t&&this._append(t),this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(t){return{encrypt:function(e,n,r){return("string"==typeof n?d:f).encrypt(t,e,n,r)},decrypt:function(e,n,r){return("string"==typeof n?d:f).decrypt(t,e,n,r)}}}});e.StreamCipher=a.extend({_doFinalize:function(){return this._process(!0)},blockSize:1});var u=p.mode={},l=function(t,e,n){var r=this._iv;r?this._iv=void 0:r=this._prevBlock;for(var i=0;i<n;i++)t[e+i]^=r[i]},c=(e.BlockCipherMode=n.extend({createEncryptor:function(t,e){return this.Encryptor.create(t,e)},createDecryptor:function(t,e){return this.Decryptor.create(t,e)},init:function(t,e){this._cipher=t,this._iv=e}})).extend();c.Encryptor=c.extend({processBlock:function(t,e){var n=this._cipher,r=n.blockSize;l.call(this,t,e,r),n.encryptBlock(t,e),this._prevBlock=t.slice(e,e+r)}}),c.Decryptor=c.extend({processBlock:function(t,e){var n=this._cipher,r=n.blockSize,i=t.slice(e,e+r);n.decryptBlock(t,e),l.call(this,t,e,r),this._prevBlock=i}}),u=u.CBC=c,c=(p.pad={}).Pkcs7={pad:function(t,e){for(var n,i=(n=(n=4*e)-t.sigBytes%n)<<24|n<<16|n<<8|n,o=[],s=0;s<n;s+=4)o.push(i);n=r.create(o,n),t.concat(n)},unpad:function(t){t.sigBytes-=255&t.words[t.sigBytes-1>>>2]}},e.BlockCipher=a.extend({cfg:a.cfg.extend({mode:u,padding:c}),reset:function(){a.reset.call(this);var t=(e=this.cfg).iv,e=e.mode;if(this._xformMode==this._ENC_XFORM_MODE)var n=e.createEncryptor;else n=e.createDecryptor,this._minBufferSize=1;this._mode=n.call(e,this,t&&t.words)},_doProcessBlock:function(t,e){this._mode.processBlock(t,e)},_doFinalize:function(){var t=this.cfg.padding;if(this._xformMode==this._ENC_XFORM_MODE){t.pad(this._data,this.blockSize);var e=this._process(!0)}else e=this._process(!0),t.unpad(e);return e},blockSize:4});var h=e.CipherParams=n.extend({init:function(t){this.mixIn(t)},toString:function(t){return(t||this.formatter).stringify(this)}}),f=(u=(p.format={}).OpenSSL={stringify:function(t){var e=t.ciphertext;return((t=t.salt)?r.create([1398893684,1701076831]).concat(t).concat(e):e).toString(o)},parse:function(t){var e=(t=o.parse(t)).words;if(1398893684==e[0]&&1701076831==e[1]){var n=r.create(e.slice(2,4));e.splice(0,4),t.sigBytes-=16}return h.create({ciphertext:t,salt:n})}},e.SerializableCipher=n.extend({cfg:n.extend({format:u}),encrypt:function(t,e,n,r){r=this.cfg.extend(r);var i=t.createEncryptor(n,r);return e=i.finalize(e),i=i.cfg,h.create({ciphertext:e,key:n,iv:i.iv,algorithm:t,mode:i.mode,padding:i.padding,blockSize:t.blockSize,formatter:r.format})},decrypt:function(t,e,n,r){return r=this.cfg.extend(r),e=this._parse(e,r.format),t.createDecryptor(n,r).finalize(e.ciphertext)},_parse:function(t,e){return"string"==typeof t?e.parse(t,this):t}})),p=(p.kdf={}).OpenSSL={execute:function(t,e,n,i){return i||(i=r.random(8)),t=s.create({keySize:e+n}).compute(t,i),n=r.create(t.words.slice(e),4*n),t.sigBytes=4*e,h.create({key:t,iv:n,salt:i})}},d=e.PasswordBasedCipher=f.extend({cfg:f.cfg.extend({kdf:p}),encrypt:function(t,e,n,r){return n=(r=this.cfg.extend(r)).kdf.execute(n,t.keySize,t.ivSize),r.iv=n.iv,(t=f.encrypt.call(this,t,e,n.key,r)).mixIn(n),t},decrypt:function(t,e,n,r){return r=this.cfg.extend(r),e=this._parse(e,r.format),n=r.kdf.execute(n,t.keySize,t.ivSize,e.salt),r.iv=n.iv,f.decrypt.call(this,t,e,n.key,r)}})}(),function(){for(var t=g,e=t.lib.BlockCipher,n=t.algo,r=[],i=[],o=[],s=[],a=[],u=[],l=[],c=[],h=[],f=[],p=[],d=0;256>d;d++)p[d]=128>d?d<<1:d<<1^283;var v=0,m=0;for(d=0;256>d;d++){var y=(y=m^m<<1^m<<2^m<<3^m<<4)>>>8^255&y^99;r[v]=y,i[y]=v;var b=p[v],w=p[b],x=p[w],S=257*p[y]^16843008*y;o[v]=S<<24|S>>>8,s[v]=S<<16|S>>>16,a[v]=S<<8|S>>>24,u[v]=S,S=16843009*x^65537*w^257*b^16843008*v,l[y]=S<<24|S>>>8,c[y]=S<<16|S>>>16,h[y]=S<<8|S>>>24,f[y]=S,v?(v=b^p[p[p[x^b]]],m^=p[p[m]]):v=m=1}var E=[0,1,2,4,8,16,32,64,128,27,54];n=n.AES=e.extend({_doReset:function(){for(var t=(n=this._key).words,e=n.sigBytes/4,n=4*((this._nRounds=e+6)+1),i=this._keySchedule=[],o=0;o<n;o++)if(o<e)i[o]=t[o];else{var s=i[o-1];o%e?6<e&&4==o%e&&(s=r[s>>>24]<<24|r[s>>>16&255]<<16|r[s>>>8&255]<<8|r[255&s]):(s=r[(s=s<<8|s>>>24)>>>24]<<24|r[s>>>16&255]<<16|r[s>>>8&255]<<8|r[255&s],s^=E[o/e|0]<<24),i[o]=i[o-e]^s}for(t=this._invKeySchedule=[],e=0;e<n;e++)o=n-e,s=e%4?i[o]:i[o-4],t[e]=4>e||4>=o?s:l[r[s>>>24]]^c[r[s>>>16&255]]^h[r[s>>>8&255]]^f[r[255&s]]},encryptBlock:function(t,e){this._doCryptBlock(t,e,this._keySchedule,o,s,a,u,r)},decryptBlock:function(t,e){var n=t[e+1];t[e+1]=t[e+3],t[e+3]=n,this._doCryptBlock(t,e,this._invKeySchedule,l,c,h,f,i),n=t[e+1],t[e+1]=t[e+3],t[e+3]=n},_doCryptBlock:function(t,e,n,r,i,o,s,a){for(var u=this._nRounds,l=t[e]^n[0],c=t[e+1]^n[1],h=t[e+2]^n[2],f=t[e+3]^n[3],p=4,d=1;d<u;d++){var g=r[l>>>24]^i[c>>>16&255]^o[h>>>8&255]^s[255&f]^n[p++],v=r[c>>>24]^i[h>>>16&255]^o[f>>>8&255]^s[255&l]^n[p++],m=r[h>>>24]^i[f>>>16&255]^o[l>>>8&255]^s[255&c]^n[p++];f=r[f>>>24]^i[l>>>16&255]^o[c>>>8&255]^s[255&h]^n[p++],l=g,c=v,h=m}g=(a[l>>>24]<<24|a[c>>>16&255]<<16|a[h>>>8&255]<<8|a[255&f])^n[p++],v=(a[c>>>24]<<24|a[h>>>16&255]<<16|a[f>>>8&255]<<8|a[255&l])^n[p++],m=(a[h>>>24]<<24|a[f>>>16&255]<<16|a[l>>>8&255]<<8|a[255&c])^n[p++],f=(a[f>>>24]<<24|a[l>>>16&255]<<16|a[c>>>8&255]<<8|a[255&h])^n[p++],t[e]=g,t[e+1]=v,t[e+2]=m,t[e+3]=f},keySize:8});t.AES=e._createHelper(n)}(),function(){function t(t,e){var n=(this._lBlock>>>t^this._rBlock)&e;this._rBlock^=n,this._lBlock^=n<<t}function e(t,e){var n=(this._rBlock>>>t^this._lBlock)&e;this._lBlock^=n,this._rBlock^=n<<t}var n=g,r=(i=n.lib).WordArray,i=i.BlockCipher,o=n.algo,s=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],a=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],u=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],l=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],c=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],h=o.DES=i.extend({_doReset:function(){for(var t=this._key.words,e=[],n=0;56>n;n++){var r=s[n]-1;e[n]=t[r>>>5]>>>31-r%32&1}for(t=this._subKeys=[],r=0;16>r;r++){var i=t[r]=[],o=u[r];for(n=0;24>n;n++)i[n/6|0]|=e[(a[n]-1+o)%28]<<31-n%6,i[4+(n/6|0)]|=e[28+(a[n+24]-1+o)%28]<<31-n%6;for(i[0]=i[0]<<1|i[0]>>>31,n=1;7>n;n++)i[n]>>>=4*(n-1)+3;i[7]=i[7]<<5|i[7]>>>27}for(e=this._invSubKeys=[],n=0;16>n;n++)e[n]=t[15-n]},encryptBlock:function(t,e){this._doCryptBlock(t,e,this._subKeys)},decryptBlock:function(t,e){this._doCryptBlock(t,e,this._invSubKeys)},_doCryptBlock:function(n,r,i){this._lBlock=n[r],this._rBlock=n[r+1],t.call(this,4,252645135),t.call(this,16,65535),e.call(this,2,858993459),e.call(this,8,16711935),t.call(this,1,1431655765);for(var o=0;16>o;o++){for(var s=i[o],a=this._lBlock,u=this._rBlock,h=0,f=0;8>f;f++)h|=l[f][((u^s[f])&c[f])>>>0];this._lBlock=u,this._rBlock=a^h}i=this._lBlock,this._lBlock=this._rBlock,this._rBlock=i,t.call(this,1,1431655765),e.call(this,8,16711935),e.call(this,2,858993459),t.call(this,16,65535),t.call(this,4,252645135),n[r]=this._lBlock,n[r+1]=this._rBlock},keySize:2,ivSize:2,blockSize:2});n.DES=i._createHelper(h),o=o.TripleDES=i.extend({_doReset:function(){var t=this._key.words;this._des1=h.createEncryptor(r.create(t.slice(0,2))),this._des2=h.createEncryptor(r.create(t.slice(2,4))),this._des3=h.createEncryptor(r.create(t.slice(4,6)))},encryptBlock:function(t,e){this._des1.encryptBlock(t,e),this._des2.decryptBlock(t,e),this._des3.encryptBlock(t,e)},decryptBlock:function(t,e){this._des3.decryptBlock(t,e),this._des2.encryptBlock(t,e),this._des1.decryptBlock(t,e)},keySize:6,ivSize:2,blockSize:2}),n.TripleDES=i._createHelper(o)}(),function(){var t=g,e=t.lib.WordArray;t.enc.Base64={stringify:function(t){var e=t.words,n=t.sigBytes,r=this._map;t.clamp(),t=[];for(var i=0;i<n;i+=3)for(var o=(e[i>>>2]>>>24-i%4*8&255)<<16|(e[i+1>>>2]>>>24-(i+1)%4*8&255)<<8|e[i+2>>>2]>>>24-(i+2)%4*8&255,s=0;4>s&&i+.75*s<n;s++)t.push(r.charAt(o>>>6*(3-s)&63));if(e=r.charAt(64))for(;t.length%4;)t.push(e);return t.join("")},parse:function(t){var n=t.length,r=this._map;(i=r.charAt(64))&&(-1!=(i=t.indexOf(i))&&(n=i));for(var i=[],o=0,s=0;s<n;s++)if(s%4){var a=r.indexOf(t.charAt(s-1))<<s%4*2,u=r.indexOf(t.charAt(s))>>>6-s%4*2;i[o>>>2]|=(a|u)<<24-o%4*8,o++}return e.create(i,o)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}}(),function(t){function e(t,e,n,r,i,o,s){return((t=t+(e&n|~e&r)+i+s)<<o|t>>>32-o)+e}function n(t,e,n,r,i,o,s){return((t=t+(e&r|n&~r)+i+s)<<o|t>>>32-o)+e}function r(t,e,n,r,i,o,s){return((t=t+(e^n^r)+i+s)<<o|t>>>32-o)+e}function i(t,e,n,r,i,o,s){return((t=t+(n^(e|~r))+i+s)<<o|t>>>32-o)+e}for(var o=g,s=(u=o.lib).WordArray,a=u.Hasher,u=o.algo,l=[],c=0;64>c;c++)l[c]=4294967296*t.abs(t.sin(c+1))|0;u=u.MD5=a.extend({_doReset:function(){this._hash=new s.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(t,o){for(var s=0;16>s;s++){var a=t[u=o+s];t[u]=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8)}s=this._hash.words;var u=t[o+0],c=(a=t[o+1],t[o+2]),h=t[o+3],f=t[o+4],p=t[o+5],d=t[o+6],g=t[o+7],v=t[o+8],m=t[o+9],y=t[o+10],b=t[o+11],w=t[o+12],x=t[o+13],S=t[o+14],E=t[o+15],A=e(A=s[0],P=s[1],F=s[2],C=s[3],u,7,l[0]),C=e(C,A,P,F,a,12,l[1]),F=e(F,C,A,P,c,17,l[2]),P=e(P,F,C,A,h,22,l[3]);A=e(A,P,F,C,f,7,l[4]),C=e(C,A,P,F,p,12,l[5]),F=e(F,C,A,P,d,17,l[6]),P=e(P,F,C,A,g,22,l[7]),A=e(A,P,F,C,v,7,l[8]),C=e(C,A,P,F,m,12,l[9]),F=e(F,C,A,P,y,17,l[10]),P=e(P,F,C,A,b,22,l[11]),A=e(A,P,F,C,w,7,l[12]),C=e(C,A,P,F,x,12,l[13]),F=e(F,C,A,P,S,17,l[14]),A=n(A,P=e(P,F,C,A,E,22,l[15]),F,C,a,5,l[16]),C=n(C,A,P,F,d,9,l[17]),F=n(F,C,A,P,b,14,l[18]),P=n(P,F,C,A,u,20,l[19]),A=n(A,P,F,C,p,5,l[20]),C=n(C,A,P,F,y,9,l[21]),F=n(F,C,A,P,E,14,l[22]),P=n(P,F,C,A,f,20,l[23]),A=n(A,P,F,C,m,5,l[24]),C=n(C,A,P,F,S,9,l[25]),F=n(F,C,A,P,h,14,l[26]),P=n(P,F,C,A,v,20,l[27]),A=n(A,P,F,C,x,5,l[28]),C=n(C,A,P,F,c,9,l[29]),F=n(F,C,A,P,g,14,l[30]),A=r(A,P=n(P,F,C,A,w,20,l[31]),F,C,p,4,l[32]),C=r(C,A,P,F,v,11,l[33]),F=r(F,C,A,P,b,16,l[34]),P=r(P,F,C,A,S,23,l[35]),A=r(A,P,F,C,a,4,l[36]),C=r(C,A,P,F,f,11,l[37]),F=r(F,C,A,P,g,16,l[38]),P=r(P,F,C,A,y,23,l[39]),A=r(A,P,F,C,x,4,l[40]),C=r(C,A,P,F,u,11,l[41]),F=r(F,C,A,P,h,16,l[42]),P=r(P,F,C,A,d,23,l[43]),A=r(A,P,F,C,m,4,l[44]),C=r(C,A,P,F,w,11,l[45]),F=r(F,C,A,P,E,16,l[46]),A=i(A,P=r(P,F,C,A,c,23,l[47]),F,C,u,6,l[48]),C=i(C,A,P,F,g,10,l[49]),F=i(F,C,A,P,S,15,l[50]),P=i(P,F,C,A,p,21,l[51]),A=i(A,P,F,C,w,6,l[52]),C=i(C,A,P,F,h,10,l[53]),F=i(F,C,A,P,y,15,l[54]),P=i(P,F,C,A,a,21,l[55]),A=i(A,P,F,C,v,6,l[56]),C=i(C,A,P,F,E,10,l[57]),F=i(F,C,A,P,d,15,l[58]),P=i(P,F,C,A,x,21,l[59]),A=i(A,P,F,C,f,6,l[60]),C=i(C,A,P,F,b,10,l[61]),F=i(F,C,A,P,c,15,l[62]),P=i(P,F,C,A,m,21,l[63]);s[0]=s[0]+A|0,s[1]=s[1]+P|0,s[2]=s[2]+F|0,s[3]=s[3]+C|0},_doFinalize:function(){var e=this._data,n=e.words,r=8*this._nDataBytes,i=8*e.sigBytes;n[i>>>5]|=128<<24-i%32;var o=t.floor(r/4294967296);for(n[15+(i+64>>>9<<4)]=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8),n[14+(i+64>>>9<<4)]=16711935&(r<<8|r>>>24)|4278255360&(r<<24|r>>>8),e.sigBytes=4*(n.length+1),this._process(),n=(e=this._hash).words,r=0;4>r;r++)i=n[r],n[r]=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8);return e},clone:function(){var t=a.clone.call(this);return t._hash=this._hash.clone(),t}}),o.MD5=a._createHelper(u),o.HmacMD5=a._createHmacHelper(u)}(Math),function(){var t=g,e=(i=t.lib).WordArray,n=i.Hasher,r=[],i=t.algo.SHA1=n.extend({_doReset:function(){this._hash=new e.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(t,e){for(var n=this._hash.words,i=n[0],o=n[1],s=n[2],a=n[3],u=n[4],l=0;80>l;l++){if(16>l)r[l]=0|t[e+l];else{var c=r[l-3]^r[l-8]^r[l-14]^r[l-16];r[l]=c<<1|c>>>31}c=(i<<5|i>>>27)+u+r[l],c=20>l?c+(1518500249+(o&s|~o&a)):40>l?c+(1859775393+(o^s^a)):60>l?c+((o&s|o&a|s&a)-1894007588):c+((o^s^a)-899497514),u=a,a=s,s=o<<30|o>>>2,o=i,i=c}n[0]=n[0]+i|0,n[1]=n[1]+o|0,n[2]=n[2]+s|0,n[3]=n[3]+a|0,n[4]=n[4]+u|0},_doFinalize:function(){var t=this._data,e=t.words,n=8*this._nDataBytes,r=8*t.sigBytes;return e[r>>>5]|=128<<24-r%32,e[14+(r+64>>>9<<4)]=Math.floor(n/4294967296),e[15+(r+64>>>9<<4)]=n,t.sigBytes=4*e.length,this._process(),this._hash},clone:function(){var t=n.clone.call(this);return t._hash=this._hash.clone(),t}});t.SHA1=n._createHelper(i),t.HmacSHA1=n._createHmacHelper(i)}(),function(t){for(var e=g,n=(i=e.lib).WordArray,r=i.Hasher,i=e.algo,o=[],s=[],a=function(t){return 4294967296*(t-(0|t))|0},u=2,l=0;64>l;){var c;t:{c=u;for(var h=t.sqrt(c),f=2;f<=h;f++)if(!(c%f)){c=!1;break t}c=!0}c&&(8>l&&(o[l]=a(t.pow(u,.5))),s[l]=a(t.pow(u,1/3)),l++),u++}var p=[];i=i.SHA256=r.extend({_doReset:function(){this._hash=new n.init(o.slice(0))},_doProcessBlock:function(t,e){for(var n=this._hash.words,r=n[0],i=n[1],o=n[2],a=n[3],u=n[4],l=n[5],c=n[6],h=n[7],f=0;64>f;f++){if(16>f)p[f]=0|t[e+f];else{var d=p[f-15],g=p[f-2];p[f]=((d<<25|d>>>7)^(d<<14|d>>>18)^d>>>3)+p[f-7]+((g<<15|g>>>17)^(g<<13|g>>>19)^g>>>10)+p[f-16]}d=h+((u<<26|u>>>6)^(u<<21|u>>>11)^(u<<7|u>>>25))+(u&l^~u&c)+s[f]+p[f],g=((r<<30|r>>>2)^(r<<19|r>>>13)^(r<<10|r>>>22))+(r&i^r&o^i&o),h=c,c=l,l=u,u=a+d|0,a=o,o=i,i=r,r=d+g|0}n[0]=n[0]+r|0,n[1]=n[1]+i|0,n[2]=n[2]+o|0,n[3]=n[3]+a|0,n[4]=n[4]+u|0,n[5]=n[5]+l|0,n[6]=n[6]+c|0,n[7]=n[7]+h|0},_doFinalize:function(){var e=this._data,n=e.words,r=8*this._nDataBytes,i=8*e.sigBytes;return n[i>>>5]|=128<<24-i%32,n[14+(i+64>>>9<<4)]=t.floor(r/4294967296),n[15+(i+64>>>9<<4)]=r,e.sigBytes=4*n.length,this._process(),this._hash},clone:function(){var t=r.clone.call(this);return t._hash=this._hash.clone(),t}});e.SHA256=r._createHelper(i),e.HmacSHA256=r._createHmacHelper(i)}(Math),function(){var t=g,e=t.lib.WordArray,n=(r=t.algo).SHA256,r=r.SHA224=n.extend({_doReset:function(){this._hash=new e.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var t=n._doFinalize.call(this);return t.sigBytes-=4,t}});t.SHA224=n._createHelper(r),t.HmacSHA224=n._createHmacHelper(r)}(),function(){function t(){return r.create.apply(r,arguments)}for(var e=g,n=e.lib.Hasher,r=(o=e.x64).Word,i=o.WordArray,o=e.algo,s=[t(1116352408,3609767458),t(1899447441,602891725),t(3049323471,3964484399),t(3921009573,2173295548),t(961987163,4081628472),t(1508970993,3053834265),t(2453635748,2937671579),t(2870763221,3664609560),t(3624381080,2734883394),t(310598401,1164996542),t(607225278,1323610764),t(1426881987,3590304994),t(1925078388,4068182383),t(2162078206,991336113),t(2614888103,633803317),t(3248222580,3479774868),t(3835390401,2666613458),t(4022224774,944711139),t(264347078,2341262773),t(604807628,2007800933),t(770255983,1495990901),t(1249150122,1856431235),t(1555081692,3175218132),t(1996064986,2198950837),t(2554220882,3999719339),t(2821834349,766784016),t(2952996808,2566594879),t(3210313671,3203337956),t(3336571891,1034457026),t(3584528711,2466948901),t(113926993,3758326383),t(338241895,168717936),t(666307205,1188179964),t(773529912,1546045734),t(1294757372,1522805485),t(1396182291,2643833823),t(1695183700,2343527390),t(1986661051,1014477480),t(2177026350,1206759142),t(2456956037,344077627),t(2730485921,1290863460),t(2820302411,3158454273),t(3259730800,3505952657),t(3345764771,106217008),t(3516065817,3606008344),t(3600352804,1432725776),t(4094571909,1467031594),t(275423344,851169720),t(430227734,3100823752),t(506948616,1363258195),t(659060556,3750685593),t(883997877,3785050280),t(958139571,3318307427),t(1322822218,3812723403),t(1537002063,2003034995),t(1747873779,3602036899),t(1955562222,1575990012),t(2024104815,1125592928),t(2227730452,2716904306),t(2361852424,442776044),t(2428436474,593698344),t(2756734187,3733110249),t(3204031479,2999351573),t(3329325298,3815920427),t(3391569614,3928383900),t(3515267271,566280711),t(3940187606,3454069534),t(4118630271,4000239992),t(116418474,1914138554),t(174292421,2731055270),t(289380356,3203993006),t(460393269,320620315),t(685471733,587496836),t(852142971,1086792851),t(1017036298,365543100),t(1126000580,2618297676),t(1288033470,3409855158),t(1501505948,4234509866),t(1607167915,987167468),t(1816402316,1246189591)],a=[],u=0;80>u;u++)a[u]=t();o=o.SHA512=n.extend({_doReset:function(){this._hash=new i.init([new r.init(1779033703,4089235720),new r.init(3144134277,2227873595),new r.init(1013904242,4271175723),new r.init(2773480762,1595750129),new r.init(1359893119,2917565137),new r.init(2600822924,725511199),new r.init(528734635,4215389547),new r.init(1541459225,327033209)])},_doProcessBlock:function(t,e){for(var n=(h=this._hash.words)[0],r=h[1],i=h[2],o=h[3],u=h[4],l=h[5],c=h[6],h=h[7],f=n.high,p=n.low,d=r.high,g=r.low,v=i.high,m=i.low,y=o.high,b=o.low,w=u.high,x=u.low,S=l.high,E=l.low,A=c.high,C=c.low,F=h.high,P=h.low,k=f,T=p,_=d,I=g,D=v,N=m,R=y,O=b,j=w,B=x,H=S,L=E,M=A,$=C,U=F,V=P,q=0;80>q;q++){var K=a[q];if(16>q)var z=K.high=0|t[e+2*q],G=K.low=0|t[e+2*q+1];else{z=((G=(z=a[q-15]).high)>>>1|(W=z.low)<<31)^(G>>>8|W<<24)^G>>>7;var W=(W>>>1|G<<31)^(W>>>8|G<<24)^(W>>>7|G<<25),Y=((G=(Y=a[q-2]).high)>>>19|(X=Y.low)<<13)^(G<<3|X>>>29)^G>>>6,X=(X>>>19|G<<13)^(X<<3|G>>>29)^(X>>>6|G<<26),J=(G=a[q-7]).high,Q=(Z=a[q-16]).high,Z=Z.low;z=(z=(z=z+J+((G=W+G.low)>>>0<W>>>0?1:0))+Y+((G=G+X)>>>0<X>>>0?1:0))+Q+((G=G+Z)>>>0<Z>>>0?1:0);K.high=z,K.low=G}J=j&H^~j&M,Z=B&L^~B&$,K=k&_^k&D^_&D;var tt=T&I^T&N^I&N,et=(W=(k>>>28|T<<4)^(k<<30|T>>>2)^(k<<25|T>>>7),Y=(T>>>28|k<<4)^(T<<30|k>>>2)^(T<<25|k>>>7),(X=s[q]).high),nt=X.low;Q=U+((j>>>14|B<<18)^(j>>>18|B<<14)^(j<<23|B>>>9))+((X=V+((B>>>14|j<<18)^(B>>>18|j<<14)^(B<<23|j>>>9)))>>>0<V>>>0?1:0),U=M,V=$,M=H,$=L,H=j,L=B,j=R+(Q=(Q=(Q=Q+J+((X=X+Z)>>>0<Z>>>0?1:0))+et+((X=X+nt)>>>0<nt>>>0?1:0))+z+((X=X+G)>>>0<G>>>0?1:0))+((B=O+X|0)>>>0<O>>>0?1:0)|0,R=D,O=N,D=_,N=I,_=k,I=T,k=Q+(K=W+K+((G=Y+tt)>>>0<Y>>>0?1:0))+((T=X+G|0)>>>0<X>>>0?1:0)|0}p=n.low=p+T,n.high=f+k+(p>>>0<T>>>0?1:0),g=r.low=g+I,r.high=d+_+(g>>>0<I>>>0?1:0),m=i.low=m+N,i.high=v+D+(m>>>0<N>>>0?1:0),b=o.low=b+O,o.high=y+R+(b>>>0<O>>>0?1:0),x=u.low=x+B,u.high=w+j+(x>>>0<B>>>0?1:0),E=l.low=E+L,l.high=S+H+(E>>>0<L>>>0?1:0),C=c.low=C+$,c.high=A+M+(C>>>0<$>>>0?1:0),P=h.low=P+V,h.high=F+U+(P>>>0<V>>>0?1:0)},_doFinalize:function(){var t=this._data,e=t.words,n=8*this._nDataBytes,r=8*t.sigBytes;return e[r>>>5]|=128<<24-r%32,e[30+(r+128>>>10<<5)]=Math.floor(n/4294967296),e[31+(r+128>>>10<<5)]=n,t.sigBytes=4*e.length,this._process(),this._hash.toX32()},clone:function(){var t=n.clone.call(this);return t._hash=this._hash.clone(),t},blockSize:32}),e.SHA512=n._createHelper(o),e.HmacSHA512=n._createHmacHelper(o)}(),function(){var t=g,e=(i=t.x64).Word,n=i.WordArray,r=(i=t.algo).SHA512,i=i.SHA384=r.extend({_doReset:function(){this._hash=new n.init([new e.init(3418070365,3238371032),new e.init(1654270250,914150663),new e.init(2438529370,812702999),new e.init(355462360,4144912697),new e.init(1731405415,4290775857),new e.init(2394180231,1750603025),new e.init(3675008525,1694076839),new e.init(1203062813,3204075428)])},_doFinalize:function(){var t=r._doFinalize.call(this);return t.sigBytes-=16,t}});t.SHA384=r._createHelper(i),t.HmacSHA384=r._createHmacHelper(i)}(),function(){var t=g,e=(r=t.lib).WordArray,n=r.Hasher,r=t.algo,i=e.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),o=e.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),s=e.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),a=e.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),u=e.create([0,1518500249,1859775393,2400959708,2840853838]),l=e.create([1352829926,1548603684,1836072691,2053994217,0]);r=r.RIPEMD160=n.extend({_doReset:function(){this._hash=e.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(t,e){for(var n=0;16>n;n++){var r=t[w=e+n];t[w]=16711935&(r<<8|r>>>24)|4278255360&(r<<24|r>>>8)}var c,h,f,p,d,g,v,m,y,b,w=this._hash.words,x=(r=u.words,l.words),S=i.words,E=o.words,A=s.words,C=a.words;g=c=w[0],v=h=w[1],m=f=w[2],y=p=w[3],b=d=w[4];var F;for(n=0;80>n;n+=1)F=c+t[e+S[n]]|0,F=16>n?F+((h^f^p)+r[0]):32>n?F+((h&f|~h&p)+r[1]):48>n?F+(((h|~f)^p)+r[2]):64>n?F+((h&p|f&~p)+r[3]):F+((h^(f|~p))+r[4]),F=(F=(F|=0)<<A[n]|F>>>32-A[n])+d|0,c=d,d=p,p=f<<10|f>>>22,f=h,h=F,F=g+t[e+E[n]]|0,F=16>n?F+((v^(m|~y))+x[0]):32>n?F+((v&y|m&~y)+x[1]):48>n?F+(((v|~m)^y)+x[2]):64>n?F+((v&m|~v&y)+x[3]):F+((v^m^y)+x[4]),F=(F=(F|=0)<<C[n]|F>>>32-C[n])+b|0,g=b,b=y,y=m<<10|m>>>22,m=v,v=F;F=w[1]+f+y|0,w[1]=w[2]+p+b|0,w[2]=w[3]+d+g|0,w[3]=w[4]+c+v|0,w[4]=w[0]+h+m|0,w[0]=F},_doFinalize:function(){var t=this._data,e=t.words,n=8*this._nDataBytes,r=8*t.sigBytes;for(e[r>>>5]|=128<<24-r%32,e[14+(r+64>>>9<<4)]=16711935&(n<<8|n>>>24)|4278255360&(n<<24|n>>>8),t.sigBytes=4*(e.length+1),this._process(),e=(t=this._hash).words,n=0;5>n;n++)r=e[n],e[n]=16711935&(r<<8|r>>>24)|4278255360&(r<<24|r>>>8);return t},clone:function(){var t=n.clone.call(this);return t._hash=this._hash.clone(),t}});t.RIPEMD160=n._createHelper(r),t.HmacRIPEMD160=n._createHmacHelper(r)}(Math),function(){var t=g,e=t.enc.Utf8;t.algo.HMAC=t.lib.Base.extend({init:function(t,n){t=this._hasher=new t.init,"string"==typeof n&&(n=e.parse(n));var r=t.blockSize,i=4*r;n.sigBytes>i&&(n=t.finalize(n)),n.clamp();for(var o=this._oKey=n.clone(),s=this._iKey=n.clone(),a=o.words,u=s.words,l=0;l<r;l++)a[l]^=1549556828,u[l]^=909522486;o.sigBytes=s.sigBytes=i,this.reset()},reset:function(){var t=this._hasher;t.reset(),t.update(this._iKey)},update:function(t){return this._hasher.update(t),this},finalize:function(t){var e=this._hasher;return t=e.finalize(t),e.reset(),e.finalize(this._oKey.clone().concat(t))}})}(),function(){var t,e=g,n=(t=e.lib).Base,r=t.WordArray,i=(t=e.algo).HMAC,o=t.PBKDF2=n.extend({cfg:n.extend({keySize:4,hasher:t.SHA1,iterations:1}),init:function(t){this.cfg=this.cfg.extend(t)},compute:function(t,e){var n=this.cfg,o=i.create(n.hasher,t),s=r.create(),a=r.create([1]),u=s.words,l=a.words,c=n.keySize;for(n=n.iterations;u.length<c;){var h=o.update(e).finalize(a);o.reset();for(var f=h.words,p=f.length,d=h,g=1;g<n;g++){d=o.finalize(d),o.reset();for(var v=d.words,m=0;m<p;m++)f[m]^=v[m]}s.concat(h),l[0]++}return s.sigBytes=4*c,s}});e.PBKDF2=function(t,e,n){return o.create(n).compute(t,e)}}();
/*! (c) Tom Wu | http://www-cs-students.stanford.edu/~tjw/jsbn/
 */
var v,m="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";function y(t){var e,n,r="";for(e=0;e+3<=t.length;e+=3)n=parseInt(t.substring(e,e+3),16),r+=m.charAt(n>>6)+m.charAt(63&n);for(e+1==t.length?(n=parseInt(t.substring(e,e+1),16),r+=m.charAt(n<<2)):e+2==t.length&&(n=parseInt(t.substring(e,e+2),16),r+=m.charAt(n>>2)+m.charAt((3&n)<<4)),"=";(3&r.length)>0;)r+="=";return r}function b(t){var e,n,r,i="",o=0;for(e=0;e<t.length&&"="!=t.charAt(e);++e)(r=m.indexOf(t.charAt(e)))<0||(0==o?(i+=F(r>>2),n=3&r,o=1):1==o?(i+=F(n<<2|r>>4),n=15&r,o=2):2==o?(i+=F(n),i+=F(r>>2),n=3&r,o=3):(i+=F(n<<2|r>>4),i+=F(15&r),o=0));return 1==o&&(i+=F(n<<2)),i}function w(t){var e,n=b(t),r=new Array;for(e=0;2*e<n.length;++e)r[e]=parseInt(n.substring(2*e,2*e+2),16);return r}function x(t,e,n){null!=t&&("number"==typeof t?this.fromNumber(t,e,n):null==e&&"string"!=typeof t?this.fromString(t,256):this.fromString(t,e))}function S(){return new x(null)}"Microsoft Internet Explorer"==p.appName?(x.prototype.am=function(t,e,n,r,i,o){for(var s=32767&e,a=e>>15;--o>=0;){var u=32767&this[t],l=this[t++]>>15,c=a*u+l*s;i=((u=s*u+((32767&c)<<15)+n[r]+(1073741823&i))>>>30)+(c>>>15)+a*l+(i>>>30),n[r++]=1073741823&u}return i},v=30):"Netscape"!=p.appName?(x.prototype.am=function(t,e,n,r,i,o){for(;--o>=0;){var s=e*this[t++]+n[r]+i;i=Math.floor(s/67108864),n[r++]=67108863&s}return i},v=26):(x.prototype.am=function(t,e,n,r,i,o){for(var s=16383&e,a=e>>14;--o>=0;){var u=16383&this[t],l=this[t++]>>14,c=a*u+l*s;i=((u=s*u+((16383&c)<<14)+n[r]+i)>>28)+(c>>14)+a*l,n[r++]=268435455&u}return i},v=28),x.prototype.DB=v,x.prototype.DM=(1<<v)-1,x.prototype.DV=1<<v;x.prototype.FV=Math.pow(2,52),x.prototype.F1=52-v,x.prototype.F2=2*v-52;var E,A,C=new Array;for(E="0".charCodeAt(0),A=0;A<=9;++A)C[E++]=A;for(E="a".charCodeAt(0),A=10;A<36;++A)C[E++]=A;for(E="A".charCodeAt(0),A=10;A<36;++A)C[E++]=A;function F(t){return"0123456789abcdefghijklmnopqrstuvwxyz".charAt(t)}function P(t,e){var n=C[t.charCodeAt(e)];return null==n?-1:n}function k(t){var e=S();return e.fromInt(t),e}function T(t){var e,n=1;return 0!=(e=t>>>16)&&(t=e,n+=16),0!=(e=t>>8)&&(t=e,n+=8),0!=(e=t>>4)&&(t=e,n+=4),0!=(e=t>>2)&&(t=e,n+=2),0!=(e=t>>1)&&(t=e,n+=1),n}function _(t){this.m=t}function I(t){this.m=t,this.mp=t.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<t.DB-15)-1,this.mt2=2*t.t}function D(t,e){return t&e}function N(t,e){return t|e}function R(t,e){return t^e}function O(t,e){return t&~e}function j(t){if(0==t)return-1;var e=0;return 0==(65535&t)&&(t>>=16,e+=16),0==(255&t)&&(t>>=8,e+=8),0==(15&t)&&(t>>=4,e+=4),0==(3&t)&&(t>>=2,e+=2),0==(1&t)&&++e,e}function B(t){for(var e=0;0!=t;)t&=t-1,++e;return e}function H(){}function L(t){return t}function M(t){this.r2=S(),this.q3=S(),x.ONE.dlShiftTo(2*t.t,this.r2),this.mu=this.r2.divide(t),this.m=t}_.prototype.convert=function(t){return t.s<0||t.compareTo(this.m)>=0?t.mod(this.m):t},_.prototype.revert=function(t){return t},_.prototype.reduce=function(t){t.divRemTo(this.m,null,t)},_.prototype.mulTo=function(t,e,n){t.multiplyTo(e,n),this.reduce(n)},_.prototype.sqrTo=function(t,e){t.squareTo(e),this.reduce(e)},I.prototype.convert=function(t){var e=S();return t.abs().dlShiftTo(this.m.t,e),e.divRemTo(this.m,null,e),t.s<0&&e.compareTo(x.ZERO)>0&&this.m.subTo(e,e),e},I.prototype.revert=function(t){var e=S();return t.copyTo(e),this.reduce(e),e},I.prototype.reduce=function(t){for(;t.t<=this.mt2;)t[t.t++]=0;for(var e=0;e<this.m.t;++e){var n=32767&t[e],r=n*this.mpl+((n*this.mph+(t[e]>>15)*this.mpl&this.um)<<15)&t.DM;for(t[n=e+this.m.t]+=this.m.am(0,r,t,e,0,this.m.t);t[n]>=t.DV;)t[n]-=t.DV,t[++n]++}t.clamp(),t.drShiftTo(this.m.t,t),t.compareTo(this.m)>=0&&t.subTo(this.m,t)},I.prototype.mulTo=function(t,e,n){t.multiplyTo(e,n),this.reduce(n)},I.prototype.sqrTo=function(t,e){t.squareTo(e),this.reduce(e)},x.prototype.copyTo=function(t){for(var e=this.t-1;e>=0;--e)t[e]=this[e];t.t=this.t,t.s=this.s},x.prototype.fromInt=function(t){this.t=1,this.s=t<0?-1:0,t>0?this[0]=t:t<-1?this[0]=t+this.DV:this.t=0},x.prototype.fromString=function(t,e){var n;if(16==e)n=4;else if(8==e)n=3;else if(256==e)n=8;else if(2==e)n=1;else if(32==e)n=5;else{if(4!=e)return void this.fromRadix(t,e);n=2}this.t=0,this.s=0;for(var r=t.length,i=!1,o=0;--r>=0;){var s=8==n?255&t[r]:P(t,r);s<0?"-"==t.charAt(r)&&(i=!0):(i=!1,0==o?this[this.t++]=s:o+n>this.DB?(this[this.t-1]|=(s&(1<<this.DB-o)-1)<<o,this[this.t++]=s>>this.DB-o):this[this.t-1]|=s<<o,(o+=n)>=this.DB&&(o-=this.DB))}8==n&&0!=(128&t[0])&&(this.s=-1,o>0&&(this[this.t-1]|=(1<<this.DB-o)-1<<o)),this.clamp(),i&&x.ZERO.subTo(this,this)},x.prototype.clamp=function(){for(var t=this.s&this.DM;this.t>0&&this[this.t-1]==t;)--this.t},x.prototype.dlShiftTo=function(t,e){var n;for(n=this.t-1;n>=0;--n)e[n+t]=this[n];for(n=t-1;n>=0;--n)e[n]=0;e.t=this.t+t,e.s=this.s},x.prototype.drShiftTo=function(t,e){for(var n=t;n<this.t;++n)e[n-t]=this[n];e.t=Math.max(this.t-t,0),e.s=this.s},x.prototype.lShiftTo=function(t,e){var n,r=t%this.DB,i=this.DB-r,o=(1<<i)-1,s=Math.floor(t/this.DB),a=this.s<<r&this.DM;for(n=this.t-1;n>=0;--n)e[n+s+1]=this[n]>>i|a,a=(this[n]&o)<<r;for(n=s-1;n>=0;--n)e[n]=0;e[s]=a,e.t=this.t+s+1,e.s=this.s,e.clamp()},x.prototype.rShiftTo=function(t,e){e.s=this.s;var n=Math.floor(t/this.DB);if(n>=this.t)e.t=0;else{var r=t%this.DB,i=this.DB-r,o=(1<<r)-1;e[0]=this[n]>>r;for(var s=n+1;s<this.t;++s)e[s-n-1]|=(this[s]&o)<<i,e[s-n]=this[s]>>r;r>0&&(e[this.t-n-1]|=(this.s&o)<<i),e.t=this.t-n,e.clamp()}},x.prototype.subTo=function(t,e){for(var n=0,r=0,i=Math.min(t.t,this.t);n<i;)r+=this[n]-t[n],e[n++]=r&this.DM,r>>=this.DB;if(t.t<this.t){for(r-=t.s;n<this.t;)r+=this[n],e[n++]=r&this.DM,r>>=this.DB;r+=this.s}else{for(r+=this.s;n<t.t;)r-=t[n],e[n++]=r&this.DM,r>>=this.DB;r-=t.s}e.s=r<0?-1:0,r<-1?e[n++]=this.DV+r:r>0&&(e[n++]=r),e.t=n,e.clamp()},x.prototype.multiplyTo=function(t,e){var n=this.abs(),r=t.abs(),i=n.t;for(e.t=i+r.t;--i>=0;)e[i]=0;for(i=0;i<r.t;++i)e[i+n.t]=n.am(0,r[i],e,i,0,n.t);e.s=0,e.clamp(),this.s!=t.s&&x.ZERO.subTo(e,e)},x.prototype.squareTo=function(t){for(var e=this.abs(),n=t.t=2*e.t;--n>=0;)t[n]=0;for(n=0;n<e.t-1;++n){var r=e.am(n,e[n],t,2*n,0,1);(t[n+e.t]+=e.am(n+1,2*e[n],t,2*n+1,r,e.t-n-1))>=e.DV&&(t[n+e.t]-=e.DV,t[n+e.t+1]=1)}t.t>0&&(t[t.t-1]+=e.am(n,e[n],t,2*n,0,1)),t.s=0,t.clamp()},x.prototype.divRemTo=function(t,e,n){var r=t.abs();if(!(r.t<=0)){var i=this.abs();if(i.t<r.t)return null!=e&&e.fromInt(0),void(null!=n&&this.copyTo(n));null==n&&(n=S());var o=S(),s=this.s,a=t.s,u=this.DB-T(r[r.t-1]);u>0?(r.lShiftTo(u,o),i.lShiftTo(u,n)):(r.copyTo(o),i.copyTo(n));var l=o.t,c=o[l-1];if(0!=c){var h=c*(1<<this.F1)+(l>1?o[l-2]>>this.F2:0),f=this.FV/h,p=(1<<this.F1)/h,d=1<<this.F2,g=n.t,v=g-l,m=null==e?S():e;for(o.dlShiftTo(v,m),n.compareTo(m)>=0&&(n[n.t++]=1,n.subTo(m,n)),x.ONE.dlShiftTo(l,m),m.subTo(o,o);o.t<l;)o[o.t++]=0;for(;--v>=0;){var y=n[--g]==c?this.DM:Math.floor(n[g]*f+(n[g-1]+d)*p);if((n[g]+=o.am(0,y,n,v,0,l))<y)for(o.dlShiftTo(v,m),n.subTo(m,n);n[g]<--y;)n.subTo(m,n)}null!=e&&(n.drShiftTo(l,e),s!=a&&x.ZERO.subTo(e,e)),n.t=l,n.clamp(),u>0&&n.rShiftTo(u,n),s<0&&x.ZERO.subTo(n,n)}}},x.prototype.invDigit=function(){if(this.t<1)return 0;var t=this[0];if(0==(1&t))return 0;var e=3&t;return(e=(e=(e=(e=e*(2-(15&t)*e)&15)*(2-(255&t)*e)&255)*(2-((65535&t)*e&65535))&65535)*(2-t*e%this.DV)%this.DV)>0?this.DV-e:-e},x.prototype.isEven=function(){return 0==(this.t>0?1&this[0]:this.s)},x.prototype.exp=function(t,e){if(t>4294967295||t<1)return x.ONE;var n=S(),r=S(),i=e.convert(this),o=T(t)-1;for(i.copyTo(n);--o>=0;)if(e.sqrTo(n,r),(t&1<<o)>0)e.mulTo(r,i,n);else{var s=n;n=r,r=s}return e.revert(n)},x.prototype.toString=function(t){if(this.s<0)return"-"+this.negate().toString(t);var e;if(16==t)e=4;else if(8==t)e=3;else if(2==t)e=1;else if(32==t)e=5;else{if(4!=t)return this.toRadix(t);e=2}var n,r=(1<<e)-1,i=!1,o="",s=this.t,a=this.DB-s*this.DB%e;if(s-- >0)for(a<this.DB&&(n=this[s]>>a)>0&&(i=!0,o=F(n));s>=0;)a<e?(n=(this[s]&(1<<a)-1)<<e-a,n|=this[--s]>>(a+=this.DB-e)):(n=this[s]>>(a-=e)&r,a<=0&&(a+=this.DB,--s)),n>0&&(i=!0),i&&(o+=F(n));return i?o:"0"},x.prototype.negate=function(){var t=S();return x.ZERO.subTo(this,t),t},x.prototype.abs=function(){return this.s<0?this.negate():this},x.prototype.compareTo=function(t){var e=this.s-t.s;if(0!=e)return e;var n=this.t;if(0!=(e=n-t.t))return this.s<0?-e:e;for(;--n>=0;)if(0!=(e=this[n]-t[n]))return e;return 0},x.prototype.bitLength=function(){return this.t<=0?0:this.DB*(this.t-1)+T(this[this.t-1]^this.s&this.DM)},x.prototype.mod=function(t){var e=S();return this.abs().divRemTo(t,null,e),this.s<0&&e.compareTo(x.ZERO)>0&&t.subTo(e,e),e},x.prototype.modPowInt=function(t,e){var n;return n=t<256||e.isEven()?new _(e):new I(e),this.exp(t,n)},x.ZERO=k(0),x.ONE=k(1),H.prototype.convert=L,H.prototype.revert=L,H.prototype.mulTo=function(t,e,n){t.multiplyTo(e,n)},H.prototype.sqrTo=function(t,e){t.squareTo(e)},M.prototype.convert=function(t){if(t.s<0||t.t>2*this.m.t)return t.mod(this.m);if(t.compareTo(this.m)<0)return t;var e=S();return t.copyTo(e),this.reduce(e),e},M.prototype.revert=function(t){return t},M.prototype.reduce=function(t){for(t.drShiftTo(this.m.t-1,this.r2),t.t>this.m.t+1&&(t.t=this.m.t+1,t.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);t.compareTo(this.r2)<0;)t.dAddOffset(1,this.m.t+1);for(t.subTo(this.r2,t);t.compareTo(this.m)>=0;)t.subTo(this.m,t)},M.prototype.mulTo=function(t,e,n){t.multiplyTo(e,n),this.reduce(n)},M.prototype.sqrTo=function(t,e){t.squareTo(e),this.reduce(e)};var $=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997],U=(1<<26)/$[$.length-1];
/*! (c) Tom Wu | http://www-cs-students.stanford.edu/~tjw/jsbn/
 */
function V(){this.i=0,this.j=0,this.S=new Array}x.prototype.chunkSize=function(t){return Math.floor(Math.LN2*this.DB/Math.log(t))},x.prototype.toRadix=function(t){if(null==t&&(t=10),0==this.signum()||t<2||t>36)return"0";var e=this.chunkSize(t),n=Math.pow(t,e),r=k(n),i=S(),o=S(),s="";for(this.divRemTo(r,i,o);i.signum()>0;)s=(n+o.intValue()).toString(t).substr(1)+s,i.divRemTo(r,i,o);return o.intValue().toString(t)+s},x.prototype.fromRadix=function(t,e){this.fromInt(0),null==e&&(e=10);for(var n=this.chunkSize(e),r=Math.pow(e,n),i=!1,o=0,s=0,a=0;a<t.length;++a){var u=P(t,a);u<0?"-"==t.charAt(a)&&0==this.signum()&&(i=!0):(s=e*s+u,++o>=n&&(this.dMultiply(r),this.dAddOffset(s,0),o=0,s=0))}o>0&&(this.dMultiply(Math.pow(e,o)),this.dAddOffset(s,0)),i&&x.ZERO.subTo(this,this)},x.prototype.fromNumber=function(t,e,n){if("number"==typeof e)if(t<2)this.fromInt(1);else for(this.fromNumber(t,n),this.testBit(t-1)||this.bitwiseTo(x.ONE.shiftLeft(t-1),N,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(e);)this.dAddOffset(2,0),this.bitLength()>t&&this.subTo(x.ONE.shiftLeft(t-1),this);else{var r=new Array,i=7&t;r.length=1+(t>>3),e.nextBytes(r),i>0?r[0]&=(1<<i)-1:r[0]=0,this.fromString(r,256)}},x.prototype.bitwiseTo=function(t,e,n){var r,i,o=Math.min(t.t,this.t);for(r=0;r<o;++r)n[r]=e(this[r],t[r]);if(t.t<this.t){for(i=t.s&this.DM,r=o;r<this.t;++r)n[r]=e(this[r],i);n.t=this.t}else{for(i=this.s&this.DM,r=o;r<t.t;++r)n[r]=e(i,t[r]);n.t=t.t}n.s=e(this.s,t.s),n.clamp()},x.prototype.changeBit=function(t,e){var n=x.ONE.shiftLeft(t);return this.bitwiseTo(n,e,n),n},x.prototype.addTo=function(t,e){for(var n=0,r=0,i=Math.min(t.t,this.t);n<i;)r+=this[n]+t[n],e[n++]=r&this.DM,r>>=this.DB;if(t.t<this.t){for(r+=t.s;n<this.t;)r+=this[n],e[n++]=r&this.DM,r>>=this.DB;r+=this.s}else{for(r+=this.s;n<t.t;)r+=t[n],e[n++]=r&this.DM,r>>=this.DB;r+=t.s}e.s=r<0?-1:0,r>0?e[n++]=r:r<-1&&(e[n++]=this.DV+r),e.t=n,e.clamp()},x.prototype.dMultiply=function(t){this[this.t]=this.am(0,t-1,this,0,0,this.t),++this.t,this.clamp()},x.prototype.dAddOffset=function(t,e){if(0!=t){for(;this.t<=e;)this[this.t++]=0;for(this[e]+=t;this[e]>=this.DV;)this[e]-=this.DV,++e>=this.t&&(this[this.t++]=0),++this[e]}},x.prototype.multiplyLowerTo=function(t,e,n){var r,i=Math.min(this.t+t.t,e);for(n.s=0,n.t=i;i>0;)n[--i]=0;for(r=n.t-this.t;i<r;++i)n[i+this.t]=this.am(0,t[i],n,i,0,this.t);for(r=Math.min(t.t,e);i<r;++i)this.am(0,t[i],n,i,0,e-i);n.clamp()},x.prototype.multiplyUpperTo=function(t,e,n){--e;var r=n.t=this.t+t.t-e;for(n.s=0;--r>=0;)n[r]=0;for(r=Math.max(e-this.t,0);r<t.t;++r)n[this.t+r-e]=this.am(e-r,t[r],n,0,0,this.t+r-e);n.clamp(),n.drShiftTo(1,n)},x.prototype.modInt=function(t){if(t<=0)return 0;var e=this.DV%t,n=this.s<0?t-1:0;if(this.t>0)if(0==e)n=this[0]%t;else for(var r=this.t-1;r>=0;--r)n=(e*n+this[r])%t;return n},x.prototype.millerRabin=function(t){var e=this.subtract(x.ONE),n=e.getLowestSetBit();if(n<=0)return!1;var r=e.shiftRight(n);(t=t+1>>1)>$.length&&(t=$.length);for(var i=S(),o=0;o<t;++o){i.fromInt($[Math.floor(Math.random()*$.length)]);var s=i.modPow(r,this);if(0!=s.compareTo(x.ONE)&&0!=s.compareTo(e)){for(var a=1;a++<n&&0!=s.compareTo(e);)if(0==(s=s.modPowInt(2,this)).compareTo(x.ONE))return!1;if(0!=s.compareTo(e))return!1}}return!0},x.prototype.clone=
/*! (c) Tom Wu | http://www-cs-students.stanford.edu/~tjw/jsbn/
 */
function(){var t=S();return this.copyTo(t),t},x.prototype.intValue=function(){if(this.s<0){if(1==this.t)return this[0]-this.DV;if(0==this.t)return-1}else{if(1==this.t)return this[0];if(0==this.t)return 0}return(this[1]&(1<<32-this.DB)-1)<<this.DB|this[0]},x.prototype.byteValue=function(){return 0==this.t?this.s:this[0]<<24>>24},x.prototype.shortValue=function(){return 0==this.t?this.s:this[0]<<16>>16},x.prototype.signum=function(){return this.s<0?-1:this.t<=0||1==this.t&&this[0]<=0?0:1},x.prototype.toByteArray=function(){var t=this.t,e=new Array;e[0]=this.s;var n,r=this.DB-t*this.DB%8,i=0;if(t-- >0)for(r<this.DB&&(n=this[t]>>r)!=(this.s&this.DM)>>r&&(e[i++]=n|this.s<<this.DB-r);t>=0;)r<8?(n=(this[t]&(1<<r)-1)<<8-r,n|=this[--t]>>(r+=this.DB-8)):(n=this[t]>>(r-=8)&255,r<=0&&(r+=this.DB,--t)),0!=(128&n)&&(n|=-256),0==i&&(128&this.s)!=(128&n)&&++i,(i>0||n!=this.s)&&(e[i++]=n);return e},x.prototype.equals=function(t){return 0==this.compareTo(t)},x.prototype.min=function(t){return this.compareTo(t)<0?this:t},x.prototype.max=function(t){return this.compareTo(t)>0?this:t},x.prototype.and=function(t){var e=S();return this.bitwiseTo(t,D,e),e},x.prototype.or=function(t){var e=S();return this.bitwiseTo(t,N,e),e},x.prototype.xor=function(t){var e=S();return this.bitwiseTo(t,R,e),e},x.prototype.andNot=function(t){var e=S();return this.bitwiseTo(t,O,e),e},x.prototype.not=function(){for(var t=S(),e=0;e<this.t;++e)t[e]=this.DM&~this[e];return t.t=this.t,t.s=~this.s,t},x.prototype.shiftLeft=function(t){var e=S();return t<0?this.rShiftTo(-t,e):this.lShiftTo(t,e),e},x.prototype.shiftRight=function(t){var e=S();return t<0?this.lShiftTo(-t,e):this.rShiftTo(t,e),e},x.prototype.getLowestSetBit=function(){for(var t=0;t<this.t;++t)if(0!=this[t])return t*this.DB+j(this[t]);return this.s<0?this.t*this.DB:-1},x.prototype.bitCount=function(){for(var t=0,e=this.s&this.DM,n=0;n<this.t;++n)t+=B(this[n]^e);return t},x.prototype.testBit=function(t){var e=Math.floor(t/this.DB);return e>=this.t?0!=this.s:0!=(this[e]&1<<t%this.DB)},x.prototype.setBit=function(t){return this.changeBit(t,N)},x.prototype.clearBit=function(t){return this.changeBit(t,O)},x.prototype.flipBit=function(t){return this.changeBit(t,R)},x.prototype.add=function(t){var e=S();return this.addTo(t,e),e},x.prototype.subtract=function(t){var e=S();return this.subTo(t,e),e},x.prototype.multiply=function(t){var e=S();return this.multiplyTo(t,e),e},x.prototype.divide=function(t){var e=S();return this.divRemTo(t,e,null),e},x.prototype.remainder=function(t){var e=S();return this.divRemTo(t,null,e),e},x.prototype.divideAndRemainder=function(t){var e=S(),n=S();return this.divRemTo(t,e,n),new Array(e,n)},x.prototype.modPow=function(t,e){var n,r,i=t.bitLength(),o=k(1);if(i<=0)return o;n=i<18?1:i<48?3:i<144?4:i<768?5:6,r=i<8?new _(e):e.isEven()?new M(e):new I(e);var s=new Array,a=3,u=n-1,l=(1<<n)-1;if(s[1]=r.convert(this),n>1){var c=S();for(r.sqrTo(s[1],c);a<=l;)s[a]=S(),r.mulTo(c,s[a-2],s[a]),a+=2}var h,f,p=t.t-1,d=!0,g=S();for(i=T(t[p])-1;p>=0;){for(i>=u?h=t[p]>>i-u&l:(h=(t[p]&(1<<i+1)-1)<<u-i,p>0&&(h|=t[p-1]>>this.DB+i-u)),a=n;0==(1&h);)h>>=1,--a;if((i-=a)<0&&(i+=this.DB,--p),d)s[h].copyTo(o),d=!1;else{for(;a>1;)r.sqrTo(o,g),r.sqrTo(g,o),a-=2;a>0?r.sqrTo(o,g):(f=o,o=g,g=f),r.mulTo(g,s[h],o)}for(;p>=0&&0==(t[p]&1<<i);)r.sqrTo(o,g),f=o,o=g,g=f,--i<0&&(i=this.DB-1,--p)}return r.revert(o)},x.prototype.modInverse=function(t){var e=t.isEven();if(this.isEven()&&e||0==t.signum())return x.ZERO;for(var n=t.clone(),r=this.clone(),i=k(1),o=k(0),s=k(0),a=k(1);0!=n.signum();){for(;n.isEven();)n.rShiftTo(1,n),e?(i.isEven()&&o.isEven()||(i.addTo(this,i),o.subTo(t,o)),i.rShiftTo(1,i)):o.isEven()||o.subTo(t,o),o.rShiftTo(1,o);for(;r.isEven();)r.rShiftTo(1,r),e?(s.isEven()&&a.isEven()||(s.addTo(this,s),a.subTo(t,a)),s.rShiftTo(1,s)):a.isEven()||a.subTo(t,a),a.rShiftTo(1,a);n.compareTo(r)>=0?(n.subTo(r,n),e&&i.subTo(s,i),o.subTo(a,o)):(r.subTo(n,r),e&&s.subTo(i,s),a.subTo(o,a))}return 0!=r.compareTo(x.ONE)?x.ZERO:a.compareTo(t)>=0?a.subtract(t):a.signum()<0?(a.addTo(t,a),a.signum()<0?a.add(t):a):a},x.prototype.pow=function(t){return this.exp(t,new H)},x.prototype.gcd=function(t){var e=this.s<0?this.negate():this.clone(),n=t.s<0?t.negate():t.clone();if(e.compareTo(n)<0){var r=e;e=n,n=r}var i=e.getLowestSetBit(),o=n.getLowestSetBit();if(o<0)return e;for(i<o&&(o=i),o>0&&(e.rShiftTo(o,e),n.rShiftTo(o,n));e.signum()>0;)(i=e.getLowestSetBit())>0&&e.rShiftTo(i,e),(i=n.getLowestSetBit())>0&&n.rShiftTo(i,n),e.compareTo(n)>=0?(e.subTo(n,e),e.rShiftTo(1,e)):(n.subTo(e,n),n.rShiftTo(1,n));return o>0&&n.lShiftTo(o,n),n},x.prototype.isProbablePrime=function(t){var e,n=this.abs();if(1==n.t&&n[0]<=$[$.length-1]){for(e=0;e<$.length;++e)if(n[0]==$[e])return!0;return!1}if(n.isEven())return!1;for(e=1;e<$.length;){for(var r=$[e],i=e+1;i<$.length&&r<U;)r*=$[i++];for(r=n.modInt(r);e<i;)if(r%$[e++]==0)return!1}return n.millerRabin(t)},x.prototype.square=function(){var t=S();return this.squareTo(t),t},V.prototype.init=function(t){var e,n,r;for(e=0;e<256;++e)this.S[e]=e;for(n=0,e=0;e<256;++e)n=n+this.S[e]+t[e%t.length]&255,r=this.S[e],this.S[e]=this.S[n],this.S[n]=r;this.i=0,this.j=0},V.prototype.next=function(){var t;return this.i=this.i+1&255,this.j=this.j+this.S[this.i]&255,t=this.S[this.i],this.S[this.i]=this.S[this.j],this.S[this.j]=t,this.S[t+this.S[this.i]&255]};var q,K,z;
/*! (c) Tom Wu | http://www-cs-students.stanford.edu/~tjw/jsbn/
 */function G(){!function(t){K[z++]^=255&t,K[z++]^=t>>8&255,K[z++]^=t>>16&255,K[z++]^=t>>24&255,z>=256&&(z-=256)}((new Date).getTime())}if(null==K){var W;if(K=new Array,z=0,void 0!==d&&(void 0!==d.crypto||void 0!==d.msCrypto)){var Y=d.crypto||d.msCrypto;if(Y.getRandomValues){var X=new Uint8Array(32);for(Y.getRandomValues(X),W=0;W<32;++W)K[z++]=X[W]}else if("Netscape"==p.appName&&p.appVersion<"5"){var J=d.crypto.random(32);for(W=0;W<J.length;++W)K[z++]=255&J.charCodeAt(W)}}for(;z<256;)W=Math.floor(65536*Math.random()),K[z++]=W>>>8,K[z++]=255&W;z=0,G()}function Q(){if(null==q){for(G(),(q=new V).init(K),z=0;z<K.length;++z)K[z]=0;z=0}return q.next()}function Z(){}
/*! (c) Tom Wu | http://www-cs-students.stanford.edu/~tjw/jsbn/
 */
function tt(t,e){return new x(t,e)}function et(t,e,n){for(var r="",i=0;r.length<e;)r+=n(String.fromCharCode.apply(String,t.concat([(4278190080&i)>>24,(16711680&i)>>16,(65280&i)>>8,255&i]))),i+=1;return r}function nt(){this.n=null,this.e=0,this.d=null,this.p=null,this.q=null,this.dmp1=null,this.dmq1=null,this.coeff=null}function rt(t,e,n){for(var r="",i=0;r.length<e;)r+=n(t+String.fromCharCode.apply(String,[(4278190080&i)>>24,(16711680&i)>>16,(65280&i)>>8,255&i])),i+=1;return r}
/*! (c) Tom Wu | http://www-cs-students.stanford.edu/~tjw/jsbn/
 */
function it(t,e){this.x=e,this.q=t}function ot(t,e,n,r){this.curve=t,this.x=e,this.y=n,this.z=null==r?x.ONE:r,this.zinv=null}function st(t,e,n){this.q=t,this.a=this.fromBigInteger(e),this.b=this.fromBigInteger(n),this.infinity=new ot(this,null,null)}Z.prototype.nextBytes=function(t){var e;for(e=0;e<t.length;++e)t[e]=Q()},nt.prototype.doPublic=function(t){return t.modPowInt(this.e,this.n)},nt.prototype.setPublic=function(t,e){if(this.isPublic=!0,this.isPrivate=!1,"string"!=typeof t)this.n=t,this.e=e;else{if(!(null!=t&&null!=e&&t.length>0&&e.length>0))throw"Invalid RSA public key";this.n=tt(t,16),this.e=parseInt(e,16)}},nt.prototype.encrypt=function(t){var e=function(t,e){if(e<t.length+11)throw"Message too long for RSA";for(var n=new Array,r=t.length-1;r>=0&&e>0;){var i=t.charCodeAt(r--);i<128?n[--e]=i:i>127&&i<2048?(n[--e]=63&i|128,n[--e]=i>>6|192):(n[--e]=63&i|128,n[--e]=i>>6&63|128,n[--e]=i>>12|224)}n[--e]=0;for(var o=new Z,s=new Array;e>2;){for(s[0]=0;0==s[0];)o.nextBytes(s);n[--e]=s[0]}return n[--e]=2,n[--e]=0,new x(n)}(t,this.n.bitLength()+7>>3);if(null==e)return null;var n=this.doPublic(e);if(null==n)return null;var r=n.toString(16);return 0==(1&r.length)?r:"0"+r},nt.prototype.encryptOAEP=function(t,e,n){var r=function(t,e,n,r){var i=ut.crypto.MessageDigest,o=ut.crypto.Util,s=null;if(n||(n="sha1"),"string"==typeof n&&(s=i.getCanonicalAlgName(n),r=i.getHashLength(s),n=function(t){return Et(o.hashHex(At(t),s))}),t.length+2*r+2>e)throw"Message too long for RSA";var a,u="";for(a=0;a<e-t.length-2*r-2;a+=1)u+="\0";var l=n("")+u+""+t,c=new Array(r);(new Z).nextBytes(c);var h=et(c,l.length,n),f=[];for(a=0;a<l.length;a+=1)f[a]=l.charCodeAt(a)^h.charCodeAt(a);var p=et(f,c.length,n),d=[0];for(a=0;a<c.length;a+=1)d[a+1]=c[a]^p.charCodeAt(a);return new x(d.concat(f))}(t,this.n.bitLength()+7>>3,e,n);if(null==r)return null;var i=this.doPublic(r);if(null==i)return null;var o=i.toString(16);return 0==(1&o.length)?o:"0"+o},nt.prototype.type="RSA",nt.prototype.doPrivate=function(t){if(null==this.p||null==this.q)return t.modPow(this.d,this.n);for(var e=t.mod(this.p).modPow(this.dmp1,this.p),n=t.mod(this.q).modPow(this.dmq1,this.q);e.compareTo(n)<0;)e=e.add(this.p);return e.subtract(n).multiply(this.coeff).mod(this.p).multiply(this.q).add(n)},nt.prototype.setPrivate=function(t,e,n){if(this.isPrivate=!0,"string"!=typeof t)this.n=t,this.e=e,this.d=n;else{if(!(null!=t&&null!=e&&t.length>0&&e.length>0))throw"Invalid RSA private key";this.n=tt(t,16),this.e=parseInt(e,16),this.d=tt(n,16)}},nt.prototype.setPrivateEx=function(t,e,n,r,i,o,s,a){if(this.isPrivate=!0,this.isPublic=!1,null==t)throw"RSASetPrivateEx N == null";if(null==e)throw"RSASetPrivateEx E == null";if(0==t.length)throw"RSASetPrivateEx N.length == 0";if(0==e.length)throw"RSASetPrivateEx E.length == 0";if(!(null!=t&&null!=e&&t.length>0&&e.length>0))throw"Invalid RSA private key in RSASetPrivateEx";this.n=tt(t,16),this.e=parseInt(e,16),this.d=tt(n,16),this.p=tt(r,16),this.q=tt(i,16),this.dmp1=tt(o,16),this.dmq1=tt(s,16),this.coeff=tt(a,16)},nt.prototype.generate=function(t,e){var n=new Z,r=t>>1;this.e=parseInt(e,16);for(var i=new x(e,16),o=t/2-100,s=x.ONE.shiftLeft(o);;){for(;this.p=new x(t-r,1,n),0!=this.p.subtract(x.ONE).gcd(i).compareTo(x.ONE)||!this.p.isProbablePrime(10););for(;this.q=new x(r,1,n),0!=this.q.subtract(x.ONE).gcd(i).compareTo(x.ONE)||!this.q.isProbablePrime(10););if(this.p.compareTo(this.q)<=0){var a=this.p;this.p=this.q,this.q=a}var u=this.q.subtract(this.p).abs();if(!(u.bitLength()<o||u.compareTo(s)<=0)){var l=this.p.subtract(x.ONE),c=this.q.subtract(x.ONE),h=l.multiply(c);if(0==h.gcd(i).compareTo(x.ONE)&&(this.n=this.p.multiply(this.q),this.n.bitLength()==t)){this.d=i.modInverse(h),this.dmp1=this.d.mod(l),this.dmq1=this.d.mod(c),this.coeff=this.q.modInverse(this.p);break}}}this.isPrivate=!0},nt.prototype.decrypt=function(t){if(t.length!=Math.ceil(this.n.bitLength()/4))throw new Error("wrong ctext length");var e=tt(t,16),n=this.doPrivate(e);return null==n?null:
/*! (c) Tom Wu, Kenji Urushima | http://www-cs-students.stanford.edu/~tjw/jsbn/
 */
function(t,e){for(var n=t.toByteArray(),r=0;r<n.length&&0==n[r];)++r;if(n.length-r!=e-1||2!=n[r])return null;for(++r;0!=n[r];)if(++r>=n.length)return null;for(var i="";++r<n.length;){var o=255&n[r];o<128?i+=String.fromCharCode(o):o>191&&o<224?(i+=String.fromCharCode((31&o)<<6|63&n[r+1]),++r):(i+=String.fromCharCode((15&o)<<12|(63&n[r+1])<<6|63&n[r+2]),r+=2)}return i}(n,this.n.bitLength()+7>>3)},nt.prototype.decryptOAEP=function(t,e,n){if(t.length!=Math.ceil(this.n.bitLength()/4))throw new Error("wrong ctext length");var r=tt(t,16),i=this.doPrivate(r);return null==i?null:function(t,e,n,r){var i=ut.crypto.MessageDigest,o=ut.crypto.Util,s=null;for(n||(n="sha1"),"string"==typeof n&&(s=i.getCanonicalAlgName(n),r=i.getHashLength(s),n=function(t){return Et(o.hashHex(At(t),s))}),t=t.toByteArray(),a=0;a<t.length;a+=1)t[a]&=255;for(;t.length<e;)t.unshift(0);if((t=String.fromCharCode.apply(String,t)).length<2*r+2)throw"Cipher too short";var a,u=t.substr(1,r),l=t.substr(r+1),c=rt(l,r,n),h=[];for(a=0;a<u.length;a+=1)h[a]=u.charCodeAt(a)^c.charCodeAt(a);var f=rt(String.fromCharCode.apply(String,h),t.length-r,n),p=[];for(a=0;a<l.length;a+=1)p[a]=l.charCodeAt(a)^f.charCodeAt(a);if((p=String.fromCharCode.apply(String,p)).substr(0,r)!==n(""))throw"Hash mismatch";var d=(p=p.substr(r)).indexOf("");if((-1!=d?p.substr(0,d).lastIndexOf("\0"):-1)+1!=d)throw"Malformed data";return p.substr(d+1)}(i,this.n.bitLength()+7>>3,e,n)},it.prototype.equals=function(t){return t==this||this.q.equals(t.q)&&this.x.equals(t.x)},it.prototype.toBigInteger=function(){return this.x},it.prototype.negate=function(){return new it(this.q,this.x.negate().mod(this.q))},it.prototype.add=function(t){return new it(this.q,this.x.add(t.toBigInteger()).mod(this.q))},it.prototype.subtract=function(t){return new it(this.q,this.x.subtract(t.toBigInteger()).mod(this.q))},it.prototype.multiply=function(t){return new it(this.q,this.x.multiply(t.toBigInteger()).mod(this.q))},it.prototype.square=function(){return new it(this.q,this.x.square().mod(this.q))},it.prototype.divide=function(t){return new it(this.q,this.x.multiply(t.toBigInteger().modInverse(this.q)).mod(this.q))},it.prototype.sqrt=function(){return new it(this.q,this.x.sqrt().mod(this.q))},ot.prototype.getX=function(){return null==this.zinv&&(this.zinv=this.z.modInverse(this.curve.q)),this.curve.fromBigInteger(this.x.toBigInteger().multiply(this.zinv).mod(this.curve.q))},ot.prototype.getY=function(){return null==this.zinv&&(this.zinv=this.z.modInverse(this.curve.q)),this.curve.fromBigInteger(this.y.toBigInteger().multiply(this.zinv).mod(this.curve.q))},ot.prototype.equals=function(t){return t==this||(this.isInfinity()?t.isInfinity():t.isInfinity()?this.isInfinity():!!t.y.toBigInteger().multiply(this.z).subtract(this.y.toBigInteger().multiply(t.z)).mod(this.curve.q).equals(x.ZERO)&&t.x.toBigInteger().multiply(this.z).subtract(this.x.toBigInteger().multiply(t.z)).mod(this.curve.q).equals(x.ZERO))},ot.prototype.isInfinity=function(){return null==this.x&&null==this.y||this.z.equals(x.ZERO)&&!this.y.toBigInteger().equals(x.ZERO)},ot.prototype.negate=function(){return new ot(this.curve,this.x,this.y.negate(),this.z)},ot.prototype.add=function(t){if(this.isInfinity())return t;if(t.isInfinity())return this;var e=t.y.toBigInteger().multiply(this.z).subtract(this.y.toBigInteger().multiply(t.z)).mod(this.curve.q),n=t.x.toBigInteger().multiply(this.z).subtract(this.x.toBigInteger().multiply(t.z)).mod(this.curve.q);if(x.ZERO.equals(n))return x.ZERO.equals(e)?this.twice():this.curve.getInfinity();var r=new x("3"),i=this.x.toBigInteger(),o=this.y.toBigInteger(),s=(t.x.toBigInteger(),t.y.toBigInteger(),n.square()),a=s.multiply(n),u=i.multiply(s),l=e.square().multiply(this.z),c=l.subtract(u.shiftLeft(1)).multiply(t.z).subtract(a).multiply(n).mod(this.curve.q),h=u.multiply(r).multiply(e).subtract(o.multiply(a)).subtract(l.multiply(e)).multiply(t.z).add(e.multiply(a)).mod(this.curve.q),f=a.multiply(this.z).multiply(t.z).mod(this.curve.q);return new ot(this.curve,this.curve.fromBigInteger(c),this.curve.fromBigInteger(h),f)},ot.prototype.twice=function(){if(this.isInfinity())return this;if(0==this.y.toBigInteger().signum())return this.curve.getInfinity();var t=new x("3"),e=this.x.toBigInteger(),n=this.y.toBigInteger(),r=n.multiply(this.z),i=r.multiply(n).mod(this.curve.q),o=this.curve.a.toBigInteger(),s=e.square().multiply(t);x.ZERO.equals(o)||(s=s.add(this.z.square().multiply(o)));var a=(s=s.mod(this.curve.q)).square().subtract(e.shiftLeft(3).multiply(i)).shiftLeft(1).multiply(r).mod(this.curve.q),u=s.multiply(t).multiply(e).subtract(i.shiftLeft(1)).shiftLeft(2).multiply(i).subtract(s.square().multiply(s)).mod(this.curve.q),l=r.square().multiply(r).shiftLeft(3).mod(this.curve.q);return new ot(this.curve,this.curve.fromBigInteger(a),this.curve.fromBigInteger(u),l)},ot.prototype.multiply=function(t){if(this.isInfinity())return this;if(0==t.signum())return this.curve.getInfinity();var e,n=t,r=n.multiply(new x("3")),i=this.negate(),o=this,s=this.curve.q.subtract(t),a=s.multiply(new x("3")),u=new ot(this.curve,this.x,this.y),l=u.negate();for(e=r.bitLength()-2;e>0;--e){o=o.twice();var c=r.testBit(e);c!=n.testBit(e)&&(o=o.add(c?this:i))}for(e=a.bitLength()-2;e>0;--e){u=u.twice();var h=a.testBit(e);h!=s.testBit(e)&&(u=u.add(h?u:l))}return o},ot.prototype.multiplyTwo=function(t,e,n){var r;r=t.bitLength()>n.bitLength()?t.bitLength()-1:n.bitLength()-1;for(var i=this.curve.getInfinity(),o=this.add(e);r>=0;)i=i.twice(),t.testBit(r)?i=n.testBit(r)?i.add(o):i.add(this):n.testBit(r)&&(i=i.add(e)),--r;return i},st.prototype.getQ=function(){return this.q},st.prototype.getA=function(){return this.a},st.prototype.getB=function(){return this.b},st.prototype.equals=function(t){return t==this||this.q.equals(t.q)&&this.a.equals(t.a)&&this.b.equals(t.b)},st.prototype.getInfinity=function(){return this.infinity},st.prototype.fromBigInteger=function(t){return new it(this.q,t)},st.prototype.decodePointHex=function(t){switch(parseInt(t.substr(0,2),16)){case 0:return this.infinity;case 2:case 3:var e=t.substr(0,2),n=(t.substr(2),this.fromBigInteger(new x(a,16))),r=this.getA(),i=this.getB(),o=n.square().add(r).multiply(n).add(i).sqrt();return"03"==e&&(o=o.negate()),new ot(this,n,o);case 4:case 6:case 7:var s=(t.length-2)/2,a=t.substr(2,s),u=t.substr(s+2,s);return new ot(this,this.fromBigInteger(new x(a,16)),this.fromBigInteger(new x(u,16)));default:return null}},
/*! (c) Stefan Thomas | https://github.com/bitcoinjs/bitcoinjs-lib
 */
it.prototype.getByteLength=function(){return Math.floor((this.toBigInteger().bitLength()+7)/8)},ot.prototype.getEncoded=function(t){var e=function(t,e){var n=t.toByteArrayUnsigned();if(e<n.length)n=n.slice(n.length-e);else for(;e>n.length;)n.unshift(0);return n},n=this.getX().toBigInteger(),r=this.getY().toBigInteger(),i=e(n,32);return t?r.isEven()?i.unshift(2):i.unshift(3):(i.unshift(4),i=i.concat(e(r,32))),i},ot.decodeFrom=function(t,e){e[0];var n=e.length-1,r=e.slice(1,1+n/2),i=e.slice(1+n/2,1+n);r.unshift(0),i.unshift(0);var o=new x(r),s=new x(i);return new ot(t,t.fromBigInteger(o),t.fromBigInteger(s))},ot.decodeFromHex=function(t,e){e.substr(0,2);var n=e.length-2,r=e.substr(2,n/2),i=e.substr(2+n/2,n/2),o=new x(r,16),s=new x(i,16);return new ot(t,t.fromBigInteger(o),t.fromBigInteger(s))},ot.prototype.add2D=function(t){if(this.isInfinity())return t;if(t.isInfinity())return this;if(this.x.equals(t.x))return this.y.equals(t.y)?this.twice():this.curve.getInfinity();var e=t.x.subtract(this.x),n=t.y.subtract(this.y).divide(e),r=n.square().subtract(this.x).subtract(t.x),i=n.multiply(this.x.subtract(r)).subtract(this.y);return new ot(this.curve,r,i)},ot.prototype.twice2D=function(){if(this.isInfinity())return this;if(0==this.y.toBigInteger().signum())return this.curve.getInfinity();var t=this.curve.fromBigInteger(x.valueOf(2)),e=this.curve.fromBigInteger(x.valueOf(3)),n=this.x.square().multiply(e).add(this.curve.a).divide(this.y.multiply(t)),r=n.square().subtract(this.x.multiply(t)),i=n.multiply(this.x.subtract(r)).subtract(this.y);return new ot(this.curve,r,i)},ot.prototype.multiply2D=function(t){if(this.isInfinity())return this;if(0==t.signum())return this.curve.getInfinity();var e,n=t,r=n.multiply(new x("3")),i=this.negate(),o=this;for(e=r.bitLength()-2;e>0;--e){o=o.twice();var s=r.testBit(e);s!=n.testBit(e)&&(o=o.add2D(s?this:i))}return o},ot.prototype.isOnCurve=function(){var t=this.getX().toBigInteger(),e=this.getY().toBigInteger(),n=this.curve.getA().toBigInteger(),r=this.curve.getB().toBigInteger(),i=this.curve.getQ(),o=e.multiply(e).mod(i),s=t.multiply(t).multiply(t).add(n.multiply(t)).add(r).mod(i);return o.equals(s)},ot.prototype.toString=function(){return"("+this.getX().toBigInteger().toString()+","+this.getY().toBigInteger().toString()+")"},ot.prototype.validate=function(){var t=this.curve.getQ();if(this.isInfinity())throw new Error("Point is at infinity.");var e=this.getX().toBigInteger(),n=this.getY().toBigInteger();if(e.compareTo(x.ONE)<0||e.compareTo(t.subtract(x.ONE))>0)throw new Error("x coordinate out of bounds");if(n.compareTo(x.ONE)<0||n.compareTo(t.subtract(x.ONE))>0)throw new Error("y coordinate out of bounds");if(!this.isOnCurve())throw new Error("Point is not on the curve.");if(this.multiply(t).isInfinity())throw new Error("Point is not a scalar multiple of G.");return!0};
/*! Mike Samuel (c) 2009 | code.google.com/p/json-sans-eval
 */
var at=function(){var t=new RegExp('(?:false|true|null|[\\{\\}\\[\\]]|(?:-?\\b(?:0|[1-9][0-9]*)(?:\\.[0-9]+)?(?:[eE][+-]?[0-9]+)?\\b)|(?:"(?:[^\\0-\\x08\\x0a-\\x1f"\\\\]|\\\\(?:["/\\\\bfnrt]|u[0-9A-Fa-f]{4}))*"))',"g"),e=new RegExp("\\\\(?:([^u])|u(.{4}))","g"),n={'"':'"',"/":"/","\\":"\\",b:"\b",f:"\f",n:"\n",r:"\r",t:"\t"};function r(t,e,r){return e?n[e]:String.fromCharCode(parseInt(r,16))}var i=new String(""),o=Object.hasOwnProperty;return function(n,s){var a,u,l=n.match(t),c=l[0],h=!1;"{"===c?a={}:"["===c?a=[]:(a=[],h=!0);for(var f=[a],p=1-h,d=l.length;p<d;++p){var g;switch((c=l[p]).charCodeAt(0)){default:(g=f[0])[u||g.length]=+c,u=void 0;break;case 34:if(-1!==(c=c.substring(1,c.length-1)).indexOf("\\")&&(c=c.replace(e,r)),g=f[0],!u){if(!(g instanceof Array)){u=c||i;break}u=g.length}g[u]=c,u=void 0;break;case 91:g=f[0],f.unshift(g[u||g.length]=[]),u=void 0;break;case 93:f.shift();break;case 102:(g=f[0])[u||g.length]=!1,u=void 0;break;case 110:(g=f[0])[u||g.length]=null,u=void 0;break;case 116:(g=f[0])[u||g.length]=!0,u=void 0;break;case 123:g=f[0],f.unshift(g[u||g.length]={}),u=void 0;break;case 125:f.shift()}}if(h){if(1!==f.length)throw new Error;a=a[0]}else if(f.length)throw new Error;if(s){var v=function(t,e){var n=t[e];if(n&&"object"==typeof n){var r=null;for(var i in n)if(o.call(n,i)&&n!==t){var a=v(n,i);void 0!==a?n[i]=a:(r||(r=[]),r.push(i))}if(r)for(var u=r.length;--u>=0;)delete n[r[u]]}return s.call(t,e,n)};a=v({"":a},"")}return a}}();void 0!==ut&&ut||(ut={}),void 0!==ut.asn1&&ut.asn1||(ut.asn1={}),ut.asn1.ASN1Util=new function(){this.integerToByteHex=function(t){var e=t.toString(16);return e.length%2==1&&(e="0"+e),e},this.bigIntToMinTwosComplementsHex=function(t){var e=t.toString(16);if("-"!=e.substr(0,1))e.length%2==1?e="0"+e:e.match(/^[0-7]/)||(e="00"+e);else{var n=e.substr(1).length;n%2==1?n+=1:e.match(/^[0-7]/)||(n+=2);for(var r="",i=0;i<n;i++)r+="f";e=new x(r,16).xor(t).add(x.ONE).toString(16).replace(/^-/,"")}return e},this.getPEMStringFromHex=function(t,e){return kt(t,e)},this.newObject=function(t){var e=ut.asn1,n=e.ASN1Object,r=e.DERBoolean,i=e.DERInteger,o=e.DERBitString,s=e.DEROctetString,a=e.DERNull,u=e.DERObjectIdentifier,l=e.DEREnumerated,c=e.DERUTF8String,h=e.DERNumericString,f=e.DERPrintableString,p=e.DERTeletexString,d=e.DERIA5String,g=e.DERUTCTime,v=e.DERGeneralizedTime,m=e.DERVisibleString,y=e.DERBMPString,b=e.DERSequence,w=e.DERSet,x=e.DERTaggedObject,S=e.ASN1Util.newObject;if(t instanceof e.ASN1Object)return t;var E=Object.keys(t);if(1!=E.length)throw new Error("key of param shall be only one.");var A=E[0];if(-1==":asn1:bool:int:bitstr:octstr:null:oid:enum:utf8str:numstr:prnstr:telstr:ia5str:utctime:gentime:visstr:bmpstr:seq:set:tag:".indexOf(":"+A+":"))throw new Error("undefined key: "+A);if("bool"==A)return new r(t[A]);if("int"==A)return new i(t[A]);if("bitstr"==A)return new o(t[A]);if("octstr"==A)return new s(t[A]);if("null"==A)return new a(t[A]);if("oid"==A)return new u(t[A]);if("enum"==A)return new l(t[A]);if("utf8str"==A)return new c(t[A]);if("numstr"==A)return new h(t[A]);if("prnstr"==A)return new f(t[A]);if("telstr"==A)return new p(t[A]);if("ia5str"==A)return new d(t[A]);if("utctime"==A)return new g(t[A]);if("gentime"==A)return new v(t[A]);if("visstr"==A)return new m(t[A]);if("bmpstr"==A)return new y(t[A]);if("asn1"==A)return new n(t[A]);if("seq"==A){for(var C=t[A],F=[],P=0;P<C.length;P++){var k=S(C[P]);F.push(k)}return new b({array:F})}if("set"==A){for(C=t[A],F=[],P=0;P<C.length;P++){k=S(C[P]);F.push(k)}return new w({array:F})}if("tag"==A){var T=t[A];if("[object Array]"===Object.prototype.toString.call(T)&&3==T.length){var _=S(T[2]);return new x({tag:T[0],explicit:T[1],obj:_})}return new x(T)}},this.jsonToASN1HEX=function(t){return this.newObject(t).tohex()}},ut.asn1.ASN1Util.oidHexToInt=function(t){for(var e="",n=parseInt(t.substr(0,2),16),r=(e=Math.floor(n/40)+"."+n%40,""),i=2;i<t.length;i+=2){var o=("00000000"+parseInt(t.substr(i,2),16).toString(2)).slice(-8);if(r+=o.substr(1,7),"0"==o.substr(0,1))e=e+"."+new x(r,2).toString(10),r=""}return e},ut.asn1.ASN1Util.oidIntToHex=function(t){var e=function(t){var e=t.toString(16);return 1==e.length&&(e="0"+e),e},n=function(t){var n="",r=new x(t,10).toString(2),i=7-r.length%7;7==i&&(i=0);for(var o="",s=0;s<i;s++)o+="0";r=o+r;for(s=0;s<r.length-1;s+=7){var a=r.substr(s,7);s!=r.length-7&&(a="1"+a),n+=e(parseInt(a,2))}return n};if(!t.match(/^[0-9.]+$/))throw"malformed oid string: "+t;var r="",i=t.split("."),o=40*parseInt(i[0])+parseInt(i[1]);r+=e(o),i.splice(0,2);for(var s=0;s<i.length;s++)r+=n(i[s]);return r},ut.asn1.ASN1Object=function(t){this.params=null,this.getLengthHexFromValue=function(){if(void 0===this.hV||null==this.hV)throw new Error("this.hV is null or undefined");if(this.hV.length%2==1)throw new Error("value hex must be even length: n="+"".length+",v="+this.hV);var t=this.hV.length/2,e=t.toString(16);if(e.length%2==1&&(e="0"+e),t<128)return e;var n=e.length/2;if(n>15)throw new Error("ASN.1 length too long to represent by 8x: n = "+t.toString(16));return(128+n).toString(16)+e},this.tohex=function(){return(null==this.hTLV||this.isModified)&&(this.hV=this.getFreshValueHex(),this.hL=this.getLengthHexFromValue(),this.hTLV=this.hT+this.hL+this.hV,this.isModified=!1),this.hTLV},this.getEncodedHex=function(){return this.tohex()},this.getValueHex=function(){return this.tohex(),this.hV},this.getFreshValueHex=function(){return""},this.setByParam=function(t){this.params=t},null!=t&&null!=t.tlv&&(this.hTLV=t.tlv,this.isModified=!1)},ut.asn1.DERAbstractString=function(t){ut.asn1.DERAbstractString.superclass.constructor.call(this);this.getString=function(){return this.s},this.setString=function(t){this.hTLV=null,this.isModified=!0,this.s=t,this.hV=wt(this.s).toLowerCase()},this.setStringHex=function(t){this.hTLV=null,this.isModified=!0,this.s=null,this.hV=t},this.getFreshValueHex=function(){return this.hV},void 0!==t&&("string"==typeof t?this.setString(t):void 0!==t.str?this.setString(t.str):void 0!==t.hex&&this.setStringHex(t.hex))},Qt(ut.asn1.DERAbstractString,ut.asn1.ASN1Object),ut.asn1.DERAbstractTime=function(t){ut.asn1.DERAbstractTime.superclass.constructor.call(this);this.localDateToUTC=function(t){var e=t.getTime()+6e4*t.getTimezoneOffset();return new Date(e)},this.formatDate=function(t,e,n){var r=this.zeroPadding,i=this.localDateToUTC(t),o=String(i.getFullYear());"utc"==e&&(o=o.substr(2,2));var s=o+r(String(i.getMonth()+1),2)+r(String(i.getDate()),2)+r(String(i.getHours()),2)+r(String(i.getMinutes()),2)+r(String(i.getSeconds()),2);if(!0===n){var a=i.getMilliseconds();if(0!=a){var u=r(String(a),3);s=s+"."+(u=u.replace(/[0]+$/,""))}}return s+"Z"},this.zeroPadding=function(t,e){return t.length>=e?t:new Array(e-t.length+1).join("0")+t},this.setByParam=function(t){this.hV=null,this.hTLV=null,this.params=t},this.getString=function(){},this.setString=function(t){this.hTLV=null,this.isModified=!0,null==this.params&&(this.params={}),this.params.str=t},this.setByDate=function(t){this.hTLV=null,this.isModified=!0,null==this.params&&(this.params={}),this.params.date=t},this.setByDateValue=function(t,e,n,r,i,o){var s=new Date(Date.UTC(t,e-1,n,r,i,o,0));this.setByDate(s)},this.getFreshValueHex=function(){return this.hV}},Qt(ut.asn1.DERAbstractTime,ut.asn1.ASN1Object),ut.asn1.DERAbstractStructured=function(t){ut.asn1.DERAbstractString.superclass.constructor.call(this);this.setByASN1ObjectArray=function(t){this.hTLV=null,this.isModified=!0,this.asn1Array=t},this.appendASN1Object=function(t){this.hTLV=null,this.isModified=!0,this.asn1Array.push(t)},this.asn1Array=new Array,void 0!==t&&void 0!==t.array&&(this.asn1Array=t.array)},Qt(ut.asn1.DERAbstractStructured,ut.asn1.ASN1Object),ut.asn1.DERBoolean=function(t){ut.asn1.DERBoolean.superclass.constructor.call(this),this.hT="01",this.hTLV=0==t?"010100":"0101ff"},Qt(ut.asn1.DERBoolean,ut.asn1.ASN1Object),ut.asn1.DERInteger=function(t){ut.asn1.DERInteger.superclass.constructor.call(this),this.hT="02",this.setByBigInteger=function(t){this.hTLV=null,this.isModified=!0,this.hV=ut.asn1.ASN1Util.bigIntToMinTwosComplementsHex(t)},this.setByInteger=function(t){var e=new x(String(t),10);this.setByBigInteger(e)},this.setValueHex=function(t){this.hV=t},this.getFreshValueHex=function(){return this.hV},void 0!==t&&(void 0!==t.bigint?this.setByBigInteger(t.bigint):void 0!==t.int?this.setByInteger(t.int):"number"==typeof t?this.setByInteger(t):void 0!==t.hex&&this.setValueHex(t.hex))},Qt(ut.asn1.DERInteger,ut.asn1.ASN1Object),ut.asn1.DERBitString=function(t){if(void 0!==t&&void 0!==t.obj){var e=ut.asn1.ASN1Util.newObject(t.obj);t.hex="00"+e.tohex()}ut.asn1.DERBitString.superclass.constructor.call(this),this.hT="03",this.setHexValueIncludingUnusedBits=function(t){this.hTLV=null,this.isModified=!0,this.hV=t},this.setUnusedBitsAndHexValue=function(t,e){if(t<0||7<t)throw"unused bits shall be from 0 to 7: u = "+t;var n="0"+t;this.hTLV=null,this.isModified=!0,this.hV=n+e},this.setByBinaryString=function(t){var e=8-(t=t.replace(/0+$/,"")).length%8;8==e&&(e=0),t+="0000000".substr(0,e);for(var n="",r=0;r<t.length-1;r+=8){var i=t.substr(r,8),o=parseInt(i,2).toString(16);1==o.length&&(o="0"+o),n+=o}this.hTLV=null,this.isModified=!0,this.hV="0"+e+n},this.setByBooleanArray=function(t){for(var e="",n=0;n<t.length;n++)1==t[n]?e+="1":e+="0";this.setByBinaryString(e)},this.newFalseArray=function(t){for(var e=new Array(t),n=0;n<t;n++)e[n]=!1;return e},this.getFreshValueHex=function(){return this.hV},void 0!==t&&("string"==typeof t&&t.toLowerCase().match(/^[0-9a-f]+$/)?this.setHexValueIncludingUnusedBits(t):void 0!==t.hex?this.setHexValueIncludingUnusedBits(t.hex):void 0!==t.bin?this.setByBinaryString(t.bin):void 0!==t.array&&this.setByBooleanArray(t.array))},Qt(ut.asn1.DERBitString,ut.asn1.ASN1Object),ut.asn1.DEROctetString=function(t){if(void 0!==t&&void 0!==t.obj){var e=ut.asn1.ASN1Util.newObject(t.obj);t.hex=e.tohex()}ut.asn1.DEROctetString.superclass.constructor.call(this,t),this.hT="04"},Qt(ut.asn1.DEROctetString,ut.asn1.DERAbstractString),ut.asn1.DERNull=function(){ut.asn1.DERNull.superclass.constructor.call(this),this.hT="05",this.hTLV="0500"},Qt(ut.asn1.DERNull,ut.asn1.ASN1Object),ut.asn1.DERObjectIdentifier=function(t){ut.asn1.DERObjectIdentifier.superclass.constructor.call(this),this.hT="06",this.setValueHex=function(t){this.hTLV=null,this.isModified=!0,this.s=null,this.hV=t},this.setValueOidString=function(t){var e=Kt(t);if(null==e)throw new Error("malformed oid string: "+t);this.hTLV=null,this.isModified=!0,this.s=null,this.hV=e},this.setValueName=function(t){var e=ut.asn1.x509.OID.name2oid(t);if(""===e)throw new Error("DERObjectIdentifier oidName undefined: "+t);this.setValueOidString(e)},this.setValueNameOrOid=function(t){t.match(/^[0-2].[0-9.]+$/)?this.setValueOidString(t):this.setValueName(t)},this.getFreshValueHex=function(){return this.hV},this.setByParam=function(t){"string"==typeof t?this.setValueNameOrOid(t):void 0!==t.oid?this.setValueNameOrOid(t.oid):void 0!==t.name?this.setValueNameOrOid(t.name):void 0!==t.hex&&this.setValueHex(t.hex)},void 0!==t&&this.setByParam(t)},Qt(ut.asn1.DERObjectIdentifier,ut.asn1.ASN1Object),ut.asn1.DEREnumerated=function(t){ut.asn1.DEREnumerated.superclass.constructor.call(this),this.hT="0a",this.setByBigInteger=function(t){this.hTLV=null,this.isModified=!0,this.hV=ut.asn1.ASN1Util.bigIntToMinTwosComplementsHex(t)},this.setByInteger=function(t){var e=new x(String(t),10);this.setByBigInteger(e)},this.setValueHex=function(t){this.hV=t},this.getFreshValueHex=function(){return this.hV},void 0!==t&&(void 0!==t.int?this.setByInteger(t.int):"number"==typeof t?this.setByInteger(t):void 0!==t.hex&&this.setValueHex(t.hex))},Qt(ut.asn1.DEREnumerated,ut.asn1.ASN1Object),ut.asn1.DERUTF8String=function(t){ut.asn1.DERUTF8String.superclass.constructor.call(this,t),this.hT="0c"},Qt(ut.asn1.DERUTF8String,ut.asn1.DERAbstractString),ut.asn1.DERNumericString=function(t){ut.asn1.DERNumericString.superclass.constructor.call(this,t),this.hT="12"},Qt(ut.asn1.DERNumericString,ut.asn1.DERAbstractString),ut.asn1.DERPrintableString=function(t){ut.asn1.DERPrintableString.superclass.constructor.call(this,t),this.hT="13"},Qt(ut.asn1.DERPrintableString,ut.asn1.DERAbstractString),ut.asn1.DERTeletexString=function(t){ut.asn1.DERTeletexString.superclass.constructor.call(this,t),this.hT="14"},Qt(ut.asn1.DERTeletexString,ut.asn1.DERAbstractString),ut.asn1.DERIA5String=function(t){ut.asn1.DERIA5String.superclass.constructor.call(this,t),this.hT="16"},Qt(ut.asn1.DERIA5String,ut.asn1.DERAbstractString),ut.asn1.DERVisibleString=function(t){ut.asn1.DERIA5String.superclass.constructor.call(this,t),this.hT="1a"},Qt(ut.asn1.DERVisibleString,ut.asn1.DERAbstractString),ut.asn1.DERBMPString=function(t){ut.asn1.DERBMPString.superclass.constructor.call(this,t),this.hT="1e"},Qt(ut.asn1.DERBMPString,ut.asn1.DERAbstractString),ut.asn1.DERUTCTime=function(t){ut.asn1.DERUTCTime.superclass.constructor.call(this,t),this.hT="17",this.params=void 0,this.getFreshValueHex=function(){var t=this.params;if(null==this.params&&(t={date:new Date}),"string"==typeof t){if(!t.match(/^[0-9]{12}Z$/)&&!t.match(/^[0-9]{12}\.[0-9]+Z$/))throw new Error("malformed string for UTCTime: "+t);this.hV=gt(t)}else if(null!=t.str)this.hV=gt(t.str);else if(null==t.date&&1==t.millis){var e=new Date;this.hV=gt(this.formatDate(e,"utc",!0))}else if(null!=t.date&&t.date instanceof Date){var n=!0===t.millis;this.hV=gt(this.formatDate(t.date,"utc",n))}else t instanceof Date&&(this.hV=gt(this.formatDate(t,"utc")));if(null==this.hV)throw new Error("parameter not specified properly for UTCTime");return this.hV},null!=t&&this.setByParam(t)},Qt(ut.asn1.DERUTCTime,ut.asn1.DERAbstractTime),ut.asn1.DERGeneralizedTime=function(t){ut.asn1.DERGeneralizedTime.superclass.constructor.call(this,t),this.hT="18",this.params=t,this.getFreshValueHex=function(){var t=this.params;if(null==this.params&&(t={date:new Date}),"string"==typeof t){if(!t.match(/^[0-9]{14}Z$/)&&!t.match(/^[0-9]{14}\.[0-9]+Z$/))throw new Error("malformed string for GeneralizedTime: "+t);this.hV=gt(t)}else if(null!=t.str)this.hV=gt(t.str);else if(null==t.date&&1==t.millis){var e=new Date;this.hV=gt(this.formatDate(e,"gen",!0))}else if(null!=t.date&&t.date instanceof Date){var n=!0===t.millis;this.hV=gt(this.formatDate(t.date,"gen",n))}else t instanceof Date&&(this.hV=gt(this.formatDate(t,"gen")));if(null==this.hV)throw new Error("parameter not specified properly for GeneralizedTime");return this.hV},null!=t&&this.setByParam(t)},Qt(ut.asn1.DERGeneralizedTime,ut.asn1.DERAbstractTime),ut.asn1.DERSequence=function(t){ut.asn1.DERSequence.superclass.constructor.call(this,t),this.hT="30",this.getFreshValueHex=function(){for(var t="",e=0;e<this.asn1Array.length;e++){t+=this.asn1Array[e].tohex()}return this.hV=t,this.hV}},Qt(ut.asn1.DERSequence,ut.asn1.DERAbstractStructured),ut.asn1.DERSet=function(t){ut.asn1.DERSet.superclass.constructor.call(this,t),this.hT="31",this.sortFlag=!0,this.getFreshValueHex=function(){for(var t=new Array,e=0;e<this.asn1Array.length;e++){var n=this.asn1Array[e];t.push(n.tohex())}return 1==this.sortFlag&&t.sort(),this.hV=t.join(""),this.hV},void 0!==t&&void 0!==t.sortflag&&0==t.sortflag&&(this.sortFlag=!1)},Qt(ut.asn1.DERSet,ut.asn1.DERAbstractStructured),ut.asn1.DERTaggedObject=function(t){ut.asn1.DERTaggedObject.superclass.constructor.call(this);var e=ut.asn1,n=ht,r=n.getV,i=(n.isASN1HEX,e.ASN1Util.newObject);this.hT="a0",this.hV="",this.isExplicit=!0,this.asn1Object=null,this.params={tag:"a0",explicit:!0},this.setASN1Object=function(t,e,n){this.params={tag:e,explicit:t,obj:n}},this.getFreshValueHex=function(){var t=this.params;if(null==t.explicit&&(t.explicit=!0),null!=t.tage&&(t.tag=t.tage,t.explicit=!0),null!=t.tagi&&(t.tag=t.tagi,t.explicit=!1),null!=t.str)this.hV=wt(t.str);else if(null!=t.hex)this.hV=t.hex;else{if(null==t.obj)throw new Error("str, hex nor obj not specified");var n;t.obj instanceof e.ASN1Object?n=t.obj.tohex():"object"==typeof t.obj&&(n=i(t.obj).tohex()),t.explicit?this.hV=n:this.hV=r(n,0)}return null==t.tag&&(t.tag="a0"),this.hT=t.tag,this.hTLV=null,this.isModified=!0,this.hV},this.setByParam=function(t){this.params=t},void 0!==t&&this.setByParam(t)},Qt(ut.asn1.DERTaggedObject,ut.asn1.ASN1Object);var ut,lt,ct,ht=new function(){};function ft(t){for(var e=new Array,n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}function pt(t){for(var e="",n=0;n<t.length;n++)e+=String.fromCharCode(t[n]);return e}function dt(t){for(var e="",n=0;n<t.length;n++){var r=t[n].toString(16);1==r.length&&(r="0"+r),e+=r}return e}function gt(t){return dt(ft(t))}function vt(t){return t=(t=(t=t.replace(/\=/g,"")).replace(/\+/g,"-")).replace(/\//g,"_")}function mt(t){return t.length%4==2?t+="==":t.length%4==3&&(t+="="),t=(t=t.replace(/-/g,"+")).replace(/_/g,"/")}function yt(t){return t.length%2==1&&(t="0"+t),vt(y(t))}function bt(t){return b(mt(t))}function wt(t){return Dt($t(t)).toLowerCase()}function xt(t){try{return decodeURIComponent(Nt(t))}catch(t){return null}}function St(t){return xt(function(t){for(var e=t.match(/.{1,2}/g),n=[],r=0;r<e.length;r++){var i=parseInt(e[r],16);161<=i&&i<=191?(n.push("c2"),n.push(e[r])):192<=i&&i<=255?(n.push("c3"),n.push((i-64).toString(16))):n.push(e[r])}return n.join("")}(t))}function Et(t){for(var e="",n=0;n<t.length-1;n+=2)e+=String.fromCharCode(parseInt(t.substr(n,2),16));return e}function At(t){for(var e="",n=0;n<t.length;n++)e+=("0"+t.charCodeAt(n).toString(16)).slice(-2);return e}function Ct(t){return y(t)}function Ft(t){var e=Ct(t).replace(/(.{64})/g,"$1\r\n");return e=e.replace(/\r\n$/,"")}function Pt(t){return b(t.replace(/[^0-9A-Za-z\/+=]*/g,""))}function kt(t,e){return"-----BEGIN "+e+"-----\r\n"+Ft(t)+"\r\n-----END "+e+"-----\r\n"}function Tt(t,e){if(-1==t.indexOf("-----BEGIN "))throw"can't find PEM header: "+e;return Pt(t=void 0!==e?(t=t.replace(new RegExp("^[^]*-----BEGIN "+e+"-----"),"")).replace(new RegExp("-----END "+e+"-----[^]*$"),""):(t=t.replace(/^[^]*-----BEGIN [^-]+-----/,"")).replace(/-----END [^-]+-----[^]*$/,""))}function _t(t){var e,n,r,i,o,s,a,u,l,c,h;if(h=t.match(/^(\d{2}|\d{4})(\d\d)(\d\d)(\d\d)(\d\d)(\d\d)(|\.\d+)Z$/))return u=h[1],e=parseInt(u),2===u.length&&(50<=e&&e<100?e=1900+e:0<=e&&e<50&&(e=2e3+e)),n=parseInt(h[2])-1,r=parseInt(h[3]),i=parseInt(h[4]),o=parseInt(h[5]),s=parseInt(h[6]),a=0,""!==(l=h[7])&&(c=(l.substr(1)+"00").substr(0,3),a=parseInt(c)),Date.UTC(e,n,r,i,o,s,a);throw new Error("unsupported zulu format: "+t)}function It(t){return Math.round(_t(t)/1e3)}function Dt(t){return t.replace(/%/g,"")}function Nt(t){return t.replace(/(..)/g,"%$1")}function Rt(t){var e="malformed IPv6 address";if(!t.match(/^[0-9A-Fa-f:]+$/))throw e;var n=(t=t.toLowerCase()).split(":").length-1;if(n<2)throw e;var r=":".repeat(7-n+2),i=(t=t.replace("::",r)).split(":");if(8!=i.length)throw e;for(var o=0;o<8;o++)i[o]=("0000"+i[o]).slice(-4);return i.join("")}function Ot(t){if(!t.match(/^[0-9A-Fa-f]{32}$/))throw new Error("malformed IPv6 address: "+t);var e=(t=t.toLowerCase()).match(/.{1,4}/g),n=(t=":"+(e=(e=e.map((function(t){return t.replace(/^0+/,"")}))).map((function(t){return""==t?"0":t}))).join(":")+":").match(/:(0:){2,}/g);if(null==n)return t.slice(1,-1);var r=n.sort().slice(-1)[0];return"::"!=(t=t.replace(r.substr(0,r.length-1),":")).substr(0,2)&&(t=t.substr(1)),"::"!=t.substr(-2,2)&&(t=t.substr(0,t.length-1)),t}function jt(t){var e=new Error("malformed hex value");if(!t.match(/^([0-9A-Fa-f][0-9A-Fa-f]){1,}$/))throw e;if(8==t.length){try{return parseInt(t.substr(0,2),16)+"."+parseInt(t.substr(2,2),16)+"."+parseInt(t.substr(4,2),16)+"."+parseInt(t.substr(6,2),16)}catch(t){throw e}}else{if(16!=t.length){if(32==t.length)return Ot(t);if(64==t.length){try{return Ot(t.substr(0,32))+"/"+Bt(t.substr(32))}catch(t){throw e}return}return t}try{return jt(t.substr(0,8))+"/"+Bt(t.substr(8))}catch(t){throw e}}}function Bt(t){var e,n=new Error("malformed mask");try{e=new x(t,16).toString(2)}catch(t){throw n}if(!e.match(/^1*0*$/))throw n;return e.replace(/0+$/,"").length}function Ht(t){var e=new Error("malformed IP address");if(!(t=t.toLowerCase(t)).match(/^[0-9a-f.:/]+$/))throw e;if(!t.match(/^[0-9.]+$/)){var n;if(t.match(/^[0-9.]+\/[0-9]+$/))return Ht((n=t.split("/"))[0])+Lt(parseInt(n[1]),32);if(t.match(/^[0-9a-f:]+$/)&&-1!==t.indexOf(":"))return Rt(t);if(t.match(/^[0-9a-f:]+\/[0-9]+$/)&&-1!==t.indexOf(":"))return Rt((n=t.split("/"))[0])+Lt(parseInt(n[1]),128);throw e}var r=t.split(".");if(4!==r.length)throw e;var i="";try{for(var o=0;o<4;o++){i+=("0"+parseInt(r[o]).toString(16)).slice(-2)}return i}catch(t){throw e}}function Lt(t,e){return 32==e&&0==t?"00000000":128==e&&0==t?"00000000000000000000000000000000":new x(Array(t+1).join("1")+Array(e-t+1).join("0"),2).toString(16)}function Mt(t){return t.match(/.{4}/g).map((function(t){var e=parseInt(t.substr(0,2),16),n=parseInt(t.substr(2),16);if(0==e&n<128)return String.fromCharCode(n);if(e<8){var r=128|63&n;return xt((192|(7&e)<<3|(192&n)>>6).toString(16)+r.toString(16))}r=128|(15&e)<<2|(192&n)>>6;var i=128|63&n;return xt((224|(240&e)>>4).toString(16)+r.toString(16)+i.toString(16))})).join("")}function $t(t){for(var e=encodeURIComponent(t),n="",r=0;r<e.length;r++)"%"==e[r]?(n+=e.substr(r,3),r+=2):n=n+"%"+gt(e[r]);return n}function Ut(t){return!(t.length%2!=0||!t.match(/^[0-9a-f]+$/)&&!t.match(/^[0-9A-F]+$/))}function Vt(t){return!!t.match(/^[0-9A-Za-z-_.]+$/)}function qt(t){return t.length%2==1?"0"+t:t.substr(0,1)>"7"?"00"+t:t}ht.getLblen=function(t,e){if("8"!=t.substr(e+2,1))return 1;var n=parseInt(t.substr(e+3,1));return 0==n?-1:0<n&&n<10?n+1:-2},ht.getL=function(t,e){var n=ht.getLblen(t,e);return n<1?"":t.substr(e+2,2*n)},ht.getVblen=function(t,e){var n;return""==(n=ht.getL(t,e))?-1:("8"===n.substr(0,1)?new x(n.substr(2),16):new x(n,16)).intValue()},ht.getVidx=function(t,e){var n=ht.getLblen(t,e);return n<0?n:e+2*(n+1)},ht.getV=function(t,e){var n=ht.getVidx(t,e),r=ht.getVblen(t,e);return t.substr(n,2*r)},ht.getTLV=function(t,e){return t.substr(e,2)+ht.getL(t,e)+ht.getV(t,e)},ht.getTLVblen=function(t,e){return 2+2*ht.getLblen(t,e)+2*ht.getVblen(t,e)},ht.getNextSiblingIdx=function(t,e){return ht.getVidx(t,e)+2*ht.getVblen(t,e)},ht.getChildIdx=function(t,e){var n,r,i,o=ht,s=[];n=o.getVidx(t,e),r=2*o.getVblen(t,e),"03"==t.substr(e,2)&&(n+=2,r-=2),i=0;for(var a=n;i<=r;){var u=o.getTLVblen(t,a);if((i+=u)<=r&&s.push(a),a+=u,i>=r)break}return s},ht.getNthChildIdx=function(t,e,n){return ht.getChildIdx(t,e)[n]},ht.getIdxbyList=function(t,e,n,r){var i,o,s=ht;return 0==n.length?void 0!==r&&t.substr(e,2)!==r?-1:e:(i=n.shift())>=(o=s.getChildIdx(t,e)).length?-1:s.getIdxbyList(t,o[i],n,r)},ht.getIdxbyListEx=function(t,e,n,r){var i,o,s=ht;if(0==n.length)return void 0!==r&&t.substr(e,2)!==r?-1:e;i=n.shift(),o=s.getChildIdx(t,e);for(var a=0,u=0;u<o.length;u++){var l=t.substr(o[u],2);if("number"==typeof i&&!s.isContextTag(l)&&a==i||"string"==typeof i&&s.isContextTag(l,i))return s.getIdxbyListEx(t,o[u],n,r);s.isContextTag(l)||a++}return-1},ht.getTLVbyList=function(t,e,n,r){var i=ht,o=i.getIdxbyList(t,e,n,r);return-1==o||o>=t.length?null:i.getTLV(t,o)},ht.getTLVbyListEx=function(t,e,n,r){var i=ht,o=i.getIdxbyListEx(t,e,n,r);return-1==o?null:i.getTLV(t,o)},ht.getVbyList=function(t,e,n,r,i){var o,s,a=ht;return-1==(o=a.getIdxbyList(t,e,n,r))||o>=t.length?null:(s=a.getV(t,o),!0===i&&(s=s.substr(2)),s)},ht.getVbyListEx=function(t,e,n,r,i){var o,s,a=ht;return-1==(o=a.getIdxbyListEx(t,e,n,r))?null:(s=a.getV(t,o),"03"==t.substr(o,2)&&!1!==i&&(s=s.substr(2)),s)},ht.getInt=function(t,e,n){null==n&&(n=-1);try{var r=t.substr(e,2);if("02"!=r&&"03"!=r)return n;var i=ht.getV(t,e);return"02"==r?parseInt(i,16):Wt(i)}catch(t){return n}},ht.getOID=function(t,e,n){null==n&&(n=null);try{return"06"!=t.substr(e,2)?n:zt(ht.getV(t,e))}catch(t){return n}},ht.getOIDName=function(t,e,n){null==n&&(n=null);try{var r=ht.getOID(t,e,n);if(r==n)return n;var i=ut.asn1.x509.OID.oid2name(r);return""==i?r:i}catch(t){return n}},ht.getString=function(t,e,n){null==n&&(n=null);try{return Et(ht.getV(t,e))}catch(t){return n}},ht.hextooidstr=function(t){var e=function(t,e){return t.length>=e?t:new Array(e-t.length+1).join("0")+t},n=[],r=t.substr(0,2),i=parseInt(r,16);n[0]=new String(Math.floor(i/40)),n[1]=new String(i%40);for(var o=t.substr(2),s=[],a=0;a<o.length/2;a++)s.push(parseInt(o.substr(2*a,2),16));var u=[],l="";for(a=0;a<s.length;a++)128&s[a]?l+=e((127&s[a]).toString(2),7):(l+=e((127&s[a]).toString(2),7),u.push(new String(parseInt(l,2))),l="");var c=n.join(".");return u.length>0&&(c=c+"."+u.join(".")),c},ht.dump=function(t,e,n,r){var i=ht,o=i.getV,s=i.dump,a=i.getChildIdx,u=t;t instanceof ut.asn1.ASN1Object&&(u=t.tohex());var l=function(t,e){return t.length<=2*e?t:t.substr(0,e)+"..(total "+t.length/2+"bytes).."+t.substr(t.length-e,e)};void 0===e&&(e={ommit_long_octet:32}),void 0===n&&(n=0),void 0===r&&(r="");var c,h=e.ommit_long_octet;if("01"==(c=u.substr(n,2)))return"00"==(f=o(u,n))?r+"BOOLEAN FALSE\n":r+"BOOLEAN TRUE\n";if("02"==c)return r+"INTEGER "+l(f=o(u,n),h)+"\n";if("03"==c){var f=o(u,n);if(i.isASN1HEX(f.substr(2))){var p=r+"BITSTRING, encapsulates\n";return p+=s(f.substr(2),e,0,r+"  ")}return r+"BITSTRING "+l(f,h)+"\n"}if("04"==c){f=o(u,n);if(i.isASN1HEX(f)){p=r+"OCTETSTRING, encapsulates\n";return p+=s(f,e,0,r+"  ")}return r+"OCTETSTRING "+l(f,h)+"\n"}if("05"==c)return r+"NULL\n";if("06"==c){var d=o(u,n),g=ut.asn1.ASN1Util.oidHexToInt(d),v=ut.asn1.x509.OID.oid2name(g),m=g.replace(/\./g," ");return""!=v?r+"ObjectIdentifier "+v+" ("+m+")\n":r+"ObjectIdentifier ("+m+")\n"}if("0a"==c)return r+"ENUMERATED "+parseInt(o(u,n))+"\n";if("0c"==c)return r+"UTF8String '"+xt(o(u,n))+"'\n";if("13"==c)return r+"PrintableString '"+xt(o(u,n))+"'\n";if("14"==c)return r+"TeletexString '"+xt(o(u,n))+"'\n";if("16"==c)return r+"IA5String '"+xt(o(u,n))+"'\n";if("17"==c)return r+"UTCTime "+xt(o(u,n))+"\n";if("18"==c)return r+"GeneralizedTime "+xt(o(u,n))+"\n";if("1a"==c)return r+"VisualString '"+xt(o(u,n))+"'\n";if("1e"==c)return r+"BMPString '"+Mt(o(u,n))+"'\n";if("30"==c){if("3000"==u.substr(n,4))return r+"SEQUENCE {}\n";p=r+"SEQUENCE\n";var y=e;if((2==(x=a(u,n)).length||3==x.length)&&"06"==u.substr(x[0],2)&&"04"==u.substr(x[x.length-1],2)){v=i.oidname(o(u,x[0]));var b=JSON.parse(JSON.stringify(e));b.x509ExtName=v,y=b}for(var w=0;w<x.length;w++)p+=s(u,y,x[w],r+"  ");return p}if("31"==c){p=r+"SET\n";var x=a(u,n);for(w=0;w<x.length;w++)p+=s(u,e,x[w],r+"  ");return p}if(0!=(128&(c=parseInt(c,16)))){var S=31&c;if(0!=(32&c)){for(p=r+"["+S+"]\n",x=a(u,n),w=0;w<x.length;w++)p+=s(u,e,x[w],r+"  ");return p}f=o(u,n);if(ht.isASN1HEX(f)){var p=r+"["+S+"]\n";return p+=s(f,e,0,r+"  ")}return("68747470"==f.substr(0,8)||"subjectAltName"===e.x509ExtName&&2==S)&&(f=xt(f)),p=r+"["+S+"] "+f+"\n"}return r+"UNKNOWN("+c+") "+o(u,n)+"\n"},ht.parse=function(t){var e=ht,n=e.parse,r=e.isASN1HEX,i=e.getV,o=e.getTLV,s=e.getChildIdx,a=ut.asn1,u=a.ASN1Util.oidHexToInt,l=a.x509.OID.oid2name,c=xt,h=Mt,f=St,p={"0c":"utf8str",12:"numstr",13:"prnstr",14:"telstr",16:"ia5str",17:"utctime",18:"gentime","1a":"visstr","1e":"bmpstr",30:"seq",31:"set"},d=t.substr(0,2),g={},v=i(t,0);if("01"==d)return"0101ff"==t?{bool:!0}:{bool:!1};if("02"==d)return{int:{hex:v}};if("03"==d)try{if("00"!=v.substr(0,2))throw"not encap";var m=v.substr(2);if(!r(m))throw"not encap";return{bitstr:{obj:n(m)}}}catch(t){var y=null;return v.length<=10&&(y=Xt(v)),null==y?{bitstr:{hex:v}}:{bitstr:{bin:y}}}else if("04"==d)try{if(!r(v))throw"not encap";return{octstr:{obj:n(v)}}}catch(t){return{octstr:{hex:v}}}else{if("05"==d)return{null:""};if("06"==d){var b=u(v),w=l(b);return""==w?{oid:b}:{oid:w}}if("0a"==d)return v.length>4?{enum:{hex:v}}:{enum:parseInt(v,16)};if("30"==d||"31"==d)return g[p[d]]=function(t){for(var e=[],r=s(t,0),i=0;i<r.length;i++){var a=r[i],u=o(t,a),l=n(u);e.push(l)}return e}(t),g;if("14"==d){var x=f(v);return g[p[d]]={str:x},g}if("1e"==d){x=h(v);return g[p[d]]={str:x},g}if(-1!=":0c:12:13:16:17:18:1a:".indexOf(d)){x=c(v);return g[p[d]]={str:x},g}if(d.match(/^8[0-9]$/))return null==(x=c(v))|""==x||null!=x.match(/[\x00-\x1F\x7F-\x9F]/)||null!=x.match(/[\u0000-\u001F\u0080–\u009F]/)?{tag:{tag:d,explicit:!1,hex:v}}:{tag:{tag:d,explicit:!1,str:x}};if(!d.match(/^a[0-9]$/)){var S=new ut.asn1.ASN1Object;return S.hV=v,{asn1:{tlv:d+S.getLengthHexFromValue()+v}}}try{if(!r(v))throw new Error("not encap");return{tag:{tag:d,explicit:!0,obj:n(v)}}}catch(t){return{tag:{tag:d,explicit:!0,hex:v}}}}},ht.isContextTag=function(t,e){var n,r;t=t.toLowerCase();try{n=parseInt(t,16)}catch(t){return-1}if(void 0===e)return 128==(192&n);try{return null!=e.match(/^\[[0-9]+\]$/)&&(!((r=parseInt(e.substr(1,e.length-1),10))>31)&&(128==(192&n)&&(31&n)==r))}catch(t){return!1}},ht.isASN1HEX=function(t){var e=ht;if(t.length%2==1)return!1;var n=e.getVblen(t,0),r=t.substr(0,2),i=e.getL(t,0);return t.length-r.length-i.length==2*n},ht.checkStrictDER=function(t,e,n,r,i){var o=ht;if(void 0===n){if("string"!=typeof t)throw new Error("not hex string");if(t=t.toLowerCase(),!ut.lang.String.isHex(t))throw new Error("not hex string");n=t.length,i=(r=t.length/2)<128?1:Math.ceil(r.toString(16))+1}if(o.getL(t,e).length>2*i)throw new Error("L of TLV too long: idx="+e);var s=o.getVblen(t,e);if(s>r)throw new Error("value of L too long than hex: idx="+e);var a=o.getTLV(t,e),u=a.length-2-o.getL(t,e).length;if(u!==2*s)throw new Error("V string length and L's value not the same:"+u+"/"+2*s);if(0===e&&t.length!=a.length)throw new Error("total length and TLV length unmatch:"+t.length+"!="+a.length);var l=t.substr(e,2);if("02"===l){var c=o.getVidx(t,e);if("00"==t.substr(c,2)&&t.charCodeAt(c+2)<56)throw new Error("not least zeros for DER INTEGER")}if(32&parseInt(l,16)){for(var h=o.getVblen(t,e),f=0,p=o.getChildIdx(t,e),d=0;d<p.length;d++){f+=o.getTLV(t,p[d]).length,o.checkStrictDER(t,p[d],n,r,i)}if(2*h!=f)throw new Error("sum of children's TLV length and L unmatch: "+2*h+"!="+f)}},ht.oidname=function(t){var e=ut.asn1;ut.lang.String.isHex(t)&&(t=e.ASN1Util.oidHexToInt(t));var n=e.x509.OID.oid2name(t);return""===n&&(n=t),n},void 0!==ut&&ut||(ut={}),void 0!==ut.asn1&&ut.asn1||(ut.asn1={}),void 0!==ut.asn1.x509&&ut.asn1.x509||(ut.asn1.x509={}),ut.asn1.x509.Certificate=function(t){ut.asn1.x509.Certificate.superclass.constructor.call(this);var e=ut.asn1,n=e.DERBitString,r=e.DERSequence,i=e.x509,o=i.TBSCertificate,s=i.AlgorithmIdentifier;this.params=void 0,this.setByParam=function(t){this.params=t},this.sign=function(){var t=this.params,e=t.sigalg;null!=t.sigalg.name&&(e=t.sigalg.name);var n=t.tbsobj.tohex(),r=new ut.crypto.Signature({alg:e});r.init(t.cakey),r.updateHex(n),t.sighex=r.sign()},this.getPEM=function(){return kt(this.tohex(),"CERTIFICATE")},this.tohex=function(){var t=this.params;if(null!=t.tbsobj&&null!=t.tbsobj||(t.tbsobj=new o(t)),null==t.sighex&&null!=t.cakey&&this.sign(),null==t.sighex)throw new Error("sighex or cakey parameter not defined");var e=[];return e.push(t.tbsobj),e.push(new s({name:t.sigalg})),e.push(new n({hex:"00"+t.sighex})),new r({array:e}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=t&&(this.params=t)},Qt(ut.asn1.x509.Certificate,ut.asn1.ASN1Object),ut.asn1.x509.TBSCertificate=function(t){ut.asn1.x509.TBSCertificate.superclass.constructor.call(this);var e=ut.asn1,n=e.x509,r=e.DERTaggedObject,i=e.DERInteger,o=e.DERSequence,s=n.AlgorithmIdentifier,a=n.Time,u=n.X500Name,l=n.Extensions,c=n.SubjectPublicKeyInfo;this.params=null,this.setByParam=function(t){this.params=t},this.tohex=function(){var t=[],e=this.params;if(null!=e.version||1!=e.version){var n=2;null!=e.version&&(n=e.version-1);var h=new r({obj:new i({int:n})});t.push(h)}return t.push(new i(e.serial)),t.push(new s({name:e.sigalg})),t.push(new u(e.issuer)),t.push(new o({array:[new a(e.notbefore),new a(e.notafter)]})),t.push(new u(e.subject)),t.push(new c(Zt.getKey(e.sbjpubkey))),void 0!==e.ext&&e.ext.length>0&&t.push(new r({tag:"a3",obj:new l(e.ext)})),new ut.asn1.DERSequence({array:t}).tohex()},this.getEncodedHex=function(){return this.tohex()},void 0!==t&&this.setByParam(t)},Qt(ut.asn1.x509.TBSCertificate,ut.asn1.ASN1Object),ut.asn1.x509.Extensions=function(t){ut.asn1.x509.Extensions.superclass.constructor.call(this);var e=ut.asn1,n=e.DERSequence,r=e.x509;this.aParam=[],this.setByParam=function(t){this.aParam=t},this.tohex=function(){for(var t=[],e=0;e<this.aParam.length;e++){var i=this.aParam[e],o=i.extname,s=null;if(null!=i.extn)s=new r.PrivateExtension(i);else if("subjectKeyIdentifier"==o)s=new r.SubjectKeyIdentifier(i);else if("keyUsage"==o)s=new r.KeyUsage(i);else if("subjectAltName"==o)s=new r.SubjectAltName(i);else if("issuerAltName"==o)s=new r.IssuerAltName(i);else if("basicConstraints"==o)s=new r.BasicConstraints(i);else if("nameConstraints"==o)s=new r.NameConstraints(i);else if("cRLDistributionPoints"==o)s=new r.CRLDistributionPoints(i);else if("certificatePolicies"==o)s=new r.CertificatePolicies(i);else if("authorityKeyIdentifier"==o)s=new r.AuthorityKeyIdentifier(i);else if("extKeyUsage"==o)s=new r.ExtKeyUsage(i);else if("authorityInfoAccess"==o)s=new r.AuthorityInfoAccess(i);else if("cRLNumber"==o)s=new r.CRLNumber(i);else if("cRLReason"==o)s=new r.CRLReason(i);else if("ocspNonce"==o)s=new r.OCSPNonce(i);else if("ocspNoCheck"==o)s=new r.OCSPNoCheck(i);else if("adobeTimeStamp"==o)s=new r.AdobeTimeStamp(i);else{if("subjectDirectoryAttributes"!=o)throw new Error("extension not supported:"+JSON.stringify(i));s=new r.SubjectDirectoryAttributes(i)}null!=s&&t.push(s)}return new n({array:t}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=t&&this.setByParam(t)},Qt(ut.asn1.x509.Extensions,ut.asn1.ASN1Object),ut.asn1.x509.Extension=function(t){ut.asn1.x509.Extension.superclass.constructor.call(this);var e=ut.asn1,n=e.DERObjectIdentifier,r=e.DEROctetString,i=(e.DERBitString,e.DERBoolean),o=e.DERSequence;this.tohex=function(){var t=new n({oid:this.oid}),e=new r({hex:this.getExtnValueHex()}),s=new Array;return s.push(t),this.critical&&s.push(new i),s.push(e),new o({array:s}).tohex()},this.getEncodedHex=function(){return this.tohex()},this.critical=!1,void 0!==t&&void 0!==t.critical&&(this.critical=t.critical)},Qt(ut.asn1.x509.Extension,ut.asn1.ASN1Object),ut.asn1.x509.KeyUsage=function(t){ut.asn1.x509.KeyUsage.superclass.constructor.call(this,t);var e=Error,n={digitalSignature:0,nonRepudiation:1,keyEncipherment:2,dataEncipherment:3,keyAgreement:4,keyCertSign:5,cRLSign:6,encipherOnly:7,decipherOnly:8};this.getExtnValueHex=function(){var t=this.getBinValue();return this.asn1ExtnValue=new ut.asn1.DERBitString({bin:t}),this.asn1ExtnValue.tohex()},this.getBinValue=function(){var t=this.params;if("object"!=typeof t||"object"!=typeof t.names&&"string"!=typeof t.bin)throw new e("parameter not yet set");if(null!=t.names)return Jt(t.names,n);if(null!=t.bin)return t.bin;throw new e("parameter not set properly")},this.oid="2.5.29.15",void 0!==t&&(this.params=t)},Qt(ut.asn1.x509.KeyUsage,ut.asn1.x509.Extension),ut.asn1.x509.BasicConstraints=function(t){ut.asn1.x509.BasicConstraints.superclass.constructor.call(this,t);var e=ut.asn1,n=e.DERBoolean,r=e.DERInteger,i=e.DERSequence;this.getExtnValueHex=function(){var t=new Array;this.cA&&t.push(new n),this.pathLen>-1&&t.push(new r({int:this.pathLen}));var e=new i({array:t});return this.asn1ExtnValue=e,this.asn1ExtnValue.tohex()},this.oid="2.5.29.19",this.cA=!1,this.pathLen=-1,void 0!==t&&(void 0!==t.cA&&(this.cA=t.cA),void 0!==t.pathLen&&(this.pathLen=t.pathLen))},Qt(ut.asn1.x509.BasicConstraints,ut.asn1.x509.Extension),ut.asn1.x509.CRLDistributionPoints=function(t){ut.asn1.x509.CRLDistributionPoints.superclass.constructor.call(this,t);var e=ut.asn1,n=e.x509;this.getExtnValueHex=function(){return this.asn1ExtnValue.tohex()},this.setByDPArray=function(t){for(var r=[],i=0;i<t.length;i++)if(t[i]instanceof ut.asn1.ASN1Object)r.push(t[i]);else{var o=new n.DistributionPoint(t[i]);r.push(o)}this.asn1ExtnValue=new e.DERSequence({array:r})},this.setByOneURI=function(t){var e=new n.DistributionPoint({fulluri:t});this.setByDPArray([e])},this.oid="2.5.29.31",void 0!==t&&(void 0!==t.array?this.setByDPArray(t.array):void 0!==t.uri&&this.setByOneURI(t.uri))},Qt(ut.asn1.x509.CRLDistributionPoints,ut.asn1.x509.Extension),ut.asn1.x509.DistributionPoint=function(t){ut.asn1.x509.DistributionPoint.superclass.constructor.call(this);var e=ut.asn1,n=e.x509.DistributionPointName;this.tohex=function(){var t=new e.DERSequence;if(null!=this.asn1DP){var n=new e.DERTaggedObject({explicit:!0,tag:"a0",obj:this.asn1DP});t.appendASN1Object(n)}return this.hTLV=t.tohex(),this.hTLV},this.getEncodedHex=function(){return this.tohex()},void 0!==t&&(void 0!==t.dpobj?this.asn1DP=t.dpobj:void 0!==t.dpname?this.asn1DP=new n(t.dpname):void 0!==t.fulluri&&(this.asn1DP=new n({full:[{uri:t.fulluri}]})))},Qt(ut.asn1.x509.DistributionPoint,ut.asn1.ASN1Object),ut.asn1.x509.DistributionPointName=function(t){ut.asn1.x509.DistributionPointName.superclass.constructor.call(this);var e=ut.asn1,n=e.DERTaggedObject;if(this.tohex=function(){if("full"!=this.type)throw new Error("currently type shall be 'full': "+this.type);return this.asn1Obj=new n({explicit:!1,tag:this.tag,obj:this.asn1V}),this.hTLV=this.asn1Obj.tohex(),this.hTLV},this.getEncodedHex=function(){return this.tohex()},void 0!==t)if(e.x509.GeneralNames.prototype.isPrototypeOf(t))this.type="full",this.tag="a0",this.asn1V=t;else{if(void 0===t.full)throw new Error("This class supports GeneralNames only as argument");this.type="full",this.tag="a0",this.asn1V=new e.x509.GeneralNames(t.full)}},Qt(ut.asn1.x509.DistributionPointName,ut.asn1.ASN1Object),ut.asn1.x509.CertificatePolicies=function(t){ut.asn1.x509.CertificatePolicies.superclass.constructor.call(this,t);var e=ut.asn1,n=e.x509,r=e.DERSequence,i=n.PolicyInformation;this.params=null,this.getExtnValueHex=function(){for(var t=[],e=0;e<this.params.array.length;e++)t.push(new i(this.params.array[e]));var n=new r({array:t});return this.asn1ExtnValue=n,this.asn1ExtnValue.tohex()},this.oid="2.5.29.32",void 0!==t&&(this.params=t)},Qt(ut.asn1.x509.CertificatePolicies,ut.asn1.x509.Extension),ut.asn1.x509.PolicyInformation=function(t){ut.asn1.x509.PolicyInformation.superclass.constructor.call(this,t);var e=ut.asn1,n=e.DERSequence,r=e.DERObjectIdentifier,i=e.x509.PolicyQualifierInfo;this.params=null,this.tohex=function(){if(void 0===this.params.policyoid&&void 0===this.params.array)throw new Error("parameter oid and array missing");var t=[new r(this.params.policyoid)];if(void 0!==this.params.array){for(var e=[],o=0;o<this.params.array.length;o++)e.push(new i(this.params.array[o]));e.length>0&&t.push(new n({array:e}))}return new n({array:t}).tohex()},this.getEncodedHex=function(){return this.tohex()},void 0!==t&&(this.params=t)},Qt(ut.asn1.x509.PolicyInformation,ut.asn1.ASN1Object),ut.asn1.x509.PolicyQualifierInfo=function(t){ut.asn1.x509.PolicyQualifierInfo.superclass.constructor.call(this,t);var e=ut.asn1,n=e.DERSequence,r=e.DERIA5String,i=e.DERObjectIdentifier,o=e.x509.UserNotice;this.params=null,this.tohex=function(){return void 0!==this.params.cps?new n({array:[new i({oid:"1.3.6.1.5.5.7.2.1"}),new r({str:this.params.cps})]}).tohex():null!=this.params.unotice?new n({array:[new i({oid:"1.3.6.1.5.5.7.2.2"}),new o(this.params.unotice)]}).tohex():void 0},this.getEncodedHex=function(){return this.tohex()},void 0!==t&&(this.params=t)},Qt(ut.asn1.x509.PolicyQualifierInfo,ut.asn1.ASN1Object),ut.asn1.x509.UserNotice=function(t){ut.asn1.x509.UserNotice.superclass.constructor.call(this,t);var e=ut.asn1.DERSequence,n=(ut.asn1.DERInteger,ut.asn1.x509.DisplayText),r=ut.asn1.x509.NoticeReference;this.params=null,this.tohex=function(){var t=[];return void 0!==this.params.noticeref&&t.push(new r(this.params.noticeref)),void 0!==this.params.exptext&&t.push(new n(this.params.exptext)),new e({array:t}).tohex()},this.getEncodedHex=function(){return this.tohex()},void 0!==t&&(this.params=t)},Qt(ut.asn1.x509.UserNotice,ut.asn1.ASN1Object),ut.asn1.x509.NoticeReference=function(t){ut.asn1.x509.NoticeReference.superclass.constructor.call(this,t);var e=ut.asn1.DERSequence,n=ut.asn1.DERInteger,r=ut.asn1.x509.DisplayText;this.params=null,this.tohex=function(){var t=[];if(void 0!==this.params.org&&t.push(new r(this.params.org)),void 0!==this.params.noticenum){for(var i=[],o=this.params.noticenum,s=0;s<o.length;s++)i.push(new n(o[s]));t.push(new e({array:i}))}if(0==t.length)throw new Error("parameter is empty");return new e({array:t}).tohex()},this.getEncodedHex=function(){return this.tohex()},void 0!==t&&(this.params=t)},Qt(ut.asn1.x509.NoticeReference,ut.asn1.ASN1Object),ut.asn1.x509.DisplayText=function(t){ut.asn1.x509.DisplayText.superclass.constructor.call(this,t),this.hT="0c",void 0!==t&&("ia5"===t.type?this.hT="16":"vis"===t.type?this.hT="1a":"bmp"===t.type&&(this.hT="1e"))},Qt(ut.asn1.x509.DisplayText,ut.asn1.DERAbstractString),ut.asn1.x509.NameConstraints=function(t){ut.asn1.x509.NameConstraints.superclass.constructor.call(this,t);var e=ut.asn1,n=e.x509,r=e.ASN1Util.newObject,i=n.GeneralSubtree;this.params=null,this.getExtnValueHex=function(){var t=this.params,e=[];if(null!=t.permit&&null!=t.permit.length){for(var n=[],o=0;o<t.permit.length;o++)n.push(new i(t.permit[o]));e.push({tag:{tagi:"a0",obj:{seq:n}}})}if(null!=t.exclude&&null!=t.exclude.length){var s=[];for(o=0;o<t.exclude.length;o++)s.push(new i(t.exclude[o]));e.push({tag:{tagi:"a1",obj:{seq:s}}})}return this.asn1ExtnValue=r({seq:e}),this.asn1ExtnValue.tohex()},this.oid="2.5.29.30",void 0!==t&&(this.params=t)},Qt(ut.asn1.x509.NameConstraints,ut.asn1.x509.Extension),ut.asn1.x509.GeneralSubtree=function(t){ut.asn1.x509.GeneralSubtree.superclass.constructor.call(this);var e=ut.asn1,n=e.x509.GeneralName,r=e.ASN1Util.newObject;this.params=null,this.setByParam=function(t){this.params=t},this.tohex=function(){var t=this.params,e=[new n(t)];return null!=t.min&&e.push({tag:{tagi:"80",obj:{int:t.min}}}),null!=t.max&&e.push({tag:{tagi:"81",obj:{int:t.max}}}),r({seq:e}).tohex()},this.getEncodedHex=function(){return this.tohex()},void 0!==t&&this.setByParam(t)},Qt(ut.asn1.x509.GeneralSubtree,ut.asn1.ASN1Object),ut.asn1.x509.ExtKeyUsage=function(t){ut.asn1.x509.ExtKeyUsage.superclass.constructor.call(this,t);var e=ut.asn1;this.setPurposeArray=function(t){this.asn1ExtnValue=new e.DERSequence;for(var n=0;n<t.length;n++){var r=new e.DERObjectIdentifier(t[n]);this.asn1ExtnValue.appendASN1Object(r)}},this.getExtnValueHex=function(){return this.asn1ExtnValue.tohex()},this.oid="2.5.29.37",void 0!==t&&void 0!==t.array&&this.setPurposeArray(t.array)},Qt(ut.asn1.x509.ExtKeyUsage,ut.asn1.x509.Extension),ut.asn1.x509.AuthorityKeyIdentifier=function(t){ut.asn1.x509.AuthorityKeyIdentifier.superclass.constructor.call(this,t);var e=ut,n=e.asn1,r=n.DERTaggedObject,i=n.x509.GeneralNames;e.crypto.Util.isKey;this.asn1KID=null,this.asn1CertIssuer=null,this.asn1CertSN=null,this.getExtnValueHex=function(){var t=new Array;this.asn1KID&&t.push(new r({explicit:!1,tag:"80",obj:this.asn1KID})),this.asn1CertIssuer&&t.push(new r({explicit:!1,tag:"a1",obj:new i([{dn:this.asn1CertIssuer}])})),this.asn1CertSN&&t.push(new r({explicit:!1,tag:"82",obj:this.asn1CertSN}));var e=new n.DERSequence({array:t});return this.asn1ExtnValue=e,this.asn1ExtnValue.tohex()},this.setKIDByParam=function(t){if(void 0!==t.str||void 0!==t.hex)this.asn1KID=new ut.asn1.DEROctetString(t);else if("object"==typeof t&&ut.crypto.Util.isKey(t)||"string"==typeof t&&-1!=t.indexOf("BEGIN ")){var e=t;"string"==typeof t&&(e=Zt.getKey(t));var n=Zt.getKeyID(e);this.asn1KID=new ut.asn1.DEROctetString({hex:n})}},this.setCertIssuerByParam=function(t){void 0!==t.str||void 0!==t.ldapstr||void 0!==t.hex||void 0!==t.certsubject||void 0!==t.certissuer?this.asn1CertIssuer=new ut.asn1.x509.X500Name(t):"string"==typeof t&&-1!=t.indexOf("BEGIN ")&&-1!=t.indexOf("CERTIFICATE")&&(this.asn1CertIssuer=new ut.asn1.x509.X500Name({certissuer:t}))},this.setCertSNByParam=function(t){if(void 0!==t.str||void 0!==t.bigint||void 0!==t.hex)this.asn1CertSN=new ut.asn1.DERInteger(t);else if("string"==typeof t&&-1!=t.indexOf("BEGIN ")&&t.indexOf("CERTIFICATE")){var e=new re;e.readCertPEM(t);var n=e.getSerialNumberHex();this.asn1CertSN=new ut.asn1.DERInteger({hex:n})}},this.oid="2.5.29.35",void 0!==t&&(void 0!==t.kid&&this.setKIDByParam(t.kid),void 0!==t.issuer&&this.setCertIssuerByParam(t.issuer),void 0!==t.sn&&this.setCertSNByParam(t.sn),void 0!==t.issuersn&&"string"==typeof t.issuersn&&-1!=t.issuersn.indexOf("BEGIN ")&&t.issuersn.indexOf("CERTIFICATE")&&(this.setCertSNByParam(t.issuersn),this.setCertIssuerByParam(t.issuersn)))},Qt(ut.asn1.x509.AuthorityKeyIdentifier,ut.asn1.x509.Extension),ut.asn1.x509.SubjectKeyIdentifier=function(t){ut.asn1.x509.SubjectKeyIdentifier.superclass.constructor.call(this,t);var e=ut.asn1.DEROctetString;this.asn1KID=null,this.getExtnValueHex=function(){return this.asn1ExtnValue=this.asn1KID,this.asn1ExtnValue.tohex()},this.setKIDByParam=function(t){if(void 0!==t.str||void 0!==t.hex)this.asn1KID=new e(t);else if("object"==typeof t&&ut.crypto.Util.isKey(t)||"string"==typeof t&&-1!=t.indexOf("BEGIN")){var n=t;"string"==typeof t&&(n=Zt.getKey(t));var r=Zt.getKeyID(n);this.asn1KID=new ut.asn1.DEROctetString({hex:r})}},this.oid="2.5.29.14",void 0!==t&&void 0!==t.kid&&this.setKIDByParam(t.kid)},Qt(ut.asn1.x509.SubjectKeyIdentifier,ut.asn1.x509.Extension),ut.asn1.x509.AuthorityInfoAccess=function(t){ut.asn1.x509.AuthorityInfoAccess.superclass.constructor.call(this,t),this.setAccessDescriptionArray=function(t){for(var e=new Array,n=ut.asn1,r=n.DERSequence,i=n.DERObjectIdentifier,o=n.x509.GeneralName,s=0;s<t.length;s++){var a,u=t[s];if(void 0!==u.ocsp)a=new r({array:[new i({oid:"1.3.6.1.5.5.7.48.1"}),new o({uri:u.ocsp})]});else{if(void 0===u.caissuer)throw new Error("unknown AccessMethod parameter: "+JSON.stringify(u));a=new r({array:[new i({oid:"1.3.6.1.5.5.7.48.2"}),new o({uri:u.caissuer})]})}e.push(a)}this.asn1ExtnValue=new r({array:e})},this.getExtnValueHex=function(){return this.asn1ExtnValue.tohex()},this.oid="1.3.6.1.5.5.7.1.1",void 0!==t&&void 0!==t.array&&this.setAccessDescriptionArray(t.array)},Qt(ut.asn1.x509.AuthorityInfoAccess,ut.asn1.x509.Extension),ut.asn1.x509.SubjectAltName=function(t){ut.asn1.x509.SubjectAltName.superclass.constructor.call(this,t),this.setNameArray=function(t){this.asn1ExtnValue=new ut.asn1.x509.GeneralNames(t)},this.getExtnValueHex=function(){return this.asn1ExtnValue.tohex()},this.oid="2.5.29.17",void 0!==t&&void 0!==t.array&&this.setNameArray(t.array)},Qt(ut.asn1.x509.SubjectAltName,ut.asn1.x509.Extension),ut.asn1.x509.IssuerAltName=function(t){ut.asn1.x509.IssuerAltName.superclass.constructor.call(this,t),this.setNameArray=function(t){this.asn1ExtnValue=new ut.asn1.x509.GeneralNames(t)},this.getExtnValueHex=function(){return this.asn1ExtnValue.tohex()},this.oid="2.5.29.18",void 0!==t&&void 0!==t.array&&this.setNameArray(t.array)},Qt(ut.asn1.x509.IssuerAltName,ut.asn1.x509.Extension),ut.asn1.x509.SubjectDirectoryAttributes=function(t){ut.asn1.x509.SubjectDirectoryAttributes.superclass.constructor.call(this,t);var e=ut.asn1,n=e.DERSequence,r=e.ASN1Util.newObject,i=e.x509.OID.name2oid;this.params=null,this.getExtnValueHex=function(){for(var t=[],e=0;e<this.params.array.length;e++){var o=this.params.array[e],s={seq:[{oid:"1.2.3.4"},{set:[{utf8str:"DE"}]}]};if("dateOfBirth"==o.attr)s.seq[0].oid=i(o.attr),s.seq[1].set[0]={gentime:o.str};else if("placeOfBirth"==o.attr)s.seq[0].oid=i(o.attr),s.seq[1].set[0]={utf8str:o.str};else if("gender"==o.attr)s.seq[0].oid=i(o.attr),s.seq[1].set[0]={prnstr:o.str};else if("countryOfCitizenship"==o.attr)s.seq[0].oid=i(o.attr),s.seq[1].set[0]={prnstr:o.str};else{if("countryOfResidence"!=o.attr)throw new Error("unsupported attribute: "+o.attr);s.seq[0].oid=i(o.attr),s.seq[1].set[0]={prnstr:o.str}}t.push(new r(s))}var a=new n({array:t});return this.asn1ExtnValue=a,this.asn1ExtnValue.tohex()},this.oid="2.5.29.9",void 0!==t&&(this.params=t)},Qt(ut.asn1.x509.SubjectDirectoryAttributes,ut.asn1.x509.Extension),ut.asn1.x509.PrivateExtension=function(t){ut.asn1.x509.PrivateExtension.superclass.constructor.call(this,t);var e=ut,n=e.lang.String.isHex,r=e.asn1,i=r.x509.OID.name2oid,o=r.ASN1Util.newObject;this.params=null,this.setByParam=function(t){this.oid=i(t.extname),this.params=t},this.getExtnValueHex=function(){if(null==this.params.extname||null==this.params.extn)throw new Error("extname or extnhex not specified");var t=this.params.extn;if("string"==typeof t&&n(t))return t;if("object"==typeof t)try{return o(t).tohex()}catch(t){}throw new Error("unsupported extn value")},null!=t&&this.setByParam(t)},Qt(ut.asn1.x509.PrivateExtension,ut.asn1.x509.Extension),ut.asn1.x509.CRL=function(t){ut.asn1.x509.CRL.superclass.constructor.call(this);var e=ut.asn1,n=e.DERSequence,r=e.DERBitString,i=e.x509,o=i.AlgorithmIdentifier,s=i.TBSCertList;this.params=void 0,this.setByParam=function(t){this.params=t},this.sign=function(){var t=new s(this.params).tohex(),e=new ut.crypto.Signature({alg:this.params.sigalg});e.init(this.params.cakey),e.updateHex(t);var n=e.sign();this.params.sighex=n},this.getPEM=function(){return kt(this.tohex(),"X509 CRL")},this.tohex=function(){var t=this.params;if(null==t.tbsobj&&(t.tbsobj=new s(t)),null==t.sighex&&null!=t.cakey&&this.sign(),null==t.sighex)throw new Error("sighex or cakey parameter not defined");var e=[];return e.push(t.tbsobj),e.push(new o({name:t.sigalg})),e.push(new r({hex:"00"+t.sighex})),new n({array:e}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=t&&(this.params=t)},Qt(ut.asn1.x509.CRL,ut.asn1.ASN1Object),ut.asn1.x509.TBSCertList=function(t){ut.asn1.x509.TBSCertList.superclass.constructor.call(this);var e=ut.asn1,n=e.DERInteger,r=e.DERSequence,i=e.DERTaggedObject,o=(e.DERObjectIdentifier,e.x509),s=o.AlgorithmIdentifier,a=o.Time,u=o.Extensions,l=o.X500Name;this.params=null,this.setByParam=function(t){this.params=t},this.getRevCertSequence=function(){for(var t=[],e=this.params.revcert,i=0;i<e.length;i++){var o=[new n(e[i].sn),new a(e[i].date)];null!=e[i].ext&&o.push(new u(e[i].ext)),t.push(new r({array:o}))}return new r({array:t})},this.tohex=function(){var t=[],e=this.params;if(null!=e.version){var o=e.version-1,c=new n({int:o});t.push(c)}if(t.push(new s({name:e.sigalg})),t.push(new l(e.issuer)),t.push(new a(e.thisupdate)),null!=e.nextupdate&&t.push(new a(e.nextupdate)),null!=e.revcert&&t.push(this.getRevCertSequence()),null!=e.ext){var h=new u(e.ext);t.push(new i({tag:"a0",explicit:!0,obj:h}))}return new r({array:t}).tohex()},this.getEncodedHex=function(){return this.tohex()},void 0!==t&&this.setByParam(t)},Qt(ut.asn1.x509.TBSCertList,ut.asn1.ASN1Object),ut.asn1.x509.CRLEntry=function(t){ut.asn1.x509.CRLEntry.superclass.constructor.call(this);var e=ut.asn1;this.setCertSerial=function(t){this.sn=new e.DERInteger(t)},this.setRevocationDate=function(t){this.time=new e.x509.Time(t)},this.tohex=function(){var t=new e.DERSequence({array:[this.sn,this.time]});return this.TLV=t.tohex(),this.TLV},this.getEncodedHex=function(){return this.tohex()},void 0!==t&&(void 0!==t.time&&this.setRevocationDate(t.time),void 0!==t.sn&&this.setCertSerial(t.sn))},Qt(ut.asn1.x509.CRLEntry,ut.asn1.ASN1Object),ut.asn1.x509.CRLNumber=function(t){ut.asn1.x509.CRLNumber.superclass.constructor.call(this,t),this.params=void 0,this.getExtnValueHex=function(){return this.asn1ExtnValue=new ut.asn1.DERInteger(this.params.num),this.asn1ExtnValue.tohex()},this.oid="2.5.29.20",null!=t&&(this.params=t)},Qt(ut.asn1.x509.CRLNumber,ut.asn1.x509.Extension),ut.asn1.x509.CRLReason=function(t){ut.asn1.x509.CRLReason.superclass.constructor.call(this,t),this.params=void 0,this.getExtnValueHex=function(){return this.asn1ExtnValue=new ut.asn1.DEREnumerated(this.params.code),this.asn1ExtnValue.tohex()},this.oid="2.5.29.21",null!=t&&(this.params=t)},Qt(ut.asn1.x509.CRLReason,ut.asn1.x509.Extension),ut.asn1.x509.OCSPNonce=function(t){ut.asn1.x509.OCSPNonce.superclass.constructor.call(this,t),this.params=void 0,this.getExtnValueHex=function(){return this.asn1ExtnValue=new ut.asn1.DEROctetString(this.params),this.asn1ExtnValue.tohex()},this.oid="1.3.6.1.5.5.7.48.1.2",null!=t&&(this.params=t)},Qt(ut.asn1.x509.OCSPNonce,ut.asn1.x509.Extension),ut.asn1.x509.OCSPNoCheck=function(t){ut.asn1.x509.OCSPNoCheck.superclass.constructor.call(this,t),this.params=void 0,this.getExtnValueHex=function(){return this.asn1ExtnValue=new ut.asn1.DERNull,this.asn1ExtnValue.tohex()},this.oid="1.3.6.1.5.5.7.48.1.5",null!=t&&(this.params=t)},Qt(ut.asn1.x509.OCSPNoCheck,ut.asn1.x509.Extension),ut.asn1.x509.AdobeTimeStamp=function(t){ut.asn1.x509.AdobeTimeStamp.superclass.constructor.call(this,t);var e=ut.asn1,n=e.DERInteger,r=e.DERBoolean,i=e.DERSequence,o=e.x509.GeneralName;this.params=null,this.getExtnValueHex=function(){var t=this.params,e=[new n(1)];return e.push(new o({uri:t.uri})),null!=t.reqauth&&e.push(new r(t.reqauth)),this.asn1ExtnValue=new i({array:e}),this.asn1ExtnValue.tohex()},this.oid="1.2.840.113583.1.1.9.1",void 0!==t&&this.setByParam(t)},Qt(ut.asn1.x509.AdobeTimeStamp,ut.asn1.x509.Extension),ut.asn1.x509.X500Name=function(t){ut.asn1.x509.X500Name.superclass.constructor.call(this),this.asn1Array=[],this.paramArray=[],this.sRule="utf8";var e=ut.asn1,n=e.x509,r=n.RDN;this.setByString=function(t,e){void 0!==e&&(this.sRule=e);var n=t.split("/");n.shift();for(var i=[],o=0;o<n.length;o++)if(n[o].match(/^[^=]+=.+$/))i.push(n[o]);else{var s=i.length-1;i[s]=i[s]+"/"+n[o]}for(o=0;o<i.length;o++)this.asn1Array.push(new r({str:i[o],rule:this.sRule}))},this.setByLdapString=function(t,e){void 0!==e&&(this.sRule=e);var r=n.X500Name.ldapToCompat(t);this.setByString(r,e)},this.setByObject=function(t,e){for(var n in void 0!==e&&(this.sRule=e),t)if(t.hasOwnProperty(n)){var i=new r({str:n+"="+t[n],rule:this.sRule});this.asn1Array?this.asn1Array.push(i):this.asn1Array=[i]}},this.setByParam=function(t){var e;(void 0!==t.rule&&(this.sRule=t.rule),void 0!==t.array)?this.paramArray=t.array:void 0!==t.str?this.setByString(t.str):void 0!==t.ldapstr?this.setByLdapString(t.ldapstr):void 0!==t.hex?this.hTLV=t.hex:void 0!==t.certissuer?((e=new re).readCertPEM(t.certissuer),this.hTLV=e.getIssuerHex()):void 0!==t.certsubject?((e=new re).readCertPEM(t.certsubject),this.hTLV=e.getSubjectHex()):"object"==typeof t&&void 0===t.certsubject&&void 0===t.certissuer&&this.setByObject(t)},this.tohex=function(){if("string"==typeof this.hTLV)return this.hTLV;if(0==this.asn1Array.length&&this.paramArray.length>0)for(var t=0;t<this.paramArray.length;t++){var n={array:this.paramArray[t]};"utf8"!=this.sRule&&(n.rule=this.sRule);var i=new r(n);this.asn1Array.push(i)}var o=new e.DERSequence({array:this.asn1Array});return this.hTLV=o.tohex(),this.hTLV},this.getEncodedHex=function(){return this.tohex()},void 0!==t&&this.setByParam(t)},Qt(ut.asn1.x509.X500Name,ut.asn1.ASN1Object),ut.asn1.x509.X500Name.compatToLDAP=function(t){if("/"!==t.substr(0,1))throw"malformed input";var e=(t=t.substr(1)).split("/");return e.reverse(),(e=e.map((function(t){return t.replace(/,/,"\\,")}))).join(",")},ut.asn1.x509.X500Name.onelineToLDAP=function(t){return ut.asn1.x509.X500Name.compatToLDAP(t)},ut.asn1.x509.X500Name.ldapToCompat=function(t){for(var e=t.split(","),n=!1,r=[],i=0;e.length>0;i++){var o=e.shift();if(!0===n){var s=(r.pop()+","+o).replace(/\\,/g,",");r.push(s),n=!1}else r.push(o);"\\"===o.substr(-1,1)&&(n=!0)}return(r=r.map((function(t){return t.replace("/","\\/")}))).reverse(),"/"+r.join("/")},ut.asn1.x509.X500Name.ldapToOneline=function(t){return ut.asn1.x509.X500Name.ldapToCompat(t)},ut.asn1.x509.RDN=function(t){ut.asn1.x509.RDN.superclass.constructor.call(this),this.asn1Array=[],this.paramArray=[],this.sRule="utf8";var e=ut.asn1.x509.AttributeTypeAndValue;this.setByParam=function(t){void 0!==t.rule&&(this.sRule=t.rule),void 0!==t.str&&this.addByMultiValuedString(t.str),void 0!==t.array&&(this.paramArray=t.array)},this.addByString=function(t){this.asn1Array.push(new ut.asn1.x509.AttributeTypeAndValue({str:t,rule:this.sRule}))},this.addByMultiValuedString=function(t){for(var e=ut.asn1.x509.RDN.parseString(t),n=0;n<e.length;n++)this.addByString(e[n])},this.tohex=function(){if(0==this.asn1Array.length&&this.paramArray.length>0)for(var t=0;t<this.paramArray.length;t++){var n=this.paramArray[t];void 0!==n.rule&&"utf8"!=this.sRule&&(n.rule=this.sRule);var r=new e(n);this.asn1Array.push(r)}var i=new ut.asn1.DERSet({array:this.asn1Array});return this.TLV=i.tohex(),this.TLV},this.getEncodedHex=function(){return this.tohex()},void 0!==t&&this.setByParam(t)},Qt(ut.asn1.x509.RDN,ut.asn1.ASN1Object),ut.asn1.x509.RDN.parseString=function(t){for(var e=t.split(/\+/),n=!1,r=[],i=0;e.length>0;i++){var o=e.shift();if(!0===n){var s=(r.pop()+"+"+o).replace(/\\\+/g,"+");r.push(s),n=!1}else r.push(o);"\\"===o.substr(-1,1)&&(n=!0)}var a=!1,u=[];for(i=0;r.length>0;i++){o=r.shift();if(!0===a){var l=u.pop();if(o.match(/"$/)){s=(l+"+"+o).replace(/^([^=]+)="(.*)"$/,"$1=$2");u.push(s),a=!1}else u.push(l+"+"+o)}else u.push(o);o.match(/^[^=]+="/)&&(a=!0)}return u},ut.asn1.x509.AttributeTypeAndValue=function(t){ut.asn1.x509.AttributeTypeAndValue.superclass.constructor.call(this),this.sRule="utf8",this.sType=null,this.sValue=null,this.dsType=null;var e=ut,n=e.asn1,r=n.DERSequence,i=n.DERUTF8String,o=n.DERPrintableString,s=n.DERTeletexString,a=n.DERIA5String,u=n.DERVisibleString,l=n.DERBMPString,c=e.lang.String.isMail,h=e.lang.String.isPrintable;this.setByParam=function(t){if(void 0!==t.rule&&(this.sRule=t.rule),void 0!==t.ds&&(this.dsType=t.ds),void 0===t.value&&void 0!==t.str){var e=t.str.match(/^([^=]+)=(.+)$/);if(!e)throw new Error("malformed attrTypeAndValueStr: "+attrTypeAndValueStr);this.sType=e[1],this.sValue=e[2]}else this.sType=t.type,this.sValue=t.value},this.setByString=function(t,e){void 0!==e&&(this.sRule=e);var n=t.match(/^([^=]+)=(.+)$/);if(!n)throw new Error("malformed attrTypeAndValueStr: "+attrTypeAndValueStr);this.setByAttrTypeAndValueStr(n[1],n[2])},this._getDsType=function(){var t=this.sType,e=this.sValue,n=this.sRule;return"prn"===n?"CN"==t&&c(e)?"ia5":h(e)?"prn":"utf8":"utf8"===n?"CN"==t&&c(e)?"ia5":"C"==t?"prn":"utf8":"utf8"},this.setByAttrTypeAndValueStr=function(t,e,n){void 0!==n&&(this.sRule=n),this.sType=t,this.sValue=e},this.getValueObj=function(t,e){if("utf8"==t)return new i({str:e});if("prn"==t)return new o({str:e});if("tel"==t)return new s({str:e});if("ia5"==t)return new a({str:e});if("vis"==t)return new u({str:e});if("bmp"==t)return new l({str:e});throw new Error("unsupported directory string type: type="+t+" value="+e)},this.tohex=function(){null==this.dsType&&(this.dsType=this._getDsType());var t=ut.asn1.x509.OID.atype2obj(this.sType),e=this.getValueObj(this.dsType,this.sValue),n=new r({array:[t,e]});return this.TLV=n.tohex(),this.TLV},this.getEncodedHex=function(){return this.tohex()},void 0!==t&&this.setByParam(t)},Qt(ut.asn1.x509.AttributeTypeAndValue,ut.asn1.ASN1Object),ut.asn1.x509.SubjectPublicKeyInfo=function(t){ut.asn1.x509.SubjectPublicKeyInfo.superclass.constructor.call(this);var e=ut,n=e.asn1,r=n.DERInteger,i=n.DERBitString,o=n.DERObjectIdentifier,s=n.DERSequence,a=n.ASN1Util.newObject,u=n.x509.AlgorithmIdentifier,l=e.crypto;l.ECDSA,l.DSA;this.getASN1Object=function(){if(null==this.asn1AlgId||null==this.asn1SubjPKey)throw"algId and/or subjPubKey not set";return new s({array:[this.asn1AlgId,this.asn1SubjPKey]})},this.tohex=function(){var t=this.getASN1Object();return this.hTLV=t.tohex(),this.hTLV},this.getEncodedHex=function(){return this.tohex()},this.setPubKey=function(t){try{if(t instanceof nt){var e=a({seq:[{int:{bigint:t.n}},{int:{int:t.e}}]}).tohex();this.asn1AlgId=new u({name:"rsaEncryption"}),this.asn1SubjPKey=new i({hex:"00"+e})}}catch(t){}try{if(t instanceof ut.crypto.ECDSA){var n=new o({name:t.curveName});this.asn1AlgId=new u({name:"ecPublicKey",asn1params:n}),this.asn1SubjPKey=new i({hex:"00"+t.pubKeyHex})}}catch(t){}try{if(t instanceof ut.crypto.DSA){n=new a({seq:[{int:{bigint:t.p}},{int:{bigint:t.q}},{int:{bigint:t.g}}]});this.asn1AlgId=new u({name:"dsa",asn1params:n});var s=new r({bigint:t.y});this.asn1SubjPKey=new i({hex:"00"+s.tohex()})}}catch(t){}},void 0!==t&&this.setPubKey(t)},Qt(ut.asn1.x509.SubjectPublicKeyInfo,ut.asn1.ASN1Object),ut.asn1.x509.Time=function(t){ut.asn1.x509.Time.superclass.constructor.call(this);var e=ut.asn1,n=e.DERUTCTime,r=e.DERGeneralizedTime;this.params=null,this.type=null,this.setTimeParams=function(t){this.timeParams=t},this.setByParam=function(t){this.params=t},this.getType=function(t){return t.match(/^[0-9]{12}Z$/)?"utc":t.match(/^[0-9]{14}Z$/)?"gen":t.match(/^[0-9]{12}\.[0-9]+Z$/)?"utc":t.match(/^[0-9]{14}\.[0-9]+Z$/)?"gen":null},this.tohex=function(){var t=this.params,e=null;if("string"==typeof t&&(t={str:t}),null==t||!t.str||null!=t.type&&null!=t.type||(t.type=this.getType(t.str)),null!=t&&t.str?("utc"==t.type&&(e=new n(t.str)),"gen"==t.type&&(e=new r(t.str))):e="gen"==this.type?new r:new n,null==e)throw new Error("wrong setting for Time");return this.TLV=e.tohex(),this.TLV},this.getEncodedHex=function(){return this.tohex()},null!=t&&this.setByParam(t)},ut.asn1.x509.Time_bak=function(t){ut.asn1.x509.Time_bak.superclass.constructor.call(this);var e=ut.asn1,n=e.DERUTCTime,r=e.DERGeneralizedTime;this.setTimeParams=function(t){this.timeParams=t},this.tohex=function(){var t=null;return t=null!=this.timeParams?"utc"==this.type?new n(this.timeParams):new r(this.timeParams):"utc"==this.type?new n:new r,this.TLV=t.tohex(),this.TLV},this.getEncodedHex=function(){return this.tohex()},this.type="utc",void 0!==t&&(void 0!==t.type?this.type=t.type:void 0!==t.str&&(t.str.match(/^[0-9]{12}Z$/)&&(this.type="utc"),t.str.match(/^[0-9]{14}Z$/)&&(this.type="gen")),this.timeParams=t)},Qt(ut.asn1.x509.Time,ut.asn1.ASN1Object),ut.asn1.x509.AlgorithmIdentifier=function(t){ut.asn1.x509.AlgorithmIdentifier.superclass.constructor.call(this),this.nameAlg=null,this.asn1Alg=null,this.asn1Params=null,this.paramEmpty=!1;var e=ut.asn1,n=e.x509.AlgorithmIdentifier.PSSNAME2ASN1TLV;if(this.tohex=function(){if(null===this.nameAlg&&null===this.asn1Alg)throw new Error("algorithm not specified");if(null!==this.nameAlg){var t=null;for(var r in n)r===this.nameAlg&&(t=n[r]);if(null!==t)return this.hTLV=t,this.hTLV}null!==this.nameAlg&&null===this.asn1Alg&&(this.asn1Alg=e.x509.OID.name2obj(this.nameAlg));var i=[this.asn1Alg];null!==this.asn1Params&&i.push(this.asn1Params);var o=new e.DERSequence({array:i});return this.hTLV=o.tohex(),this.hTLV},this.getEncodedHex=function(){return this.tohex()},void 0!==t&&(void 0!==t.name&&(this.nameAlg=t.name),void 0!==t.asn1params&&(this.asn1Params=t.asn1params),void 0!==t.paramempty&&(this.paramEmpty=t.paramempty)),null===this.asn1Params&&!1===this.paramEmpty&&null!==this.nameAlg){void 0!==this.nameAlg.name&&(this.nameAlg=this.nameAlg.name);var r=this.nameAlg.toLowerCase();"withdsa"!==r.substr(-7,7)&&"withecdsa"!==r.substr(-9,9)&&(this.asn1Params=new e.DERNull)}},Qt(ut.asn1.x509.AlgorithmIdentifier,ut.asn1.ASN1Object),ut.asn1.x509.AlgorithmIdentifier.PSSNAME2ASN1TLV={SHAwithRSAandMGF1:"300d06092a864886f70d01010a3000",SHA256withRSAandMGF1:"303d06092a864886f70d01010a3030a00d300b0609608648016503040201a11a301806092a864886f70d010108300b0609608648016503040201a203020120",SHA384withRSAandMGF1:"303d06092a864886f70d01010a3030a00d300b0609608648016503040202a11a301806092a864886f70d010108300b0609608648016503040202a203020130",SHA512withRSAandMGF1:"303d06092a864886f70d01010a3030a00d300b0609608648016503040203a11a301806092a864886f70d010108300b0609608648016503040203a203020140"},ut.asn1.x509.GeneralName=function(t){ut.asn1.x509.GeneralName.superclass.constructor.call(this);var e=ut.asn1,n=e.x509,r=n.X500Name,i=n.OtherName,o=e.DERIA5String,s=(e.DERPrintableString,e.DEROctetString),a=e.DERTaggedObject,u=e.ASN1Object,l=Error;this.params=null,this.setByParam=function(t){this.params=t},this.tohex=function(){var t,e,n=this.params,c=!1;if(void 0!==n.other)t="a0",e=new i(n.other);else if(void 0!==n.rfc822)t="81",e=new o({str:n.rfc822});else if(void 0!==n.dns)t="82",e=new o({str:n.dns});else if(void 0!==n.dn)t="a4",c=!0,e="string"==typeof n.dn?new r({str:n.dn}):n.dn instanceof ut.asn1.x509.X500Name?n.dn:new r(n.dn);else if(void 0!==n.ldapdn)t="a4",c=!0,e=new r({ldapstr:n.ldapdn});else if(void 0!==n.certissuer||void 0!==n.certsubj){var h,f;t="a4",c=!0;var p=null;if(void 0!==n.certsubj?(h=!1,f=n.certsubj):(h=!0,f=n.certissuer),f.match(/^[0-9A-Fa-f]+$/),-1!=f.indexOf("-----BEGIN ")&&(p=Tt(f)),null==p)throw new Error("certsubj/certissuer not cert");var d,g=new re;g.hex=p,d=h?g.getIssuerHex():g.getSubjectHex(),(e=new u).hTLV=d}else if(void 0!==n.uri)t="86",e=new o({str:n.uri});else{if(void 0===n.ip)throw new l("improper params");var v;t="87";var m=n.ip;try{if(m.match(/^[0-9a-f]+$/)){var y=m.length;if(8!=y&&16!=y&&32!=y&&64!=y)throw"err";v=m}else v=Ht(m)}catch(t){throw new l("malformed IP address: "+n.ip+":"+t.message)}e=new s({hex:v})}return new a({tag:t,explicit:c,obj:e}).tohex()},this.getEncodedHex=function(){return this.tohex()},void 0!==t&&this.setByParam(t)},Qt(ut.asn1.x509.GeneralName,ut.asn1.ASN1Object),ut.asn1.x509.GeneralNames=function(t){ut.asn1.x509.GeneralNames.superclass.constructor.call(this);var e=ut.asn1;this.setByParamArray=function(t){for(var n=0;n<t.length;n++){var r=new e.x509.GeneralName(t[n]);this.asn1Array.push(r)}},this.tohex=function(){return new e.DERSequence({array:this.asn1Array}).tohex()},this.getEncodedHex=function(){return this.tohex()},this.asn1Array=new Array,void 0!==t&&this.setByParamArray(t)},Qt(ut.asn1.x509.GeneralNames,ut.asn1.ASN1Object),ut.asn1.x509.OtherName=function(t){ut.asn1.x509.OtherName.superclass.constructor.call(this);var e=ut.asn1,n=e.DERObjectIdentifier,r=e.DERSequence,i=e.ASN1Util.newObject;this.params=null,this.setByParam=function(t){this.params=t},this.tohex=function(){var t=this.params;if(null==t.oid||null==t.value)throw new Error("oid or value not specified");var e=new n({oid:t.oid}),o=i({tag:{tag:"a0",explicit:!0,obj:t.value}});return new r({array:[e,o]}).tohex()},this.getEncodedHex=function(){return this.tohex()},void 0!==t&&this.setByParam(t)},Qt(ut.asn1.x509.OtherName,ut.asn1.ASN1Object),ut.asn1.x509.OID=new function(){var t=ut.asn1.DERObjectIdentifier;this.name2oidList={sha1:"1.3.14.3.2.26",sha256:"2.16.840.1.101.3.4.2.1",sha384:"2.16.840.1.101.3.4.2.2",sha512:"2.16.840.1.101.3.4.2.3",sha224:"2.16.840.1.101.3.4.2.4",md5:"1.2.840.113549.2.5",md2:"1.3.14.7.2.2.1",ripemd160:"1.3.36.3.2.1",MD2withRSA:"1.2.840.113549.1.1.2",MD4withRSA:"1.2.840.113549.1.1.3",MD5withRSA:"1.2.840.113549.1.1.4",SHA1withRSA:"1.2.840.113549.1.1.5","pkcs1-MGF":"1.2.840.113549.1.1.8",rsaPSS:"1.2.840.113549.1.1.10",SHA224withRSA:"1.2.840.113549.1.1.14",SHA256withRSA:"1.2.840.113549.1.1.11",SHA384withRSA:"1.2.840.113549.1.1.12",SHA512withRSA:"1.2.840.113549.1.1.13",SHA1withECDSA:"1.2.840.10045.4.1",SHA224withECDSA:"1.2.840.10045.4.3.1",SHA256withECDSA:"1.2.840.10045.4.3.2",SHA384withECDSA:"1.2.840.10045.4.3.3",SHA512withECDSA:"1.2.840.10045.4.3.4",dsa:"1.2.840.10040.4.1",SHA1withDSA:"1.2.840.10040.4.3",SHA224withDSA:"2.16.840.1.101.3.4.3.1",SHA256withDSA:"2.16.840.1.101.3.4.3.2",rsaEncryption:"1.2.840.113549.1.1.1",commonName:"2.5.4.3",countryName:"2.5.4.6",localityName:"2.5.4.7",stateOrProvinceName:"2.5.4.8",streetAddress:"2.5.4.9",organizationName:"2.5.4.10",organizationalUnitName:"2.5.4.11",domainComponent:"0.9.2342.19200300.100.1.25",userId:"0.9.2342.19200300.100.1.1",surname:"2.5.4.4",givenName:"2.5.4.42",title:"2.5.4.12",distinguishedName:"2.5.4.49",emailAddress:"1.2.840.113549.1.9.1",description:"2.5.4.13",businessCategory:"2.5.4.15",postalCode:"2.5.4.17",uniqueIdentifier:"2.5.4.45",organizationIdentifier:"2.5.4.97",jurisdictionOfIncorporationL:"1.3.6.1.4.1.311.60.2.1.1",jurisdictionOfIncorporationSP:"1.3.6.1.4.1.311.60.2.1.2",jurisdictionOfIncorporationC:"1.3.6.1.4.1.311.60.2.1.3",subjectDirectoryAttributes:"2.5.29.9",subjectKeyIdentifier:"2.5.29.14",keyUsage:"2.5.29.15",subjectAltName:"2.5.29.17",issuerAltName:"2.5.29.18",basicConstraints:"2.5.29.19",cRLNumber:"2.5.29.20",cRLReason:"2.5.29.21",nameConstraints:"2.5.29.30",cRLDistributionPoints:"2.5.29.31",certificatePolicies:"2.5.29.32",anyPolicy:"2.5.29.32.0",authorityKeyIdentifier:"2.5.29.35",policyConstraints:"2.5.29.36",extKeyUsage:"2.5.29.37",authorityInfoAccess:"1.3.6.1.5.5.7.1.1",ocsp:"1.3.6.1.5.5.7.48.1",ocspBasic:"1.3.6.1.5.5.7.48.1.1",ocspNonce:"1.3.6.1.5.5.7.48.1.2",ocspNoCheck:"1.3.6.1.5.5.7.48.1.5",caIssuers:"1.3.6.1.5.5.7.48.2",anyExtendedKeyUsage:"2.5.29.37.0",serverAuth:"1.3.6.1.5.5.7.3.1",clientAuth:"1.3.6.1.5.5.7.3.2",codeSigning:"1.3.6.1.5.5.7.3.3",emailProtection:"1.3.6.1.5.5.7.3.4",timeStamping:"1.3.6.1.5.5.7.3.8",ocspSigning:"1.3.6.1.5.5.7.3.9",dateOfBirth:"1.3.6.1.5.5.7.9.1",placeOfBirth:"1.3.6.1.5.5.7.9.2",gender:"1.3.6.1.5.5.7.9.3",countryOfCitizenship:"1.3.6.1.5.5.7.9.4",countryOfResidence:"1.3.6.1.5.5.7.9.5",ecPublicKey:"1.2.840.10045.2.1","P-256":"1.2.840.10045.3.1.7",secp256r1:"1.2.840.10045.3.1.7",secp256k1:"1.3.132.0.10",secp384r1:"1.3.132.0.34",secp521r1:"1.3.132.0.35",pkcs5PBES2:"1.2.840.113549.1.5.13",pkcs5PBKDF2:"1.2.840.113549.1.5.12","des-EDE3-CBC":"1.2.840.113549.3.7",data:"1.2.840.113549.1.7.1","signed-data":"1.2.840.113549.1.7.2","enveloped-data":"1.2.840.113549.1.7.3","digested-data":"1.2.840.113549.1.7.5","encrypted-data":"1.2.840.113549.1.7.6","authenticated-data":"1.2.840.113549.1.9.16.1.2",tstinfo:"1.2.840.113549.1.9.16.1.4",signingCertificate:"1.2.840.113549.1.9.16.2.12",timeStampToken:"1.2.840.113549.1.9.16.2.14",signaturePolicyIdentifier:"1.2.840.113549.1.9.16.2.15",etsArchiveTimeStamp:"1.2.840.113549.1.9.16.2.27",signingCertificateV2:"1.2.840.113549.1.9.16.2.47",etsArchiveTimeStampV2:"1.2.840.113549.1.9.16.2.48",extensionRequest:"1.2.840.113549.1.9.14",contentType:"1.2.840.113549.1.9.3",messageDigest:"1.2.840.113549.1.9.4",signingTime:"1.2.840.113549.1.9.5",counterSignature:"1.2.840.113549.1.9.6",archiveTimeStampV3:"0.4.0.1733.2.4",pdfRevocationInfoArchival:"1.2.840.113583.1.1.8",adobeTimeStamp:"1.2.840.113583.1.1.9.1"},this.atype2oidList={CN:"2.5.4.3",L:"2.5.4.7",ST:"2.5.4.8",O:"2.5.4.10",OU:"2.5.4.11",C:"2.5.4.6",STREET:"2.5.4.9",DC:"0.9.2342.19200300.100.1.25",UID:"0.9.2342.19200300.100.1.1",SN:"2.5.4.4",T:"2.5.4.12",DN:"2.5.4.49",E:"1.2.840.113549.1.9.1",description:"2.5.4.13",businessCategory:"2.5.4.15",postalCode:"2.5.4.17",serialNumber:"2.5.4.5",uniqueIdentifier:"2.5.4.45",organizationIdentifier:"2.5.4.97",jurisdictionOfIncorporationL:"1.3.6.1.4.1.311.60.2.1.1",jurisdictionOfIncorporationSP:"1.3.6.1.4.1.311.60.2.1.2",jurisdictionOfIncorporationC:"1.3.6.1.4.1.311.60.2.1.3"},this.objCache={},this.name2obj=function(e){if(void 0!==this.objCache[e])return this.objCache[e];if(void 0===this.name2oidList[e])throw"Name of ObjectIdentifier not defined: "+e;var n=this.name2oidList[e],r=new t({oid:n});return this.objCache[e]=r,r},this.atype2obj=function(e){if(void 0!==this.objCache[e])return this.objCache[e];var n;if(e.match(/^\d+\.\d+\.[0-9.]+$/))n=e;else if(void 0!==this.atype2oidList[e])n=this.atype2oidList[e];else{if(void 0===this.name2oidList[e])throw new Error("AttributeType name undefined: "+e);n=this.name2oidList[e]}var r=new t({oid:n});return this.objCache[e]=r,r},this.registerOIDs=function(t){if(this.checkOIDs(t))for(var e in t)this.name2oidList[e]=t[e]},this.checkOIDs=function(t){try{var e=Object.keys(t);return 0!=e.length&&(e.map((function(t,e,n){if(!this[t].match(/^[0-2]\.[0-9.]+$/))throw new Error("value is not OID")}),t),!0)}catch(t){return!1}}},ut.asn1.x509.OID.oid2name=function(t){var e=ut.asn1.x509.OID.name2oidList;for(var n in e)if(e[n]==t)return n;return""},ut.asn1.x509.OID.oid2atype=function(t){var e=ut.asn1.x509.OID.atype2oidList;for(var n in e)if(e[n]==t)return n;return t},ut.asn1.x509.OID.name2oid=function(t){if(t.match(/^[0-9.]+$/))return t;var e=ut.asn1.x509.OID.name2oidList;return void 0===e[t]?"":e[t]},ut.asn1.x509.X509Util={},ut.asn1.x509.X509Util.newCertPEM=function(t){var e=ut.asn1.x509;e.TBSCertificate;return new(0,e.Certificate)(t).getPEM()},void 0!==ut&&ut||(ut={}),void 0!==ut.asn1&&ut.asn1||(ut.asn1={}),void 0!==ut.asn1.cms&&ut.asn1.cms||(ut.asn1.cms={}),ut.asn1.cms.Attribute=function(t){var e=Error,n=ut.asn1,r=n.DERSequence,i=n.DERSet,o=n.DERObjectIdentifier;this.params=null,this.typeOid=null,this.setByParam=function(t){this.params=t},this.getValueArray=function(){throw new e("not yet implemented abstract")},this.tohex=function(){var t=new o({oid:this.typeOid}),e=new i({array:this.getValueArray()});return new r({array:[t,e]}).tohex()},this.getEncodedHex=function(){return this.tohex()}},Qt(ut.asn1.cms.Attribute,ut.asn1.ASN1Object),ut.asn1.cms.ContentType=function(t){var e=ut.asn1;e.cms.ContentType.superclass.constructor.call(this),this.typeOid="1.2.840.113549.1.9.3",this.getValueArray=function(){return[new e.DERObjectIdentifier(this.params.type)]},null!=t&&this.setByParam(t)},Qt(ut.asn1.cms.ContentType,ut.asn1.cms.Attribute),ut.asn1.cms.MessageDigest=function(t){var e=ut.asn1,n=e.DEROctetString;e.cms.MessageDigest.superclass.constructor.call(this),this.typeOid="1.2.840.113549.1.9.4",this.getValueArray=function(){return[new n(this.params)]},null!=t&&this.setByParam(t)},Qt(ut.asn1.cms.MessageDigest,ut.asn1.cms.Attribute),ut.asn1.cms.SigningTime=function(t){var e=ut.asn1;e.cms.SigningTime.superclass.constructor.call(this),this.typeOid="1.2.840.113549.1.9.5",this.getValueArray=function(){return[new e.x509.Time(this.params)]},null!=t&&this.setByParam(t)},Qt(ut.asn1.cms.SigningTime,ut.asn1.cms.Attribute),ut.asn1.cms.SigningCertificate=function(t){var e=Error,n=ut,r=n.asn1,i=r.DERSequence,o=r.cms,s=o.ESSCertID;n.crypto;o.SigningCertificate.superclass.constructor.call(this),this.typeOid="1.2.840.113549.1.9.16.2.12",this.getValueArray=function(){if(null==this.params||null==this.params||null==this.params.array)throw new e("parameter 'array' not specified");for(var n=this.params.array,r=[],o=0;o<n.length;o++){var a=n[o];0!=t.hasis||"string"!=typeof a||-1==a.indexOf("-----BEGIN")&&!ht.isASN1HEX(a)||(a={cert:a}),0!=a.hasis&&0==t.hasis&&(a.hasis=!1),r.push(new s(a))}var u=new i({array:r});return[new i({array:[u]})]},null!=t&&this.setByParam(t)},Qt(ut.asn1.cms.SigningCertificate,ut.asn1.cms.Attribute),ut.asn1.cms.ESSCertID=function(t){ut.asn1.cms.ESSCertID.superclass.constructor.call(this);var e=Error,n=ut,r=n.asn1,i=r.DEROctetString,o=r.DERSequence,s=r.cms.IssuerSerial;this.params=null,this.getCertHash=function(t,r){if(null!=t.hash)return t.hash;if("string"==typeof t&&-1==t.indexOf("-----BEGIN")&&!ht.isASN1HEX(t))return t;var i,o,s;if("string"==typeof t)i=t;else{if(null==t.cert)throw new e("hash nor cert unspecified");i=t.cert}if(o=-1!=i.indexOf("-----BEGIN")?Tt(i):i,"string"==typeof t&&(-1!=t.indexOf("-----BEGIN")?o=Tt(t):ht.isASN1HEX(t)&&(o=t)),null!=t.alg)s=t.alg;else{if(null==r)throw new e("hash alg unspecified");s=r}return n.crypto.Util.hashHex(o,s)},this.tohex=function(){var t=this.params,e=this.getCertHash(t,"sha1"),n=[];return n.push(new i({hex:e})),("string"==typeof t&&-1!=t.indexOf("-----BEGIN")||null!=t.cert&&0!=t.hasis||null!=t.issuer&&null!=t.serial)&&n.push(new s(t)),new o({array:n}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=t&&this.setByParam(t)},Qt(ut.asn1.cms.ESSCertID,ut.asn1.ASN1Object),ut.asn1.cms.SigningCertificateV2=function(t){var e=Error,n=ut,r=n.asn1,i=r.DERSequence,o=(r.x509,r.cms),s=o.ESSCertIDv2;n.crypto;o.SigningCertificateV2.superclass.constructor.call(this),this.typeOid="1.2.840.113549.1.9.16.2.47",this.getValueArray=function(){if(null==this.params||null==this.params||null==this.params.array)throw new e("parameter 'array' not specified");for(var n=this.params.array,r=[],o=0;o<n.length;o++){var a=n[o];null==t.alg&&0!=t.hasis||"string"!=typeof a||-1==a.indexOf("-----BEGIN")&&!ht.isASN1HEX(a)||(a={cert:a}),null==a.alg&&null!=t.alg&&(a.alg=t.alg),0!=a.hasis&&0==t.hasis&&(a.hasis=!1),r.push(new s(a))}var u=new i({array:r});return[new i({array:[u]})]},null!=t&&this.setByParam(t)},Qt(ut.asn1.cms.SigningCertificateV2,ut.asn1.cms.Attribute),ut.asn1.cms.ESSCertIDv2=function(t){ut.asn1.cms.ESSCertIDv2.superclass.constructor.call(this);Error;var e=ut.asn1,n=e.DEROctetString,r=e.DERSequence,i=e.cms.IssuerSerial,o=e.x509.AlgorithmIdentifier;this.params=null,this.tohex=function(){var t=this.params,e=this.getCertHash(t,"sha256"),s=[];return null!=t.alg&&"sha256"!=t.alg&&s.push(new o({name:t.alg})),s.push(new n({hex:e})),("string"==typeof t&&-1!=t.indexOf("-----BEGIN")||null!=t.cert&&0!=t.hasis||null!=t.issuer&&null!=t.serial)&&s.push(new i(t)),new r({array:s}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=t&&this.setByParam(t)},Qt(ut.asn1.cms.ESSCertIDv2,ut.asn1.cms.ESSCertID),ut.asn1.cms.IssuerSerial=function(t){var e=Error,n=ut.asn1,r=n.DERInteger,i=n.DERSequence,o=n.cms,s=n.x509.GeneralNames,a=re;o.IssuerSerial.superclass.constructor.call(this),this.setByParam=function(t){this.params=t},this.tohex=function(){var t,n,o=this.params;if("string"==typeof o&&-1!=o.indexOf("-----BEGIN")||null!=o.cert){var u;u=null!=o.cert?o.cert:o;var l=new a;l.readCertPEM(u),t=l.getIssuer(),n={hex:l.getSerialNumberHex()}}else{if(null==o.issuer||!o.serial)throw new e("cert or issuer and serial parameter not specified");t=o.issuer,n=o.serial}var c=new s([{dn:t}]),h=new r(n);return new i({array:[c,h]}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=t&&this.setByParam(t)},Qt(ut.asn1.cms.IssuerSerial,ut.asn1.ASN1Object),ut.asn1.cms.SignerIdentifier=function(t){var e=ut.asn1,n=(e.DERInteger,e.DERSequence,e.cms),r=n.IssuerAndSerialNumber,i=n.SubjectKeyIdentifier;e.x509.X500Name,Error;n.SignerIdentifier.superclass.constructor.call(this),this.params=null,this.tohex=function(){var t=this.params;if("isssn"==t.type)return new r(t).tohex();if("skid"==t.type)return new i(t).tohex();throw new Error("wrong property for isssn or skid")},this.getEncodedHex=function(){return this.tohex()},null!=t&&this.setByParam(t)},Qt(ut.asn1.cms.SignerIdentifier,ut.asn1.ASN1Object),ut.asn1.cms.IssuerAndSerialNumber=function(t){var e=ut.asn1,n=e.DERInteger,r=e.DERSequence,i=e.cms,o=e.x509.X500Name,s=re,a=Error;i.IssuerAndSerialNumber.superclass.constructor.call(this),this.params=null,this.tohex=function(){var t,e,i=this.params;if("string"==typeof i&&-1!=i.indexOf("-----BEGIN")||null!=i.cert){var u;u=null!=i.cert?i.cert:i;var l=new s;l.readCertPEM(u),t=l.getIssuer(),e={hex:l.getSerialNumberHex()}}else{if(null==i.issuer||!i.serial)throw new a("cert or issuer and serial parameter not specified");t=i.issuer,e=i.serial}var c=new o(t),h=new n(e);return new r({array:[c,h]}).tohex()},this.getEncodedHex=function(){return this.tohex()},this.setByParam=function(t){this.params=t},null!=t&&this.setByParam(t)},Qt(ut.asn1.cms.IssuerAndSerialNumber,ut.asn1.ASN1Object),ut.asn1.cms.SubjectKeyIdentifier=function(t){var e=ut.asn1,n=(e.DERInteger,e.DERSequence,e.ASN1Util.newObject),r=e.cms,i=(r.IssuerAndSerialName,r.SubjectKeyIdentifier,e.x509.X500Name,re),o=Error;r.SubjectKeyIdentifier.superclass.constructor.call(this),this.tohex=function(){var t,e=this.params;if(null==e.cert&&null==e.skid)throw new o("property cert nor skid undefined");null!=e.cert?t=new i(e.cert).getExtSubjectKeyIdentifier().kid.hex:null!=e.skid&&(t=e.skid);return n({tag:{tage:"a0",obj:{octstr:{hex:t}}}}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=t&&this.setByParam(t)},Qt(ut.asn1.cms.SubjectKeyIdentifier,ut.asn1.ASN1Object),ut.asn1.cms.AttributeList=function(t){var e=Error,n=ut.asn1,r=n.DERSet,i=n.cms;i.AttributeList.superclass.constructor.call(this),this.params=null,this.hTLV=null,this.setByParam=function(t){this.params=t},this.tohex=function(){var t=this.params;if(null!=this.hTLV)return this.hTLV;var n=!0;null!=t.sortflag&&(n=t.sortflag);for(var o=t.array,s=[],a=0;a<o.length;a++){var u=o[a],l=u.attr;if("contentType"==l)s.push(new i.ContentType(u));else if("messageDigest"==l)s.push(new i.MessageDigest(u));else if("signingTime"==l)s.push(new i.SigningTime(u));else if("signingCertificate"==l)s.push(new i.SigningCertificate(u));else if("signingCertificateV2"==l)s.push(new i.SigningCertificateV2(u));else if("signaturePolicyIdentifier"==l)s.push(new ut.asn1.cades.SignaturePolicyIdentifier(u));else{if("signatureTimeStamp"!=l&&"timeStampToken"!=l)throw new e("unknown attr: "+l);s.push(new ut.asn1.cades.SignatureTimeStamp(u))}}var c=new r({array:s,sortflag:n});return this.hTLV=c.tohex(),this.hTLV},this.getEncodedHex=function(){return this.tohex()},null!=t&&this.setByParam(t)},Qt(ut.asn1.cms.AttributeList,ut.asn1.ASN1Object),ut.asn1.cms.SignerInfo=function(t){var e=Error,n=ut,r=n.asn1,i=r.DERInteger,o=r.DEROctetString,s=r.DERSequence,a=r.DERTaggedObject,u=r.cms,l=u.SignerIdentifier,c=u.AttributeList,h=(u.ContentType,u.EncapsulatedContentInfo,u.MessageDigest,u.SignedData,r.x509.AlgorithmIdentifier),f=n.crypto,p=Zt;u.SignerInfo.superclass.constructor.call(this),this.params=null,this.sign=function(){var t=this.params,e=t.sigalg,n=new c(t.sattrs).tohex(),r=p.getKey(t.signkey),i=new f.Signature({alg:e});i.init(r),i.updateHex(n);var o=i.sign();t.sighex=o},this.tohex=function(){var t=this.params,n=[];if(n.push(new i({int:t.version})),n.push(new l(t.id)),n.push(new h({name:t.hashalg})),null!=t.sattrs){var r=new c(t.sattrs);try{n.push(new a({tag:"a0",explicit:!1,obj:r}))}catch(t){throw new e("si sattr error: "+t)}}if(null!=t.sigalgfield?n.push(new h({name:t.sigalgfield})):n.push(new h({name:t.sigalg})),null==t.sighex&&null!=t.signkey&&this.sign(),n.push(new o({hex:t.sighex})),null!=t.uattrs){r=new c(t.uattrs);try{n.push(new a({tag:"a1",explicit:!1,obj:r}))}catch(t){throw new e("si uattr error: "+t)}}return new s({array:n}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=t&&this.setByParam(t)},Qt(ut.asn1.cms.SignerInfo,ut.asn1.ASN1Object),ut.asn1.cms.EncapsulatedContentInfo=function(t){var e=ut.asn1,n=e.DERTaggedObject,r=e.DERSequence,i=e.DERObjectIdentifier,o=e.DEROctetString;e.cms.EncapsulatedContentInfo.superclass.constructor.call(this),this.params=null,this.tohex=function(){var t=this.params,e=[];if(e.push(new i(t.type)),null!=t.content&&(null!=t.content.hex||null!=t.content.str)&&1!=t.isDetached){var s=new o(t.content),a=new n({tag:"a0",explicit:!0,obj:s});e.push(a)}return new r({array:e}).tohex()},this.getEncodedHex=function(){return this.tohex()},this.setByParam=function(t){this.params=t},null!=t&&this.setByParam(t)},Qt(ut.asn1.cms.EncapsulatedContentInfo,ut.asn1.ASN1Object),ut.asn1.cms.ContentInfo=function(t){var e=ut.asn1,n=e.DERTaggedObject,r=e.DERSequence,i=e.DERObjectIdentifier;e.x509.OID.name2obj;ut.asn1.cms.ContentInfo.superclass.constructor.call(this),this.params=null,this.tohex=function(){var t=this.params,e=[];e.push(new i(t.type));var o=new n({tag:"a0",explicit:!0,obj:t.obj});return e.push(o),new r({array:e}).tohex()},this.getEncodedHex=function(){return this.tohex()},this.setByParam=function(t){this.params=t},null!=t&&this.setByParam(t)},Qt(ut.asn1.cms.ContentInfo,ut.asn1.ASN1Object),ut.asn1.cms.SignedData=function(t){Error;var e=ut.asn1,n=(e.ASN1Object,e.DERInteger),r=e.DERSet,i=e.DERSequence,o=(e.DERTaggedObject,e.cms),s=o.EncapsulatedContentInfo,a=o.SignerInfo,u=o.ContentInfo,l=o.CertificateSet,c=o.RevocationInfoChoices,h=e.x509.AlgorithmIdentifier;ut.asn1.cms.SignedData.superclass.constructor.call(this),this.params=null,this.checkAndFixParam=function(){var t=this.params;this._setDigestAlgs(t),this._setContentTypeByEContent(t),this._setMessageDigestByEContent(t),this._setSignerInfoVersion(t),this._setSignedDataVersion(t)},this._setDigestAlgs=function(t){for(var e={},n=t.sinfos,r=0;r<n.length;r++){e[n[r].hashalg]=1}t.hashalgs=Object.keys(e).sort()},this._setContentTypeByEContent=function(t){for(var e=t.econtent.type,n=t.sinfos,r=0;r<n.length;r++){var i=n[r];this._getAttrParamByName(i,"contentType").type=e}},this._setMessageDigestByEContent=function(t){var e=t.econtent,n=(t.econtent.type,e.content.hex);null==n&&"data"==e.type&&null!=e.content.str&&(n=At(e.content.str));for(var r=t.sinfos,i=0;i<r.length;i++){var o=r[i],s=o.hashalg,a=this._getAttrParamByName(o,"messageDigest"),u=ut.crypto.Util.hashHex(n,s);a.hex=u}},this._getAttrParamByName=function(t,e){for(var n=t.sattrs.array,r=0;r<n.length;r++)if(n[r].attr==e)return n[r]},this._setSignerInfoVersion=function(t){for(var e=t.sinfos,n=0;n<e.length;n++){var r=e[n],i=1;"skid"==r.id.type&&(i=3),r.version=i}},this._setSignedDataVersion=function(t){var e=this._getSignedDataVersion(t);t.version=e},this._getSignedDataVersion=function(t){if(null!=t.revinfos)for(var e=t.revinfos,n=0;n<e.length;n++){if(null!=e[n].ocsp)return 5}var r=t.sinfos;for(n=0;n<r.length;n++){if(3==t.sinfos[n].version)return 3}return"data"!=t.econtent.type?3:1},this.tohex=function(){var t=this.params;null!=this.getEncodedHexPrepare&&this.getEncodedHexPrepare(),1!=t.fixed&&this.checkAndFixParam();var e=[];e.push(new n({int:t.version}));for(var o=[],u=0;u<t.hashalgs.length;u++){var f=t.hashalgs[u];o.push(new h({name:f}))}e.push(new r({array:o})),e.push(new s(t.econtent)),null!=t.certs&&e.push(new l(t.certs)),null!=t.revinfos&&e.push(new c(t.revinfos));var p=[];for(u=0;u<t.sinfos.length;u++){var d=t.sinfos[u];p.push(new a(d))}return e.push(new r({array:p})),new i({array:e}).tohex()},this.getEncodedHex=function(){return this.tohex()},this.getContentInfo=function(){return new u({type:"signed-data",obj:this})},this.getContentInfoEncodedHex=function(){return this.getContentInfo().tohex()},null!=t&&this.setByParam(t)},Qt(ut.asn1.cms.SignedData,ut.asn1.ASN1Object),ut.asn1.cms.CertificateSet=function(t){ut.asn1.cms.CertificateSet.superclass.constructor.call(this);var e=Error,n=ut.asn1,r=n.DERTaggedObject,i=n.DERSet,o=n.ASN1Object;this.params=null,this.tohex=function(){var t,n=this.params,s=[];if(n instanceof Array)t=n;else{if(null==n.array)throw new e("cert array not specified");t=n.array}for(var a=0;a<t.length;a++){var u=Tt(t[a]),l=new o;l.hTLV=u,s.push(l)}var c={array:s};0==n.sortflag&&(c.sortflag=!1);var h=new i(c);return new r({tag:"a0",explicit:!1,obj:h}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=t&&this.setByParam(t)},Qt(ut.asn1.cms.CertificateSet,ut.asn1.ASN1Object),ut.asn1.cms.RevocationInfoChoices=function(t){ut.asn1.cms.RevocationInfoChoices.superclass.constructor.call(this),this.params=null,this.tohex=function(){var t=this.params;if(!t instanceof Array)throw new Error("params is not array");for(var e=[],n=0;n<t.length;n++)e.push(new ut.asn1.cms.RevocationInfoChoice(t[n]));return ut.asn1.ASN1Util.newObject({tag:{tagi:"a1",obj:{set:e}}}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=t&&this.setByParam(t)},Qt(ut.asn1.cms.RevocationInfoChoices,ut.asn1.ASN1Object),ut.asn1.cms.RevocationInfoChoice=function(t){ut.asn1.cms.RevocationInfoChoice.superclass.constructor.call(this),this.params=null,this.tohex=function(){var t=this.params;if(null!=t.crl&&"string"==typeof t.crl){var e=t.crl;return-1!=t.crl.indexOf("-----BEGIN")&&(e=Tt(t.crl)),e}if(null!=t.ocsp)return ut.asn1.ASN1Util.newObject({tag:{tagi:"a1",obj:new ut.asn1.cms.OtherRevocationFormat(t)}}).tohex();throw new Error("property crl or ocsp undefined")},this.getEncodedHex=function(){return this.tohex()},null!=t&&this.setByParam(t)},Qt(ut.asn1.cms.RevocationInfoChoice,ut.asn1.ASN1Object),ut.asn1.cms.OtherRevocationFormat=function(t){ut.asn1.cms.OtherRevocationFormat.superclass.constructor.call(this);var e=Error,n=ut,r=n.asn1.ASN1Util.newObject,i=n.lang.String.isHex;this.params=null,this.tohex=function(){var t=this.params;if(null==t.ocsp)throw new e("property ocsp not specified");if(!i(t.ocsp)||!ht.isASN1HEX(t.ocsp))throw new e("ocsp value not ASN.1 hex string");return r({seq:[{oid:"1.3.6.1.5.5.7.16.2"},{asn1:{tlv:t.ocsp}}]}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=t&&this.setByParam(t)},Qt(ut.asn1.cms.OtherRevocationFormat,ut.asn1.ASN1Object),ut.asn1.cms.CMSUtil=new function(){},ut.asn1.cms.CMSUtil.newSignedData=function(t){return new ut.asn1.cms.SignedData(t)},ut.asn1.cms.CMSUtil.verifySignedData=function(t){var e=ut,n=e.asn1,r=n.cms,i=(r.SignerInfo,r.SignedData,r.SigningTime,r.SigningCertificate,r.SigningCertificateV2,n.cades.SignaturePolicyIdentifier,e.lang.String.isHex),o=ht,s=o.getVbyList,a=o.getTLVbyList,u=o.getIdxbyList,l=o.getChildIdx,c=o.getTLV,h=o.oidname,f=e.crypto.Util.hashHex;void 0===t.cms&&i(t.cms);var p=t.cms,d=function(t,e){var n=e.idx;e.signerid_issuer1=a(t,n,[1,0],"30"),e.signerid_serial1=s(t,n,[1,1],"02"),e.hashalg=h(s(t,n,[2,0],"06"));var r=u(t,n,[3],"a0");e.idxSignedAttrs=r,g(t,e,r);var i=l(t,n).length;if(i<6)throw"malformed SignerInfo";e.sigalg=h(s(t,n,[i-2,0],"06")),e.sigval=s(t,n,[i-1],"04")},g=function(t,e,n){var r=l(t,n);e.signedAttrIdxList=r;for(var i=0;i<r.length;i++){var o,a=r[i],u=s(t,a,[0],"06");"2a864886f70d010905"===u?(o=xt(s(t,a,[1,0])),e.saSigningTime=o):"2a864886f70d010904"===u&&(o=s(t,a,[1,0],"04"),e.saMessageDigest=o)}},v=function(t,e,n,r){n.verifyDetail={};var i=n.verifyDetail,o=e.parse.econtent,s=n.hashalg,a=n.saMessageDigest;i.validMessageDigest=!1,f(o,s)===a&&(i.validMessageDigest=!0),function(t,e,n,r){var i,o=e.parse.certsIdx;if(void 0===e.certs){i=[],e.certkeys=[];for(var s=l(t,o),a=0;a<s.length;a++){var u=c(t,s[a]),h=new re;h.readCertHex(u),i[a]=h,e.certkeys[a]=h.getPublicKey()}e.certs=i}else i=e.certs;e.cccc=i.length,e.cccci=s.length;for(a=0;a<i.length;a++){var f=h.getIssuerHex(),p=h.getSerialNumberHex();n.signerid_issuer1===f&&n.signerid_serial1===p&&(n.certkey_idx=a)}}(t,e,n),i.validSignatureValue=!1;var u=n.sigalg,h="31"+c(t,n.idxSignedAttrs).substr(2);n.signedattrshex=h;var p=e.certs[n.certkey_idx].getPublicKey(),d=new ut.crypto.Signature({alg:u});d.init(p),d.updateHex(h);var g=d.verify(n.sigval);i.validSignatureValue_isValid=g,!0===g&&(i.validSignatureValue=!0),n.isValid=!1,i.validMessageDigest&&i.validSignatureValue&&(n.isValid=!0)},m={isValid:!1,parse:{}};return function(t,e){if("2a864886f70d010702"!==s(t,0,[0],"06"))return e;e.cmsType="signedData",e.econtent=s(t,0,[1,0,2,1,0]),function(t,e){for(var n,r=3;r<6;r++)if(void 0!==(n=u(t,0,[1,0,r]))){var i=t.substr(n,2);"a0"===i&&(e.certsIdx=n),"a1"===i&&(e.revinfosIdx=n),"31"===i&&(e.signerinfosIdx=n)}}(t,e),e.signerInfos=[],function(t,e){var n=e.signerinfosIdx;if(void 0!==n){var r=l(t,n);e.signerInfoIdxList=r;for(var i=0;i<r.length;i++){var o={idx:r[i]};d(t,o),e.signerInfos.push(o)}}}(t,e)}(p,m.parse),function(t,e){for(var n=e.parse.signerInfos,r=n.length,i=!0,o=0;o<r;o++){var s=n[o];v(t,e,s,o),s.isValid||(i=!1)}e.isValid=i}(p,m),m},ut.asn1.cms.CMSParser=function(){var t=Error,e=re,n=new e,r=ht,i=r.getV,o=r.getTLV,s=(r.getIdxbyList,r.getTLVbyList),a=r.getTLVbyListEx,u=r.getVbyList,l=r.getVbyListEx,c=r.getChildIdx;this.getCMSSignedData=function(t){var e=s(t,0,[1,0]);return this.getSignedData(e)},this.getSignedData=function(t){var e=c(t,0),n={},r=i(t,e[0]),s=parseInt(r,16);n.version=s;var u=o(t,e[1]);n.hashalgs=this.getHashAlgArray(u);var l=o(t,e[2]);n.econtent=this.getEContent(l);var h=a(t,0,["[0]"]);null!=h&&(n.certs=this.getCertificateSet(h));a(t,0,["[1]"]);var f=a(t,0,[3]);return n.sinfos=this.getSignerInfos(f),n},this.getHashAlgArray=function(t){for(var n=c(t,0),r=new e,i=[],s=0;s<n.length;s++){var a=o(t,n[s]),u=r.getAlgorithmIdentifierName(a);i.push(u)}return i},this.getEContent=function(t){var e={},n=u(t,0,[0]),r=u(t,0,[1,0]);return e.type=ut.asn1.x509.OID.oid2name(ht.hextooidstr(n)),e.content={hex:r},e},this.getSignerInfos=function(t){for(var e=[],n=c(t,0),r=0;r<n.length;r++){var i=o(t,n[r]),s=this.getSignerInfo(i);e.push(s)}return e},this.getSignerInfo=function(t){var e={},i=c(t,0),s=r.getInt(t,i[0],-1);-1!=s&&(e.version=s);var u=o(t,i[1]),h=this.getIssuerAndSerialNumber(u);e.id=h;var f=o(t,i[2]),p=n.getAlgorithmIdentifierName(f);e.hashalg=p;var d=a(t,0,["[0]"]);if(null!=d){var g=this.getAttributeList(d);e.sattrs=g}var v=a(t,0,[3]),m=n.getAlgorithmIdentifierName(v);e.sigalg=m;var y=l(t,0,[4]);e.sighex=y;var b=a(t,0,["[1]"]);if(null!=b){var w=this.getAttributeList(b);e.uattrs=w}return e},this.getSignerIdentifier=function(t){if("30"==t.substr(0,2))return this.getIssuerAndSerialNumber(t);throw new Error("SKID of signerIdentifier not supported")},this.getIssuerAndSerialNumber=function(t){var e={type:"isssn"},r=c(t,0),s=o(t,r[0]);e.issuer=n.getX500Name(s);var a=i(t,r[1]);return e.serial={hex:a},e},this.getAttributeList=function(t){for(var e=[],n=c(t,0),r=0;r<n.length;r++){var i=o(t,n[r]),s=this.getAttribute(i);e.push(s)}return{array:e}},this.getAttribute=function(t){var e={},n=c(t,0),i=r.getOID(t,n[0]),s=ut.asn1.x509.OID.oid2name(i);e.attr=s;var a=o(t,n[1]),u=c(a,0);if(1==u.length)e.valhex=o(a,u[0]);else{for(var l=[],h=0;h<u.length;h++)l.push(o(a,u[h]));e.valhex=l}return"contentType"==s?this.setContentType(e):"messageDigest"==s?this.setMessageDigest(e):"signingTime"==s?this.setSigningTime(e):"signingCertificate"==s?this.setSigningCertificate(e):"signingCertificateV2"==s?this.setSigningCertificateV2(e):"signaturePolicyIdentifier"==s&&this.setSignaturePolicyIdentifier(e),e},this.setContentType=function(t){var e=r.getOIDName(t.valhex,0,null);null!=e&&(t.type=e,delete t.valhex)},this.setSigningTime=function(t){var e=xt(i(t.valhex,0));t.str=e,delete t.valhex},this.setMessageDigest=function(t){var e=i(t.valhex,0);t.hex=e,delete t.valhex},this.setSigningCertificate=function(t){var e=c(t.valhex,0);if(e.length>0){for(var n=o(t.valhex,e[0]),r=c(n,0),i=[],s=0;s<r.length;s++){var a=o(n,r[s]),u=this.getESSCertID(a);i.push(u)}t.array=i}if(e.length>1){var l=o(t.valhex,e[1]);t.polhex=l}delete t.valhex},this.setSignaturePolicyIdentifier=function(t){var n=c(t.valhex,0);if(n.length>0){var s=r.getOID(t.valhex,n[0]);t.oid=s}if(n.length>1){var a=new e,u=c(t.valhex,n[1]),l=o(t.valhex,u[0]),h=a.getAlgorithmIdentifierName(l);t.alg=h;var f=i(t.valhex,u[1]);t.hash=f}delete t.valhex},this.setSigningCertificateV2=function(t){var e=c(t.valhex,0);if(e.length>0){for(var n=o(t.valhex,e[0]),r=c(n,0),i=[],s=0;s<r.length;s++){var a=o(n,r[s]),u=this.getESSCertIDv2(a);i.push(u)}t.array=i}if(e.length>1){var l=o(t.valhex,e[1]);t.polhex=l}delete t.valhex},this.getESSCertID=function(t){var e={},n=c(t,0);if(n.length>0){var r=i(t,n[0]);e.hash=r}if(n.length>1){var s=o(t,n[1]),a=this.getIssuerSerial(s);null!=a.serial&&(e.serial=a.serial),null!=a.issuer&&(e.issuer=a.issuer)}return e},this.getESSCertIDv2=function(e){var r={},s=c(e,0);if(s.length<1||3<s.length)throw new t("wrong number of elements");var a=0;if("30"==e.substr(s[0],2)){var u=o(e,s[0]);r.alg=n.getAlgorithmIdentifierName(u),a++}else r.alg="sha256";var l=i(e,s[a]);if(r.hash=l,s.length>a+1){var h=o(e,s[a+1]),f=this.getIssuerSerial(h);r.issuer=f.issuer,r.serial=f.serial}return r},this.getIssuerSerial=function(t){var e={},r=c(t,0),s=o(t,r[0]),a=n.getGeneralNames(s)[0].dn;e.issuer=a;var u=i(t,r[1]);return e.serial={hex:u},e},this.getCertificateSet=function(t){for(var e=c(t,0),n=[],r=0;r<e.length;r++){var i=o(t,e[r]);if("30"==i.substr(0,2)){var s=kt(i,"CERTIFICATE");n.push(s)}}return{array:n,sortflag:!1}}},void 0!==ut&&ut||(ut={}),void 0!==ut.asn1&&ut.asn1||(ut.asn1={}),void 0!==ut.asn1.tsp&&ut.asn1.tsp||(ut.asn1.tsp={}),ut.asn1.tsp.TimeStampToken=function(t){var e=ut.asn1.tsp;e.TimeStampToken.superclass.constructor.call(this),this.params=null,this.getEncodedHexPrepare=function(){var t=new e.TSTInfo(this.params.econtent.content);this.params.econtent.content.hex=t.tohex()},null!=t&&this.setByParam(t)},Qt(ut.asn1.tsp.TimeStampToken,ut.asn1.cms.SignedData),ut.asn1.tsp.TSTInfo=function(t){Error;var e=ut.asn1,n=e.DERSequence,r=e.DERInteger,i=e.DERBoolean,o=e.DERGeneralizedTime,s=e.DERObjectIdentifier,a=e.DERTaggedObject,u=e.tsp,l=u.MessageImprint,c=u.Accuracy,h=(e.x509.X500Name,e.x509.GeneralName);if(u.TSTInfo.superclass.constructor.call(this),this.dVersion=new r({int:1}),this.dPolicy=null,this.dMessageImprint=null,this.dSerial=null,this.dGenTime=null,this.dAccuracy=null,this.dOrdering=null,this.dNonce=null,this.dTsa=null,this.tohex=function(){var t=[this.dVersion];if(null==this.dPolicy)throw new Error("policy shall be specified.");if(t.push(this.dPolicy),null==this.dMessageImprint)throw new Error("messageImprint shall be specified.");if(t.push(this.dMessageImprint),null==this.dSerial)throw new Error("serialNumber shall be specified.");if(t.push(this.dSerial),null==this.dGenTime)throw new Error("genTime shall be specified.");t.push(this.dGenTime),null!=this.dAccuracy&&t.push(this.dAccuracy),null!=this.dOrdering&&t.push(this.dOrdering),null!=this.dNonce&&t.push(this.dNonce),null!=this.dTsa&&t.push(this.dTsa);var e=new n({array:t});return this.hTLV=e.tohex(),this.hTLV},this.getEncodedHex=function(){return this.tohex()},void 0!==t){if("string"==typeof t.policy){if(!t.policy.match(/^[0-9.]+$/))throw"policy shall be oid like 0.1.4.134";this.dPolicy=new s({oid:t.policy})}void 0!==t.messageImprint&&(this.dMessageImprint=new l(t.messageImprint)),void 0!==t.serial&&(this.dSerial=new r(t.serial)),void 0!==t.genTime&&(this.dGenTime=new o(t.genTime)),void 0!==t.accuracy&&(this.dAccuracy=new c(t.accuracy)),void 0!==t.ordering&&1==t.ordering&&(this.dOrdering=new i),void 0!==t.nonce&&(this.dNonce=new r(t.nonce)),void 0!==t.tsa&&(this.dTsa=new a({tag:"a0",explicit:!0,obj:new h({dn:t.tsa})}))}},Qt(ut.asn1.tsp.TSTInfo,ut.asn1.ASN1Object),ut.asn1.tsp.Accuracy=function(t){var e=ut.asn1,n=e.ASN1Util.newObject;e.tsp.Accuracy.superclass.constructor.call(this),this.params=null,this.tohex=function(){var t=this.params,e=[];return null!=t.seconds&&"number"==typeof t.seconds&&e.push({int:t.seconds}),null!=t.millis&&"number"==typeof t.millis&&e.push({tag:{tagi:"80",obj:{int:t.millis}}}),null!=t.micros&&"number"==typeof t.micros&&e.push({tag:{tagi:"81",obj:{int:t.micros}}}),n({seq:e}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=t&&this.setByParam(t)},Qt(ut.asn1.tsp.Accuracy,ut.asn1.ASN1Object),ut.asn1.tsp.MessageImprint=function(t){var e=ut.asn1,n=e.DERSequence,r=e.DEROctetString,i=e.x509.AlgorithmIdentifier;e.tsp.MessageImprint.superclass.constructor.call(this),this.params=null,this.tohex=function(){var t=this.params,e=new i({name:t.alg}),o=new r({hex:t.hash});return new n({array:[e,o]}).tohex()},this.getEncodedHex=function(){return this.tohex()},void 0!==t&&this.setByParam(t)},Qt(ut.asn1.tsp.MessageImprint,ut.asn1.ASN1Object),ut.asn1.tsp.TimeStampReq=function(t){var e=ut.asn1,n=e.DERSequence,r=e.DERInteger,i=e.DERBoolean,o=(e.ASN1Object,e.DERObjectIdentifier),s=e.tsp,a=s.MessageImprint;s.TimeStampReq.superclass.constructor.call(this),this.params=null,this.tohex=function(){var t=this.params,e=[];return e.push(new r({int:1})),t.messageImprint instanceof ut.asn1.ASN1Object?e.push(t.messageImprint):e.push(new a(t.messageImprint)),null!=t.policy&&e.push(new o(t.policy)),null!=t.nonce&&e.push(new r(t.nonce)),1==t.certreq&&e.push(new i),new n({array:e}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=t&&this.setByParam(t)},Qt(ut.asn1.tsp.TimeStampReq,ut.asn1.ASN1Object),ut.asn1.tsp.TimeStampResp=function(t){var e=ut.asn1,n=e.DERSequence,r=(e.ASN1Object,e.tsp),i=r.PKIStatusInfo;r.TimeStampResp.superclass.constructor.call(this),this.params=null,this.tohex=function(){var t=this.params,o=[];if(null!=t.econtent||null!=t.tst)if(null!=t.statusinfo?o.push(new i(t.statusinfo)):o.push(new i("granted")),null!=t.econtent)o.push(new r.TimeStampToken(t).getContentInfo());else{if(!(t.tst instanceof e.ASN1Object))throw new Error("improper member tst value");o.push(t.tst)}else{if(null==t.statusinfo)throw new Error("parameter for token nor statusinfo not specified");o.push(new i(t.statusinfo))}return new n({array:o}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=t&&this.setByParam(t)},Qt(ut.asn1.tsp.TimeStampResp,ut.asn1.ASN1Object),ut.asn1.tsp.PKIStatusInfo=function(t){var e=Error,n=ut.asn1,r=n.DERSequence,i=n.tsp,o=i.PKIStatus,s=i.PKIFreeText,a=i.PKIFailureInfo;i.PKIStatusInfo.superclass.constructor.call(this),this.params=null,this.tohex=function(){var t=this.params,n=[];if("string"==typeof t)n.push(new o(t));else{if(null==t.status)throw new e("property 'status' unspecified");n.push(new o(t.status)),null!=t.statusstr&&n.push(new s(t.statusstr)),null!=t.failinfo&&n.push(new a(t.failinfo))}return new r({array:n}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=t&&this.setByParam(t)},Qt(ut.asn1.tsp.PKIStatusInfo,ut.asn1.ASN1Object),ut.asn1.tsp.PKIStatus=function(t){var e=Error,n=ut.asn1,r=n.DERInteger;n.tsp.PKIStatus.superclass.constructor.call(this);var i={granted:0,grantedWithMods:1,rejection:2,waiting:3,revocationWarning:4,revocationNotification:5};this.params=null,this.tohex=function(){var t,n=this.params;if("string"==typeof n)try{t=i[n]}catch(t){throw new e("undefined name: "+n)}else{if("number"!=typeof n)throw new e("unsupported params");t=n}return new r({int:t}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=t&&this.setByParam(t)},Qt(ut.asn1.tsp.PKIStatus,ut.asn1.ASN1Object),ut.asn1.tsp.PKIFreeText=function(t){var e=Error,n=ut.asn1,r=n.DERSequence,i=n.DERUTF8String;n.tsp.PKIFreeText.superclass.constructor.call(this),this.params=null,this.tohex=function(){var t=this.params;if(!t instanceof Array)throw new e("wrong params: not array");for(var n=[],o=0;o<t.length;o++)n.push(new i({str:t[o]}));return new r({array:n}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=t&&this.setByParam(t)},Qt(ut.asn1.tsp.PKIFreeText,ut.asn1.ASN1Object),ut.asn1.tsp.PKIFailureInfo=function(t){var e=Error,n=ut.asn1,r=n.DERBitString,i=n.tsp.PKIFailureInfo,o={badAlg:0,badRequest:2,badDataFormat:5,timeNotAvailable:14,unacceptedPolicy:15,unacceptedExtension:16,addInfoNotAvailable:17,systemFailure:25};i.superclass.constructor.call(this),this.params=null,this.getBinValue=function(){var t=this.params,n=0;if("number"==typeof t&&0<=t&&t<=25){for(var r=(n|=1<<t).toString(2),i="",s=r.length-1;s>=0;s--)i+=r[s];return i}if("string"==typeof t&&null!=o[t])return Jt([t],o);if("object"==typeof t&&null!=t.length)return Jt(t,o);throw new e("wrong params")},this.tohex=function(){this.params;var t=this.getBinValue();return new r({bin:t}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=t&&this.setByParam(t)},Qt(ut.asn1.tsp.PKIFailureInfo,ut.asn1.ASN1Object),ut.asn1.tsp.AbstractTSAAdapter=function(t){this.getTSTHex=function(t,e){throw"not implemented yet"}},ut.asn1.tsp.SimpleTSAAdapter=function(t){var e=ut,n=e.asn1.tsp,r=e.crypto.Util.hashHex;n.SimpleTSAAdapter.superclass.constructor.call(this),this.params=null,this.serial=0,this.getTSTHex=function(t,e){var i=r(t,e);this.params.econtent.content.messageImprint={alg:e,hash:i},this.params.econtent.content.serial={int:this.serial++};var o=Math.floor(1e9*Math.random());return this.params.econtent.content.nonce={int:o},new n.TimeStampToken(this.params).getContentInfoEncodedHex()},void 0!==t&&(this.params=t)},Qt(ut.asn1.tsp.SimpleTSAAdapter,ut.asn1.tsp.AbstractTSAAdapter),ut.asn1.tsp.FixedTSAAdapter=function(t){var e=ut,n=e.asn1.tsp,r=e.crypto.Util.hashHex;n.FixedTSAAdapter.superclass.constructor.call(this),this.params=null,this.getTSTHex=function(t,e){var i=r(t,e);return this.params.econtent.content.messageImprint={alg:e,hash:i},new n.TimeStampToken(this.params).getContentInfoEncodedHex()},void 0!==t&&(this.params=t)},Qt(ut.asn1.tsp.FixedTSAAdapter,ut.asn1.tsp.AbstractTSAAdapter),ut.asn1.tsp.TSPUtil=new function(){},ut.asn1.tsp.TSPUtil.newTimeStampToken=function(t){return new ut.asn1.tsp.TimeStampToken(t)},ut.asn1.tsp.TSPUtil.parseTimeStampReq=function(t){return(new ut.asn1.tsp.TSPParser).getTimeStampReq(t)},ut.asn1.tsp.TSPUtil.parseMessageImprint=function(t){return(new ut.asn1.tsp.TSPParser).getMessageImprint(t)},ut.asn1.tsp.TSPParser=function(){Error;var t=new re,e=ht,n=e.getV,r=e.getTLV,i=e.getIdxbyList,o=(e.getTLVbyListEx,e.getChildIdx),s=["granted","grantedWithMods","rejection","waiting","revocationWarning","revocationNotification"],a={0:"badAlg",2:"badRequest",5:"badDataFormat",14:"timeNotAvailable",15:"unacceptedPolicy",16:"unacceptedExtension",17:"addInfoNotAvailable",25:"systemFailure"};this.getResponse=function(t){var e=o(t,0);if(1==e.length)return this.getPKIStatusInfo(r(t,e[0]));if(e.length>1){var n=this.getPKIStatusInfo(r(t,e[0])),i=r(t,e[1]),s=this.getToken(i);return s.statusinfo=n,s}},this.getToken=function(t){var e=(new ut.asn1.cms.CMSParser).getCMSSignedData(t);return this.setTSTInfo(e),e},this.setTSTInfo=function(t){var e=t.econtent;if("tstinfo"==e.type){var n=e.content.hex,r=this.getTSTInfo(n);e.content=r}},this.getTSTInfo=function(e){var i={},s=o(e,0),a=n(e,s[1]);i.policy=zt(a);var u=r(e,s[2]);i.messageImprint=this.getMessageImprint(u);var l=n(e,s[3]);i.serial={hex:l};var c=n(e,s[4]);i.genTime={str:xt(c)};var h=0;if(s.length>5&&"30"==e.substr(s[5],2)){var f=r(e,s[5]);i.accuracy=this.getAccuracy(f),h++}s.length>5+h&&"01"==e.substr(s[5+h],2)&&("ff"==n(e,s[5+h])&&(i.ordering=!0),h++);if(s.length>5+h&&"02"==e.substr(s[5+h],2)){var p=n(e,s[5+h]);i.nonce={hex:p},h++}if(s.length>5+h&&"a0"==e.substr(s[5+h],2)){var d=r(e,s[5+h]);d="30"+d.substr(2),pGeneralNames=t.getGeneralNames(d);var g=pGeneralNames[0].dn;i.tsa=g,h++}if(s.length>5+h&&"a1"==e.substr(s[5+h],2)){var v=r(e,s[5+h]);v="30"+v.substr(2);var m=t.getExtParamArray(v);i.ext=m,h++}return i},this.getAccuracy=function(t){for(var e={},r=o(t,0),i=0;i<r.length;i++){var s=t.substr(r[i],2),a=n(t,r[i]),u=parseInt(a,16);"02"==s?e.seconds=u:"80"==s?e.millis=u:"81"==s&&(e.micros=u)}return e},this.getMessageImprint=function(t){if("30"!=t.substr(0,2))throw new Error("head of messageImprint hex shall be x30");var r={},s=(o(t,0),i(t,0,[0,0])),a=n(t,s),u=e.hextooidstr(a),l=ut.asn1.x509.OID.oid2name(u);if(""==l)throw new Error("hashAlg name undefined: "+u);var c=l,h=i(t,0,[1]);return r.alg=c,r.hash=n(t,h),r},this.getPKIStatusInfo=function(t){var e={},i=o(t,0),a=0;try{var u=n(t,i[0]),l=parseInt(u,16);e.status=s[l]}catch(t){}if(i.length>1&&"30"==t.substr(i[1],2)){var c=r(t,i[1]);e.statusstr=this.getPKIFreeText(c),a++}if(i.length>a&&"03"==t.substr(i[1+a],2)){var h=r(t,i[1+a]);e.failinfo=this.getPKIFailureInfo(h)}return e},this.getPKIFreeText=function(t){for(var n=[],r=o(t,0),i=0;i<r.length;i++)n.push(e.getString(t,r[i]));return n},this.getPKIFailureInfo=function(t){var n=e.getInt(t,0);return null!=a[n]?a[n]:n},this.getTimeStampReq=function(t){var i={certreq:!1},s=o(t,0);if(s.length<2)throw new Error("TimeStampReq must have at least 2 items");var a=r(t,s[1]);i.messageImprint=ut.asn1.tsp.TSPUtil.parseMessageImprint(a);for(var u=2;u<s.length;u++){var l=s[u],c=t.substr(l,2);if("06"==c){var h=n(t,l);i.policy=e.hextooidstr(h)}"02"==c&&(i.nonce=n(t,l)),"01"==c&&(i.certreq=!0)}return i}},void 0!==ut&&ut||(ut={}),void 0!==ut.asn1&&ut.asn1||(ut.asn1={}),void 0!==ut.asn1.cades&&ut.asn1.cades||(ut.asn1.cades={}),ut.asn1.cades.SignaturePolicyIdentifier=function(t){var e=ut.asn1.cades,n=e.SignaturePolicyId;e.SignaturePolicyIdentifier.superclass.constructor.call(this),this.typeOid="1.2.840.113549.1.9.16.2.15",this.params=null,this.getValueArray=function(){return[new n(this.params)]},this.setByParam=function(t){this.params=t},null!=t&&this.setByParam(t)},Qt(ut.asn1.cades.SignaturePolicyIdentifier,ut.asn1.cms.Attribute),ut.asn1.cades.SignaturePolicyId=function(t){var e=ut.asn1,n=e.DERSequence,r=e.DERObjectIdentifier,i=(e.x509.AlgorithmIdentifier,e.cades),o=i.SignaturePolicyId,s=i.OtherHashAlgAndValue;o.superclass.constructor.call(this),this.params=null,this.tohex=function(){var t=this.params,e=[];return e.push(new r(t.oid)),e.push(new s(t)),new n({array:e}).tohex()},this.getEncodedHex=function(){return this.tohex()},this.setByParam=function(t){this.params=t},null!=t&&this.setByParam(t)},Qt(ut.asn1.cades.SignaturePolicyId,ut.asn1.ASN1Object),ut.asn1.cades.OtherHashAlgAndValue=function(t){var e=Error,n=ut.asn1,r=n.DERSequence,i=n.DEROctetString,o=n.x509.AlgorithmIdentifier;n.cades.OtherHashAlgAndValue.superclass.constructor.call(this),this.params=null,this.tohex=function(){var t=this.params;if(null==t.alg)throw new e("property 'alg' not specified");if(null==t.hash&&null==t.cert)throw new e("property 'hash' nor 'cert' not specified");var n=null;if(null!=t.hash)n=t.hash;else if(null!=t.cert){if("string"!=typeof t.cert)throw new e("cert not string");var s=t.cert;-1!=t.cert.indexOf("-----BEGIN")&&(s=Tt(t.cert)),n=ut.crypto.Util.hashHex(s,t.alg)}var a=[];return a.push(new o({name:t.alg})),a.push(new i({hex:n})),new r({array:a}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=t&&this.setByParam(t)},Qt(ut.asn1.cades.OtherHashAlgAndValue,ut.asn1.ASN1Object),ut.asn1.cades.OtherHashValue=function(t){ut.asn1.cades.OtherHashValue.superclass.constructor.call(this);var e=Error,n=ut,r=(n.lang.String.isHex,n.asn1.DEROctetString);n.crypto.Util.hashHex;this.params=null,this.tohex=function(){var t=this.params;if(null==t.hash&&null==t.cert)throw new e("hash or cert not specified");var n=null;if(null!=t.hash)n=t.hash;else if(null!=t.cert){if("string"!=typeof t.cert)throw new e("cert not string");var i=t.cert;-1!=t.cert.indexOf("-----BEGIN")&&(i=Tt(t.cert)),n=ut.crypto.Util.hashHex(i,"sha1")}return new r({hex:n}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=t&&this.setByParam(t)},Qt(ut.asn1.cades.OtherHashValue,ut.asn1.ASN1Object),ut.asn1.cades.SignatureTimeStamp=function(t){var e=Error,n=ut,r=n.lang.String.isHex,i=n.asn1,o=i.ASN1Object;i.x509;i.cades.SignatureTimeStamp.superclass.constructor.call(this),this.typeOid="1.2.840.113549.1.9.16.2.14",this.params=null,this.getValueArray=function(){var t=this.params;if(null!=t.tst){if(r(t.tst))return(i=new o).hTLV=t.tst,[i];if(t.tst instanceof o)return[t.tst];throw new e("params.tst has wrong value")}if(null!=t.res){var n=t.res;if(n instanceof o&&(n=n.tohex()),"string"!=typeof n||!r(n))throw new e("params.res has wrong value");var i;ht.getTLVbyList(n,0,[1]);return(i=new o).hTLV=t.tst,[i]}},null!=t&&this.setByParam(t)},Qt(ut.asn1.cades.SignatureTimeStamp,ut.asn1.cms.Attribute),ut.asn1.cades.CompleteCertificateRefs=function(t){var e=Error,n=ut,r=n.asn1,i=r.DERSequence,o=r.cades,s=o.OtherCertID,a=n.lang.String.isHex;o.CompleteCertificateRefs.superclass.constructor.call(this),this.typeOid="1.2.840.113549.1.9.16.2.21",this.params=null,this.getValueArray=function(){for(var t=this.params,n=[],r=0;r<t.array.length;r++){var o=t.array[r];if("string"==typeof o)if(-1!=o.indexOf("-----BEGIN"))o={cert:o};else{if(!a(o))throw new e("unsupported value: "+o);o={hash:o}}null!=t.alg&&null==o.alg&&(o.alg=t.alg),null!=t.hasis&&null==o.hasis&&(o.hasis=t.hasis);var u=new s(o);n.push(u)}return[new i({array:n})]},null!=t&&this.setByParam(t)},Qt(ut.asn1.cades.CompleteCertificateRefs,ut.asn1.cms.Attribute),ut.asn1.cades.OtherCertID=function(t){var e=ut.asn1,n=e.DERSequence,r=e.cms.IssuerSerial,i=e.cades,o=i.OtherHashValue,s=i.OtherHashAlgAndValue;i.OtherCertID.superclass.constructor.call(this),this.params=t,this.tohex=function(){var t=this.params;"string"==typeof t&&(-1!=t.indexOf("-----BEGIN")?t={cert:t}:_isHex(t)&&(t={hash:t}));var e=[],i=null;if(i=null!=t.alg?new s(t):new o(t),e.push(i),null!=t.cert&&1==t.hasis||null!=t.issuer&&null!=t.serial){var a=new r(t);e.push(a)}return new n({array:e}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=t&&this.setByParam(t)},Qt(ut.asn1.cades.OtherCertID,ut.asn1.ASN1Object),ut.asn1.cades.OtherHash=function(t){Error;var e=ut,n=e.asn1,r=(n.cms,n.cades),i=r.OtherHashAlgAndValue,o=r.OtherHashValue,s=(e.crypto.Util.hashHex,e.lang.String.isHex);r.OtherHash.superclass.constructor.call(this),this.params=null,this.tohex=function(){var t=this.params;"string"==typeof t&&(-1!=t.indexOf("-----BEGIN")?t={cert:t}:s(t)&&(t={hash:t}));return(null!=t.alg?new i(t):new o(t)).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=t&&this.setByParam(t)},Qt(ut.asn1.cades.OtherHash,ut.asn1.ASN1Object),ut.asn1.cades.CAdESUtil=new function(){},ut.asn1.cades.CAdESUtil.parseSignedDataForAddingUnsigned=function(t){return(new ut.asn1.cms.CMSParser).getCMSSignedData(t)},ut.asn1.cades.CAdESUtil.parseSignerInfoForAddingUnsigned=function(t,e,n){var r=ht,i=r.getChildIdx,o=r.getTLV,s=r.getV,a=ut.asn1,u=a.ASN1Object,l=a.cms,c=l.AttributeList,h=l.SignerInfo,f={},p=i(t,e);if(6!=p.length)throw"not supported items for SignerInfo (!=6)";var d=p.shift();f.version=o(t,d);var g=p.shift();f.si=o(t,g);var v=p.shift();f.digalg=o(t,v);var m=p.shift();f.sattrs=o(t,m);var y=p.shift();f.sigalg=o(t,y);var b=p.shift();f.sig=o(t,b),f.sigval=s(t,b);var w=null;return f.obj=new h,(w=new u).hTLV=f.version,f.obj.dCMSVersion=w,(w=new u).hTLV=f.si,f.obj.dSignerIdentifier=w,(w=new u).hTLV=f.digalg,f.obj.dDigestAlgorithm=w,(w=new u).hTLV=f.sattrs,f.obj.dSignedAttrs=w,(w=new u).hTLV=f.sigalg,f.obj.dSigAlg=w,(w=new u).hTLV=f.sig,f.obj.dSig=w,f.obj.dUnsignedAttrs=new c,f},void 0!==ut.asn1.csr&&ut.asn1.csr||(ut.asn1.csr={}),ut.asn1.csr.CertificationRequest=function(t){var e=ut.asn1,n=e.DERBitString,r=e.DERSequence,i=e.csr,o=(e.x509,i.CertificationRequestInfo);i.CertificationRequest.superclass.constructor.call(this),this.setByParam=function(t){this.params=t},this.sign=function(){var t=new o(this.params).tohex(),e=new ut.crypto.Signature({alg:this.params.sigalg});e.init(this.params.sbjprvkey),e.updateHex(t);var n=e.sign();this.params.sighex=n},this.getPEM=function(){return kt(this.tohex(),"CERTIFICATE REQUEST")},this.tohex=function(){var t=this.params,e=new ut.asn1.csr.CertificationRequestInfo(this.params),i=new ut.asn1.x509.AlgorithmIdentifier({name:t.sigalg});if(null==t.sighex&&null!=t.sbjprvkey&&this.sign(),null==t.sighex)throw new Error("sighex or sbjprvkey parameter not defined");var o=new n({hex:"00"+t.sighex});return new r({array:[e,i,o]}).tohex()},this.getEncodedHex=function(){return this.tohex()},void 0!==t&&this.setByParam(t)},Qt(ut.asn1.csr.CertificationRequest,ut.asn1.ASN1Object),ut.asn1.csr.CertificationRequestInfo=function(t){var e=ut.asn1,n=(e.DERBitString,e.DERSequence),r=e.DERInteger,i=e.DERUTF8String,o=e.DERTaggedObject,s=e.ASN1Util.newObject,a=e.csr,u=e.x509,l=u.X500Name,c=u.Extensions,h=u.SubjectPublicKeyInfo;a.CertificationRequestInfo.superclass.constructor.call(this),this.params=null,this.setByParam=function(t){null!=t&&(this.params=t)},this.tohex=function(){var t=this.params,e=[];if(e.push(new r({int:0})),e.push(new l(t.subject)),e.push(new h(Zt.getKey(t.sbjpubkey))),null!=t.extreq){var a=new c(t.extreq),u=s({tag:{tag:"a0",explict:!0,obj:{seq:[{oid:"1.2.840.113549.1.9.14"},{set:[a]}]}}});e.push(u)}else e.push(new o({tag:"a0",explicit:!1,obj:new i({str:""})}));return new n({array:e}).tohex()},this.getEncodedHex=function(){return this.tohex()},null!=t&&this.setByParam(t)},Qt(ut.asn1.csr.CertificationRequestInfo,ut.asn1.ASN1Object),ut.asn1.csr.CSRUtil=new function(){},ut.asn1.csr.CSRUtil.newCSRPEM=function(t){return new ut.asn1.csr.CertificationRequest(t).getPEM()},ut.asn1.csr.CSRUtil.getParam=function(t,e){var n=ht,r=n.getV,i=n.getIdxbyList,o=n.getTLVbyList,s=n.getTLVbyListEx,a=n.getVbyListEx,u={};if(-1==t.indexOf("-----BEGIN CERTIFICATE REQUEST"))throw new Error("argument is not PEM file");var l=Tt(t,"CERTIFICATE REQUEST");e&&(u.tbs=o(l,0,[0]));try{var c=s(l,0,[0,1]);if("3000"==c)u.subject={};else{var h=new re;u.subject=h.getX500Name(c)}}catch(t){}var f=s(l,0,[0,2]),p=Zt.getKey(f,null,"pkcs8pub");u.sbjpubkey=Zt.getPEM(p,"PKCS8PUB");var d=function(t){var e=i(t,0,[0,3,0,0],"06");return"2a864886f70d01090e"!=r(t,e)?null:o(t,0,[0,3,0,1,0],"30")}(l);h=new re;null!=d&&(u.extreq=h.getExtParamArray(d));try{var g=s(l,0,[1],"30");h=new re;u.sigalg=h.getAlgorithmIdentifierName(g)}catch(t){}try{var v=a(l,0,[2]);u.sighex=v}catch(t){}return u},ut.asn1.csr.CSRUtil.verifySignature=function(t){try{var e=null;if("string"==typeof t&&-1!=t.indexOf("-----BEGIN CERTIFICATE REQUEST")?e=ut.asn1.csr.CSRUtil.getParam(t,!0):"object"==typeof t&&null!=t.sbjpubkey&&null!=t.sigalg&&null!=t.sighex&&null!=t.tbs&&(e=t),null==e)return!1;var n=new ut.crypto.Signature({alg:e.sigalg});return n.init(e.sbjpubkey),n.updateHex(e.tbs),n.verify(e.sighex)}catch(t){return alert(t),!1}},void 0!==ut&&ut||(ut={}),void 0!==ut.asn1&&ut.asn1||(ut.asn1={}),void 0!==ut.asn1.ocsp&&ut.asn1.ocsp||(ut.asn1.ocsp={}),ut.asn1.ocsp.DEFAULT_HASH="sha1",ut.asn1.ocsp.OCSPResponse=function(t){ut.asn1.ocsp.OCSPResponse.superclass.constructor.call(this);ut.asn1.DEREnumerated;var e=ut.asn1.ASN1Util.newObject,n=ut.asn1.ocsp.ResponseBytes,r=["successful","malformedRequest","internalError","tryLater","_not_used_","sigRequired","unauthorized"];this.params=null,this._getStatusCode=function(){var t=this.params.resstatus;return"number"==typeof t?t:"string"!=typeof t?-1:r.indexOf(t)},this.setByParam=function(t){this.params=t},this.tohex=function(){var t=this.params,r=this._getStatusCode();if(-1==r)throw new Error("responseStatus not supported: "+t.resstatus);if(0!=r)return e({seq:[{enum:{int:r}}]}).tohex();var i=new n(t);return e({seq:[{enum:{int:0}},{tag:{tag:"a0",explicit:!0,obj:i}}]}).tohex()},this.getEncodedHex=function(){return this.tohex()},void 0!==t&&this.setByParam(t)},Qt(ut.asn1.ocsp.OCSPResponse,ut.asn1.ASN1Object),ut.asn1.ocsp.ResponseBytes=function(t){ut.asn1.ocsp.ResponseBytes.superclass.constructor.call(this);var e=ut.asn1,n=e.DERSequence,r=e.DERObjectIdentifier,i=e.DEROctetString,o=e.ocsp.BasicOCSPResponse;this.params=null,this.setByParam=function(t){this.params=t},this.tohex=function(){var t=this.params;if("ocspBasic"!=t.restype)throw new Error("not supported responseType: "+t.restype);var e=new o(t),s=[];return s.push(new r({name:"ocspBasic"})),s.push(new i({hex:e.tohex()})),new n({array:s}).tohex()},this.getEncodedHex=function(){return this.tohex()},void 0!==t&&this.setByParam(t)},Qt(ut.asn1.ocsp.ResponseBytes,ut.asn1.ASN1Object),ut.asn1.ocsp.BasicOCSPResponse=function(t){ut.asn1.ocsp.BasicOCSPResponse.superclass.constructor.call(this);var e=Error,n=ut.asn1,r=n.ASN1Object,i=n.DERSequence,o=(n.DERGeneralizedTime,n.DERTaggedObject),s=n.DERBitString,a=(n.x509.Extensions,n.x509.AlgorithmIdentifier),u=n.ocsp;u.ResponderID;_SingleResponseList=u.SingleResponseList,_ResponseData=u.ResponseData,this.params=null,this.setByParam=function(t){this.params=t},this.sign=function(){var t=this.params,e=t.tbsresp.tohex(),n=new ut.crypto.Signature({alg:t.sigalg});n.init(t.reskey),n.updateHex(e),t.sighex=n.sign()},this.tohex=function(){var t=this.params;null==t.tbsresp&&(t.tbsresp=new _ResponseData(t)),null==t.sighex&&null!=t.reskey&&this.sign();var n=[];if(n.push(t.tbsresp),n.push(new a({name:t.sigalg})),n.push(new s({hex:"00"+t.sighex})),null!=t.certs&&null!=t.certs.length){for(var u=[],l=0;l<t.certs.length;l++){var c=t.certs[l],h=null;if(ht.isASN1HEX(c))h=c;else{if(!c.match(/-----BEGIN/))throw new e("certs["+l+"] not hex or PEM");h=Tt(c)}u.push(new r({tlv:h}))}var f=new i({array:u});n.push(new o({tag:"a0",explicit:!0,obj:f}))}return new i({array:n}).tohex()},this.getEncodedHex=function(){return this.tohex()},void 0!==t&&this.setByParam(t)},Qt(ut.asn1.ocsp.BasicOCSPResponse,ut.asn1.ASN1Object),ut.asn1.ocsp.ResponseData=function(t){ut.asn1.ocsp.ResponseData.superclass.constructor.call(this);var e=Error,n=ut.asn1,r=n.DERSequence,i=n.DERGeneralizedTime,o=n.DERTaggedObject,s=n.x509.Extensions,a=n.ocsp,u=a.ResponderID;_SingleResponseList=a.SingleResponseList,this.params=null,this.tohex=function(){var t=this.params;null!=t.respid&&new e("respid not specified"),null!=t.prodat&&new e("prodat not specified"),null!=t.array&&new e("array not specified");var n=[];if(n.push(new u(t.respid)),n.push(new i(t.prodat)),n.push(new _SingleResponseList(t.array)),null!=t.ext){var a=new s(t.ext);n.push(new o({tag:"a1",explicit:!0,obj:a}))}return new r({array:n}).tohex()},this.getEncodedHex=function(){return this.tohex()},this.setByParam=function(t){this.params=t},void 0!==t&&this.setByParam(t)},Qt(ut.asn1.ocsp.ResponseData,ut.asn1.ASN1Object),ut.asn1.ocsp.ResponderID=function(t){ut.asn1.ocsp.ResponderID.superclass.constructor.call(this);var e=ut,n=e.asn1,r=n.ASN1Util.newObject,i=n.x509.X500Name,o=e.lang.String.isHex,s=Error;this.params=null,this.tohex=function(){var t=this.params;if(null!=t.key){var e,n=null;if("string"==typeof t.key){if(o(t.key)&&(n=t.key),t.key.match(/-----BEGIN CERTIFICATE/))null!=(e=new re(t.key).getExtSubjectKeyIdentifier())&&(n=e.kid.hex)}else if(t.key instanceof re)null!=(e=t.key.getExtSubjectKeyIdentifier())&&(n=e.kid.hex);if(null==n)throw new s("wrong key member value");return r({tag:{tag:"a2",explicit:!0,obj:{octstr:{hex:n}}}}).tohex()}if(null!=t.name){var a=null;if("string"==typeof t.name&&t.name.match(/-----BEGIN CERTIFICATE/))a=new re(t.name).getSubject();else t.name instanceof re?a=t.name.getSubject():"object"!=typeof t.name||null==t.name.array&&null==t.name.str||(a=t.name);if(null==a)throw new s("wrong name member value");return r({tag:{tag:"a1",explicit:!0,obj:new i(a)}}).tohex()}throw new s("key or name not specified")},this.getEncodedHex=function(){return this.tohex()},this.setByParam=function(t){this.params=t},void 0!==t&&this.setByParam(t)},Qt(ut.asn1.ocsp.ResponderID,ut.asn1.ASN1Object),ut.asn1.ocsp.SingleResponseList=function(t){ut.asn1.ocsp.SingleResponseList.superclass.constructor.call(this);var e=ut.asn1,n=e.DERSequence,r=e.ocsp.SingleResponse;this.params=null,this.tohex=function(){var t=this.params;if("object"!=typeof t||null==t.length)throw new Error("params not specified properly");for(var e=[],i=0;i<t.length;i++)e.push(new r(t[i]));return new n({array:e}).tohex()},this.getEncodedHex=function(){return this.tohex()},this.setByParam=function(t){this.params=t},void 0!==t&&this.setByParam(t)},Qt(ut.asn1.ocsp.SingleResponseList,ut.asn1.ASN1Object),ut.asn1.ocsp.SingleResponse=function(t){var e=Error,n=ut.asn1,r=n.DERSequence,i=n.DERGeneralizedTime,o=n.DERTaggedObject,s=n.ocsp,a=s.CertID,u=s.CertStatus,l=n.x509.Extensions;s.SingleResponse.superclass.constructor.call(this),this.params=null,this.tohex=function(){var t=this.params,n=[];if(null==t.certid)throw new e("certid unspecified");if(null==t.status)throw new e("status unspecified");if(null==t.thisupdate)throw new e("thisupdate unspecified");if(n.push(new a(t.certid)),n.push(new u(t.status)),n.push(new i(t.thisupdate)),null!=t.nextupdate){var s=new i(t.nextupdate);n.push(new o({tag:"a0",explicit:!0,obj:s}))}if(null!=t.ext){var c=new l(t.ext);n.push(new o({tag:"a1",explicit:!0,obj:c}))}return new r({array:n}).tohex()},this.getEncodedHex=function(){return this.tohex()},this.setByParam=function(t){this.params=t},void 0!==t&&this.setByParam(t)},Qt(ut.asn1.ocsp.SingleResponse,ut.asn1.ASN1Object),ut.asn1.ocsp.CertID=function(t){var e=ut,n=e.asn1,r=n.DEROctetString,i=n.DERInteger,o=n.DERSequence,s=n.x509.AlgorithmIdentifier,a=n.ocsp,u=(a.DEFAULT_HASH,e.crypto.Util.hashHex),l=re,c=ht.getVbyList;a.CertID.superclass.constructor.call(this),this.DEFAULT_HASH="sha1",this.params=null,this.setByValue=function(t,e,n,r){null==r&&(r=this.DEFAULT_HASH),this.params={alg:r,issname:t,isskey:e,sbjsn:n}},this.setByCert=function(t,e,n){null==n&&(n=this.DEFAULT_HASH),this.params={alg:n,issuerCert:t,subjectCert:e}},this.getParamByCerts=function(t,e,n){null==n&&(n=this.DEFAULT_HASH);var r=new l(t),i=new l(e),o=u(r.getSubjectHex(),n),s=r.getPublicKeyHex();return{alg:n,issname:o,isskey:u(c(s,0,[1],"03",!0),n),sbjsn:i.getSerialNumberHex()}},this.tohex=function(){if("object"!=typeof this.params)throw new Error("params not set");var t,e,n,a,u=this.params;if(a=null==u.alg?this.DEFAULT_HASH:u.alg,null!=u.issuerCert&&null!=u.subjectCert){var l=this.getParamByCerts(u.issuerCert,u.subjectCert,a);t=l.issname,e=l.isskey,n=l.sbjsn}else{if(null==u.issname||null==u.isskey||null==u.sbjsn)throw new Error("required param members not defined");t=u.issname,e=u.isskey,n=u.sbjsn}var c=new s({name:a}),h=new r({hex:t}),f=new r({hex:e}),p=new i({hex:n}),d=new o({array:[c,h,f,p]});return this.hTLV=d.tohex(),this.hTLV},this.getEncodedHex=function(){return this.tohex()},void 0!==t&&this.setByParam(t)},Qt(ut.asn1.ocsp.CertID,ut.asn1.ASN1Object),ut.asn1.ocsp.CertStatus=function(t){ut.asn1.ocsp.CertStatus.superclass.constructor.call(this),this.params=null,this.tohex=function(){var t=this.params;if("good"==t.status)return"8000";if("unknown"==t.status)return"8200";if("revoked"==t.status){var e=[{gentime:{str:t.time}}];null!=t.reason&&e.push({tag:{tag:"a0",explicit:!0,obj:{enum:{int:t.reason}}}});var n={tag:"a1",explicit:!1,obj:{seq:e}};return ut.asn1.ASN1Util.newObject({tag:n}).tohex()}throw new Error("bad status")},this.getEncodedHex=function(){return this.tohex()},this.setByParam=function(t){this.params=t},void 0!==t&&this.setByParam(t)},Qt(ut.asn1.ocsp.CertStatus,ut.asn1.ASN1Object),ut.asn1.ocsp.Request=function(t){var e=ut.asn1,n=e.DERSequence,r=e.ocsp;if(r.Request.superclass.constructor.call(this),this.dReqCert=null,this.dExt=null,this.tohex=function(){var t=[];if(null===this.dReqCert)throw"reqCert not set";t.push(this.dReqCert);var e=new n({array:t});return this.hTLV=e.tohex(),this.hTLV},this.getEncodedHex=function(){return this.tohex()},void 0!==t){var i=new r.CertID(t);this.dReqCert=i}},Qt(ut.asn1.ocsp.Request,ut.asn1.ASN1Object),ut.asn1.ocsp.TBSRequest=function(t){var e=ut.asn1,n=e.DERSequence,r=e.ocsp;r.TBSRequest.superclass.constructor.call(this),this.version=0,this.dRequestorName=null,this.dRequestList=[],this.dRequestExt=null,this.setRequestListByParam=function(t){for(var e=[],n=0;n<t.length;n++){var i=new r.Request(t[0]);e.push(i)}this.dRequestList=e},this.tohex=function(){var t=[];if(0!==this.version)throw"not supported version: "+this.version;if(null!==this.dRequestorName)throw"requestorName not supported";var e=new n({array:this.dRequestList});if(t.push(e),null!==this.dRequestExt)throw"requestExtensions not supported";var r=new n({array:t});return this.hTLV=r.tohex(),this.hTLV},this.getEncodedHex=function(){return this.tohex()},void 0!==t&&void 0!==t.reqList&&this.setRequestListByParam(t.reqList)},Qt(ut.asn1.ocsp.TBSRequest,ut.asn1.ASN1Object),ut.asn1.ocsp.OCSPRequest=function(t){var e=ut.asn1,n=e.DERSequence,r=e.ocsp;if(r.OCSPRequest.superclass.constructor.call(this),this.dTbsRequest=null,this.dOptionalSignature=null,this.tohex=function(){var t=[];if(null===this.dTbsRequest)throw"tbsRequest not set";if(t.push(this.dTbsRequest),null!==this.dOptionalSignature)throw"optionalSignature not supported";var e=new n({array:t});return this.hTLV=e.tohex(),this.hTLV},this.getEncodedHex=function(){return this.tohex()},void 0!==t&&void 0!==t.reqList){var i=new r.TBSRequest(t);this.dTbsRequest=i}},Qt(ut.asn1.ocsp.OCSPRequest,ut.asn1.ASN1Object),ut.asn1.ocsp.OCSPUtil={},ut.asn1.ocsp.OCSPUtil.getRequestHex=function(t,e,n){var r=ut.asn1.ocsp;void 0===n&&(n=r.DEFAULT_HASH);var i={alg:n,issuerCert:t,subjectCert:e};return new r.OCSPRequest({reqList:[i]}).tohex()},ut.asn1.ocsp.OCSPUtil.getOCSPResponseInfo=function(t){var e=ht,n=e.getVbyList,r=e.getVbyListEx,i=e.getIdxbyList,o=(e.getIdxbyListEx,e.getV),s={};try{var a=r(t,0,[0],"0a");s.responseStatus=parseInt(a,16)}catch(t){}if(0!==s.responseStatus)return s;try{var u=i(t,0,[1,0,1,0,0,2,0,1]);"80"===t.substr(u,2)?s.certStatus="good":"a1"===t.substr(u,2)?(s.certStatus="revoked",s.revocationTime=xt(n(t,u,[0]))):"82"===t.substr(u,2)&&(s.certStatus="unknown")}catch(t){}try{var l=i(t,0,[1,0,1,0,0,2,0,2]);s.thisUpdate=xt(o(t,l))}catch(t){}try{var c=i(t,0,[1,0,1,0,0,2,0,3]);"a0"===t.substr(c,2)&&(s.nextUpdate=xt(n(t,c,[0])))}catch(t){}return s},ut.asn1.ocsp.OCSPParser=function(){var t=Error,e=re,n=new e,r=ht,i=r.getV,o=r.getTLV,s=r.getIdxbyList,a=r.getVbyList,u=r.getTLVbyList,l=r.getVbyListEx,c=r.getTLVbyListEx,h=r.getChildIdx;this.getOCSPRequest=function(e){var n=h(e,0);if(1!=n.length&&2!=n.length)throw new t("wrong number elements: "+n.length);return this.getTBSRequest(o(e,n[0]))},this.getTBSRequest=function(t){var e={},r=c(t,0,[0],"30");e.array=this.getRequestList(r);var i=c(t,0,["[2]",0],"30");return null!=i&&(e.ext=n.getExtParamArray(i)),e},this.getRequestList=function(t){for(var e=[],n=h(t,0),r=0;r<n.length;r++){t=o(t,n[r]);e.push(this.getRequest(t))}return e},this.getRequest=function(e){var r=h(e,0);if(1!=r.length&&2!=r.length)throw new t("wrong number elements: "+r.length);var i=this.getCertID(o(e,r[0]));if(2==r.length){var a=s(e,0,[1,0]);i.ext=n.getExtParamArray(o(e,a))}return i},this.getCertID=function(n){var r=h(n,0);if(4!=r.length)throw new t("wrong number elements: "+r.length);var s=new e,a={};return a.alg=s.getAlgorithmIdentifierName(o(n,r[0])),a.issname=i(n,r[1]),a.isskey=i(n,r[2]),a.sbjsn=i(n,r[3]),a},this.getOCSPResponse=function(t){var e,n=h(t,0),r=i(t,n[0]),o=parseInt(r);if(1==n.length)return{resstatus:o};var s=u(t,0,[1,0]);return(e=this.getResponseBytes(s)).resstatus=o,e},this.getResponseBytes=function(t){var e,n=h(t,0),r=u(t,0,[1,0]);e=this.getBasicOCSPResponse(r);var o=i(t,n[0]);return e.restype=ut.asn1.x509.OID.oid2name(zt(o)),e},this.getBasicOCSPResponse=function(t){var e,n=h(t,0);e=this.getResponseData(o(t,n[0]));var r=new re;e.alg=r.getAlgorithmIdentifierName(o(t,n[1]));var s=i(t,n[2]);e.sighex=s.substr(2);var a=l(t,0,["[0]"]);if(null!=a){for(var u=h(a,0),c=[],f=0;f<u.length;f++){var p=o(a,u[f]);c.push(p)}e.certs=c}return e},this.getResponseData=function(t){var e=h(t,0),n=e.length,r={},s=0;"a0"==t.substr(e[0],2)&&s++,r.respid=this.getResponderID(o(t,e[s++]));var a=i(t,e[s++]);if(r.prodat=xt(a),r.array=this.getSingleResponseList(o(t,e[s++])),"a1"==t.substr(e[n-1],2)){var l=u(t,e[n-1],[0]),c=new re;r.ext=c.getExtParamArray(l)}return r},this.getResponderID=function(t){var e={};if("a2"==t.substr(0,2)){var n=a(t,0,[0]);e.key=n}if("a1"==t.substr(0,2)){var r=u(t,0,[0]),i=new re;e.name=i.getX500Name(r)}return e},this.getSingleResponseList=function(t){for(var e=h(t,0),n=[],r=0;r<e.length;r++){var i=this.getSingleResponse(o(t,e[r]));n.push(i)}return n},this.getSingleResponse=function(t){var e=h(t,0),n={},r=this.getCertID(o(t,e[0]));n.certid=r;var s=this.getCertStatus(o(t,e[1]));if(n.status=s,"18"==t.substr(e[2],2)){var l=i(t,e[2]);n.thisupdate=xt(l)}for(var c=3;c<e.length;c++){if("a0"==t.substr(e[c],2)){var f=a(t,e[c],[0],"18");n.nextupdate=xt(f)}if("a1"==t.substr(e[c],2)){var p=new re,d=u(t,0,[c,0]);n.ext=p.getExtParamArray(d)}}return n},this.getCertStatus=function(t){var e={};if("8000"==t)return{status:"good"};if("8200"==t)return{status:"unknown"};if("a1"==t.substr(0,2)){e.status="revoked";var n=xt(a(t,0,[0]));e.time=n}return e}},void 0!==ut&&ut||(ut={}),void 0!==ut.lang&&ut.lang||(ut.lang={}),ut.lang.String=function(){},"function"==typeof t?(lt=function(e){return vt(t.from(e,"utf8").toString("base64"))},ct=function(e){return t.from(mt(e),"base64").toString("utf8")}):(lt=function(t){return yt(Dt($t(t)))},ct=function(t){return decodeURIComponent(Nt(bt(t)))}),ut.lang.String.isInteger=function(t){return!!t.match(/^[0-9]+$/)||!!t.match(/^-[0-9]+$/)},ut.lang.String.isHex=function(t){return Ut(t)},ut.lang.String.isBase64=function(t){return!(!(t=t.replace(/\s+/g,"")).match(/^[0-9A-Za-z+\/]+={0,3}$/)||t.length%4!=0)},ut.lang.String.isBase64URL=function(t){return!t.match(/[+/=]/)&&(t=mt(t),ut.lang.String.isBase64(t))},ut.lang.String.isIntegerArray=function(t){return!!(t=t.replace(/\s+/g,"")).match(/^\[[0-9,]+\]$/)},ut.lang.String.isPrintable=function(t){return null!==t.match(/^[0-9A-Za-z '()+,-./:=?]*$/)},ut.lang.String.isIA5=function(t){return null!==t.match(/^[\x20-\x21\x23-\x7f]*$/)},ut.lang.String.isMail=function(t){return null!==t.match(/^[A-Za-z0-9]{1}[A-Za-z0-9_.-]*@{1}[A-Za-z0-9_.-]{1,}\.[A-Za-z0-9]{1,}$/)};function Kt(t){var e=function(t){var e=t.toString(16);return 1==e.length&&(e="0"+e),e},n=function(t){var n="",r=parseInt(t,10).toString(2),i=7-r.length%7;7==i&&(i=0);for(var o="",s=0;s<i;s++)o+="0";r=o+r;for(s=0;s<r.length-1;s+=7){var a=r.substr(s,7);s!=r.length-7&&(a="1"+a),n+=e(parseInt(a,2))}return n};try{if(!t.match(/^[0-9.]+$/))return null;var r="",i=t.split("."),o=40*parseInt(i[0],10)+parseInt(i[1],10);r+=e(o),i.splice(0,2);for(var s=0;s<i.length;s++)r+=n(i[s]);return r}catch(t){return null}}function zt(t){if(!Ut(t))return null;try{var e=[],n=t.substr(0,2),r=parseInt(n,16);e[0]=new String(Math.floor(r/40)),e[1]=new String(r%40);for(var i=t.substr(2),o=[],s=0;s<i.length/2;s++)o.push(parseInt(i.substr(2*s,2),16));var a=[],u="";for(s=0;s<o.length;s++)128&o[s]?u+=Gt((127&o[s]).toString(2),7):(u+=Gt((127&o[s]).toString(2),7),a.push(new String(parseInt(u,2))),u="");var l=e.join(".");return a.length>0&&(l=l+"."+a.join(".")),l}catch(t){return null}}var Gt=function(t,e,n){return null==n&&(n="0"),t.length>=e?t:new Array(e-t.length+1).join(n)+t};function Wt(t){if(t.length%2!=0)return-1;if(null==(t=t.toLowerCase()).match(/^[0-9a-f]+$/))return-1;try{var e=t.substr(0,2);if("00"==e)return parseInt(t.substr(2),16);var n=parseInt(e,16);if(n>7)return-1;var r=t.substr(2),i=parseInt(r,16).toString(2);"0"==i&&(i="00000000"),i=i.slice(0,0-n);var o=parseInt(i,2);return NaN==o?-1:o}catch(t){return-1}}function Yt(t){if("number"!=typeof t)return null;if(t<0)return null;var e=Number(t).toString(2),n=8-e.length%8;8==n&&(n=0),e+=Gt("",n,"0");var r=parseInt(e,2).toString(16);return r.length%2==1&&(r="0"+r),"0"+n+r}function Xt(t){if("string"!=typeof t)return null;if(t.length%2!=0)return null;if(!t.match(/^[0-9a-f]+$/))return null;try{var e=parseInt(t.substr(0,2),16);if(e<0||7<e)return null;for(var n=t.substr(2),r="",i=0;i<n.length;i+=2){var o=n.substr(i,2),s=parseInt(o,16).toString(2);r+=s=("0000000"+s).slice(-8)}return r.substr(0,r.length-e)}catch(t){return null}}function Jt(t,e){for(var n=0,r=0;r<t.length;r++)n|=1<<e[t[r]];var i=n.toString(2),o="";for(r=i.length-1;r>=0;r--)o+=i[r];return o}function Qt(t,e){var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.superclass=e.prototype,e.prototype.constructor==Object.prototype.constructor&&(e.prototype.constructor=e)}void 0!==ut&&ut||(ut={}),void 0!==ut.crypto&&ut.crypto||(ut.crypto={}),ut.crypto.Util=new function(){this.DIGESTINFOHEAD={sha1:"3021300906052b0e03021a05000414",sha224:"302d300d06096086480165030402040500041c",sha256:"3031300d060960864801650304020105000420",sha384:"3041300d060960864801650304020205000430",sha512:"3051300d060960864801650304020305000440",md2:"3020300c06082a864886f70d020205000410",md5:"3020300c06082a864886f70d020505000410",ripemd160:"3021300906052b2403020105000414"},this.DEFAULTPROVIDER={md5:"cryptojs",sha1:"cryptojs",sha224:"cryptojs",sha256:"cryptojs",sha384:"cryptojs",sha512:"cryptojs",ripemd160:"cryptojs",hmacmd5:"cryptojs",hmacsha1:"cryptojs",hmacsha224:"cryptojs",hmacsha256:"cryptojs",hmacsha384:"cryptojs",hmacsha512:"cryptojs",hmacripemd160:"cryptojs",MD5withRSA:"cryptojs/jsrsa",SHA1withRSA:"cryptojs/jsrsa",SHA224withRSA:"cryptojs/jsrsa",SHA256withRSA:"cryptojs/jsrsa",SHA384withRSA:"cryptojs/jsrsa",SHA512withRSA:"cryptojs/jsrsa",RIPEMD160withRSA:"cryptojs/jsrsa",MD5withECDSA:"cryptojs/jsrsa",SHA1withECDSA:"cryptojs/jsrsa",SHA224withECDSA:"cryptojs/jsrsa",SHA256withECDSA:"cryptojs/jsrsa",SHA384withECDSA:"cryptojs/jsrsa",SHA512withECDSA:"cryptojs/jsrsa",RIPEMD160withECDSA:"cryptojs/jsrsa",SHA1withDSA:"cryptojs/jsrsa",SHA224withDSA:"cryptojs/jsrsa",SHA256withDSA:"cryptojs/jsrsa",MD5withRSAandMGF1:"cryptojs/jsrsa",SHAwithRSAandMGF1:"cryptojs/jsrsa",SHA1withRSAandMGF1:"cryptojs/jsrsa",SHA224withRSAandMGF1:"cryptojs/jsrsa",SHA256withRSAandMGF1:"cryptojs/jsrsa",SHA384withRSAandMGF1:"cryptojs/jsrsa",SHA512withRSAandMGF1:"cryptojs/jsrsa",RIPEMD160withRSAandMGF1:"cryptojs/jsrsa"},this.CRYPTOJSMESSAGEDIGESTNAME={md5:g.algo.MD5,sha1:g.algo.SHA1,sha224:g.algo.SHA224,sha256:g.algo.SHA256,sha384:g.algo.SHA384,sha512:g.algo.SHA512,ripemd160:g.algo.RIPEMD160},this.getDigestInfoHex=function(t,e){if(void 0===this.DIGESTINFOHEAD[e])throw"alg not supported in Util.DIGESTINFOHEAD: "+e;return this.DIGESTINFOHEAD[e]+t},this.getPaddedDigestInfoHex=function(t,e,n){var r=this.getDigestInfoHex(t,e),i=n/4;if(r.length+22>i)throw"key is too short for SigAlg: keylen="+n+","+e;for(var o="0001",s="00"+r,a="",u=i-o.length-s.length,l=0;l<u;l+=2)a+="ff";return o+a+s},this.hashString=function(t,e){return new ut.crypto.MessageDigest({alg:e}).digestString(t)},this.hashHex=function(t,e){return new ut.crypto.MessageDigest({alg:e}).digestHex(t)},this.sha1=function(t){return this.hashString(t,"sha1")},this.sha256=function(t){return this.hashString(t,"sha256")},this.sha256Hex=function(t){return this.hashHex(t,"sha256")},this.sha512=function(t){return this.hashString(t,"sha512")},this.sha512Hex=function(t){return this.hashHex(t,"sha512")},this.isKey=function(t){return t instanceof nt||t instanceof ut.crypto.DSA||t instanceof ut.crypto.ECDSA}},ut.crypto.Util.md5=function(t){return new ut.crypto.MessageDigest({alg:"md5",prov:"cryptojs"}).digestString(t)},ut.crypto.Util.ripemd160=function(t){return new ut.crypto.MessageDigest({alg:"ripemd160",prov:"cryptojs"}).digestString(t)},ut.crypto.Util.SECURERANDOMGEN=new Z,ut.crypto.Util.getRandomHexOfNbytes=function(t){var e=new Array(t);return ut.crypto.Util.SECURERANDOMGEN.nextBytes(e),dt(e)},ut.crypto.Util.getRandomBigIntegerOfNbytes=function(t){return new x(ut.crypto.Util.getRandomHexOfNbytes(t),16)},ut.crypto.Util.getRandomHexOfNbits=function(t){var e=t%8,n=new Array((t-e)/8+1);return ut.crypto.Util.SECURERANDOMGEN.nextBytes(n),n[0]=(255<<e&255^255)&n[0],dt(n)},ut.crypto.Util.getRandomBigIntegerOfNbits=function(t){return new x(ut.crypto.Util.getRandomHexOfNbits(t),16)},ut.crypto.Util.getRandomBigIntegerZeroToMax=function(t){for(var e=t.bitLength();;){var n=ut.crypto.Util.getRandomBigIntegerOfNbits(e);if(-1!=t.compareTo(n))return n}},ut.crypto.Util.getRandomBigIntegerMinToMax=function(t,e){var n=t.compareTo(e);if(1==n)throw"biMin is greater than biMax";if(0==n)return t;var r=e.subtract(t);return ut.crypto.Util.getRandomBigIntegerZeroToMax(r).add(t)},ut.crypto.MessageDigest=function(t){this.setAlgAndProvider=function(t,e){if(null!==(t=ut.crypto.MessageDigest.getCanonicalAlgName(t))&&void 0===e&&(e=ut.crypto.Util.DEFAULTPROVIDER[t]),-1!=":md5:sha1:sha224:sha256:sha384:sha512:ripemd160:".indexOf(t)&&"cryptojs"==e){try{this.md=ut.crypto.Util.CRYPTOJSMESSAGEDIGESTNAME[t].create()}catch(e){throw"setAlgAndProvider hash alg set fail alg="+t+"/"+e}this.updateString=function(t){this.md.update(t)},this.updateHex=function(t){var e=g.enc.Hex.parse(t);this.md.update(e)},this.digest=function(){return this.md.finalize().toString(g.enc.Hex)},this.digestString=function(t){return this.updateString(t),this.digest()},this.digestHex=function(t){return this.updateHex(t),this.digest()}}if(-1!=":sha256:".indexOf(t)&&"sjcl"==e){try{this.md=new sjcl.hash.sha256}catch(e){throw"setAlgAndProvider hash alg set fail alg="+t+"/"+e}this.updateString=function(t){this.md.update(t)},this.updateHex=function(t){var e=sjcl.codec.hex.toBits(t);this.md.update(e)},this.digest=function(){var t=this.md.finalize();return sjcl.codec.hex.fromBits(t)},this.digestString=function(t){return this.updateString(t),this.digest()},this.digestHex=function(t){return this.updateHex(t),this.digest()}}},this.updateString=function(t){throw"updateString(str) not supported for this alg/prov: "+this.algName+"/"+this.provName},this.updateHex=function(t){throw"updateHex(hex) not supported for this alg/prov: "+this.algName+"/"+this.provName},this.digest=function(){throw"digest() not supported for this alg/prov: "+this.algName+"/"+this.provName},this.digestString=function(t){throw"digestString(str) not supported for this alg/prov: "+this.algName+"/"+this.provName},this.digestHex=function(t){throw"digestHex(hex) not supported for this alg/prov: "+this.algName+"/"+this.provName},void 0!==t&&void 0!==t.alg&&(this.algName=t.alg,void 0===t.prov&&(this.provName=ut.crypto.Util.DEFAULTPROVIDER[this.algName]),this.setAlgAndProvider(this.algName,this.provName))},ut.crypto.MessageDigest.getCanonicalAlgName=function(t){return"string"==typeof t&&(t=(t=t.toLowerCase()).replace(/-/,"")),t},ut.crypto.MessageDigest.getHashLength=function(t){var e=ut.crypto.MessageDigest,n=e.getCanonicalAlgName(t);if(void 0===e.HASHLENGTH[n])throw"not supported algorithm: "+t;return e.HASHLENGTH[n]},ut.crypto.MessageDigest.HASHLENGTH={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,ripemd160:20},ut.crypto.Mac=function(t){this.setAlgAndProvider=function(t,e){if(null==(t=t.toLowerCase())&&(t="hmacsha1"),"hmac"!=(t=t.toLowerCase()).substr(0,4))throw"setAlgAndProvider unsupported HMAC alg: "+t;void 0===e&&(e=ut.crypto.Util.DEFAULTPROVIDER[t]),this.algProv=t+"/"+e;var n=t.substr(4);if(-1!=":md5:sha1:sha224:sha256:sha384:sha512:ripemd160:".indexOf(n)&&"cryptojs"==e){try{var r=ut.crypto.Util.CRYPTOJSMESSAGEDIGESTNAME[n];this.mac=g.algo.HMAC.create(r,this.pass)}catch(t){throw"setAlgAndProvider hash alg set fail hashAlg="+n+"/"+t}this.updateString=function(t){this.mac.update(t)},this.updateHex=function(t){var e=g.enc.Hex.parse(t);this.mac.update(e)},this.doFinal=function(){return this.mac.finalize().toString(g.enc.Hex)},this.doFinalString=function(t){return this.updateString(t),this.doFinal()},this.doFinalHex=function(t){return this.updateHex(t),this.doFinal()}}},this.updateString=function(t){throw"updateString(str) not supported for this alg/prov: "+this.algProv},this.updateHex=function(t){throw"updateHex(hex) not supported for this alg/prov: "+this.algProv},this.doFinal=function(){throw"digest() not supported for this alg/prov: "+this.algProv},this.doFinalString=function(t){throw"digestString(str) not supported for this alg/prov: "+this.algProv},this.doFinalHex=function(t){throw"digestHex(hex) not supported for this alg/prov: "+this.algProv},this.setPassword=function(t){if("string"==typeof t){var e=t;return t.length%2!=1&&t.match(/^[0-9A-Fa-f]+$/)||(e=At(t)),void(this.pass=g.enc.Hex.parse(e))}if("object"!=typeof t)throw"KJUR.crypto.Mac unsupported password type: "+t;e=null;if(void 0!==t.hex){if(t.hex.length%2!=0||!t.hex.match(/^[0-9A-Fa-f]+$/))throw"Mac: wrong hex password: "+t.hex;e=t.hex}if(void 0!==t.utf8&&(e=wt(t.utf8)),void 0!==t.rstr&&(e=At(t.rstr)),void 0!==t.b64&&(e=b(t.b64)),void 0!==t.b64u&&(e=bt(t.b64u)),null==e)throw"KJUR.crypto.Mac unsupported password type: "+t;this.pass=g.enc.Hex.parse(e)},void 0!==t&&(void 0!==t.pass&&this.setPassword(t.pass),void 0!==t.alg&&(this.algName=t.alg,void 0===t.prov&&(this.provName=ut.crypto.Util.DEFAULTPROVIDER[this.algName]),this.setAlgAndProvider(this.algName,this.provName)))},ut.crypto.Signature=function(t){var e=null;if(this._setAlgNames=function(){var t=this.algName.match(/^(.+)with(.+)$/);t&&(this.mdAlgName=t[1].toLowerCase(),this.pubkeyAlgName=t[2].toLowerCase(),"rsaandmgf1"==this.pubkeyAlgName&&"sha"==this.mdAlgName&&(this.mdAlgName="sha1"))},this._zeroPaddingOfSignature=function(t,e){for(var n="",r=e/4-t.length,i=0;i<r;i++)n+="0";return n+t},this.setAlgAndProvider=function(t,e){if(this._setAlgNames(),"cryptojs/jsrsa"!=e)throw new Error("provider not supported: "+e);if(-1!=":md5:sha1:sha224:sha256:sha384:sha512:ripemd160:".indexOf(this.mdAlgName)){try{this.md=new ut.crypto.MessageDigest({alg:this.mdAlgName})}catch(t){throw new Error("setAlgAndProvider hash alg set fail alg="+this.mdAlgName+"/"+t)}this.init=function(t,e){var n=null;try{n=void 0===e?Zt.getKey(t):Zt.getKey(t,e)}catch(t){throw"init failed:"+t}if(!0===n.isPrivate)this.prvKey=n,this.state="SIGN";else{if(!0!==n.isPublic)throw"init failed.:"+n;this.pubKey=n,this.state="VERIFY"}},this.updateString=function(t){this.md.updateString(t)},this.updateHex=function(t){this.md.updateHex(t)},this.sign=function(){if(this.sHashHex=this.md.digest(),void 0===this.prvKey&&void 0!==this.ecprvhex&&void 0!==this.eccurvename&&void 0!==ut.crypto.ECDSA&&(this.prvKey=new ut.crypto.ECDSA({curve:this.eccurvename,prv:this.ecprvhex})),this.prvKey instanceof nt&&"rsaandmgf1"===this.pubkeyAlgName)this.hSign=this.prvKey.signWithMessageHashPSS(this.sHashHex,this.mdAlgName,this.pssSaltLen);else if(this.prvKey instanceof nt&&"rsa"===this.pubkeyAlgName)this.hSign=this.prvKey.signWithMessageHash(this.sHashHex,this.mdAlgName);else if(this.prvKey instanceof ut.crypto.ECDSA)this.hSign=this.prvKey.signWithMessageHash(this.sHashHex);else{if(!(this.prvKey instanceof ut.crypto.DSA))throw"Signature: unsupported private key alg: "+this.pubkeyAlgName;this.hSign=this.prvKey.signWithMessageHash(this.sHashHex)}return this.hSign},this.signString=function(t){return this.updateString(t),this.sign()},this.signHex=function(t){return this.updateHex(t),this.sign()},this.verify=function(t){if(this.sHashHex=this.md.digest(),void 0===this.pubKey&&void 0!==this.ecpubhex&&void 0!==this.eccurvename&&void 0!==ut.crypto.ECDSA&&(this.pubKey=new ut.crypto.ECDSA({curve:this.eccurvename,pub:this.ecpubhex})),this.pubKey instanceof nt&&"rsaandmgf1"===this.pubkeyAlgName)return this.pubKey.verifyWithMessageHashPSS(this.sHashHex,t,this.mdAlgName,this.pssSaltLen);if(this.pubKey instanceof nt&&"rsa"===this.pubkeyAlgName)return this.pubKey.verifyWithMessageHash(this.sHashHex,t);if(void 0!==ut.crypto.ECDSA&&this.pubKey instanceof ut.crypto.ECDSA)return this.pubKey.verifyWithMessageHash(this.sHashHex,t);if(void 0!==ut.crypto.DSA&&this.pubKey instanceof ut.crypto.DSA)return this.pubKey.verifyWithMessageHash(this.sHashHex,t);throw"Signature: unsupported public key alg: "+this.pubkeyAlgName}}},this.init=function(t,e){throw"init(key, pass) not supported for this alg:prov="+this.algProvName},this.updateString=function(t){throw"updateString(str) not supported for this alg:prov="+this.algProvName},this.updateHex=function(t){throw"updateHex(hex) not supported for this alg:prov="+this.algProvName},this.sign=function(){throw"sign() not supported for this alg:prov="+this.algProvName},this.signString=function(t){throw"digestString(str) not supported for this alg:prov="+this.algProvName},this.signHex=function(t){throw"digestHex(hex) not supported for this alg:prov="+this.algProvName},this.verify=function(t){throw"verify(hSigVal) not supported for this alg:prov="+this.algProvName},this.initParams=t,void 0!==t&&(void 0!==t.alg&&(this.algName=t.alg,void 0===t.prov?this.provName=ut.crypto.Util.DEFAULTPROVIDER[this.algName]:this.provName=t.prov,this.algProvName=this.algName+":"+this.provName,this.setAlgAndProvider(this.algName,this.provName),this._setAlgNames()),void 0!==t.psssaltlen&&(this.pssSaltLen=t.psssaltlen),void 0!==t.prvkeypem)){if(void 0!==t.prvkeypas)throw"both prvkeypem and prvkeypas parameters not supported";try{e=Zt.getKey(t.prvkeypem);this.init(e)}catch(t){throw"fatal error to load pem private key: "+t}}},ut.crypto.Cipher=function(t){},ut.crypto.Cipher.encrypt=function(t,e,n){if(e instanceof nt&&e.isPublic){var r=ut.crypto.Cipher.getAlgByKeyAndName(e,n);if("RSA"===r)return e.encrypt(t);if("RSAOAEP"===r)return e.encryptOAEP(t,"sha1");var i=r.match(/^RSAOAEP(\d+)$/);if(null!==i)return e.encryptOAEP(t,"sha"+i[1]);throw"Cipher.encrypt: unsupported algorithm for RSAKey: "+n}throw"Cipher.encrypt: unsupported key or algorithm"},ut.crypto.Cipher.decrypt=function(t,e,n){if(e instanceof nt&&e.isPrivate){var r=ut.crypto.Cipher.getAlgByKeyAndName(e,n);if("RSA"===r)return e.decrypt(t);if("RSAOAEP"===r)return e.decryptOAEP(t,"sha1");var i=r.match(/^RSAOAEP(\d+)$/);if(null!==i)return e.decryptOAEP(t,"sha"+i[1]);throw"Cipher.decrypt: unsupported algorithm for RSAKey: "+n}throw"Cipher.decrypt: unsupported key or algorithm"},ut.crypto.Cipher.getAlgByKeyAndName=function(t,e){if(t instanceof nt){if(-1!=":RSA:RSAOAEP:RSAOAEP224:RSAOAEP256:RSAOAEP384:RSAOAEP512:".indexOf(e))return e;if(null==e)return"RSA";throw"getAlgByKeyAndName: not supported algorithm name for RSAKey: "+e}throw"getAlgByKeyAndName: not supported algorithm name: "+e},ut.crypto.OID=new function(){this.oidhex2name={"2a864886f70d010101":"rsaEncryption","2a8648ce3d0201":"ecPublicKey","2a8648ce380401":"dsa","2a8648ce3d030107":"secp256r1","2b8104001f":"secp192k1","2b81040021":"secp224r1","2b8104000a":"secp256k1","2b81040022":"secp384r1","2b81040023":"secp521r1","2a8648ce380403":"SHA1withDSA","608648016503040301":"SHA224withDSA","608648016503040302":"SHA256withDSA"}},void 0!==ut&&ut||(ut={}),void 0!==ut.crypto&&ut.crypto||(ut.crypto={}),ut.crypto.ECDSA=function(t){var e=Error,n=x,r=ot,i=ut.crypto.ECDSA,o=ut.crypto.ECParameterDB,s=i.getName,a=ht,u=a.getVbyListEx,l=a.isASN1HEX,c=new Z;this.type="EC",this.isPrivate=!1,this.isPublic=!1,this.getBigRandom=function(t){return new n(t.bitLength(),c).mod(t.subtract(n.ONE)).add(n.ONE)},this.setNamedCurve=function(t){this.ecparams=o.getByName(t),this.prvKeyHex=null,this.pubKeyHex=null,this.curveName=t},this.setPrivateKeyHex=function(t){this.isPrivate=!0,this.prvKeyHex=t},this.setPublicKeyHex=function(t){this.isPublic=!0,this.pubKeyHex=t},this.getPublicKeyXYHex=function(){var t=this.pubKeyHex;if("04"!==t.substr(0,2))throw"this method supports uncompressed format(04) only";var e=this.ecparams.keycharlen;if(t.length!==2+2*e)throw"malformed public key hex length";var n={};return n.x=t.substr(2,e),n.y=t.substr(2+e),n},this.getShortNISTPCurveName=function(){var t=this.curveName;return"secp256r1"===t||"NIST P-256"===t||"P-256"===t||"prime256v1"===t?"P-256":"secp384r1"===t||"NIST P-384"===t||"P-384"===t?"P-384":"secp521r1"===t||"NIST P-521"===t||"P-521"===t?"P-521":null},this.generateKeyPairHex=function(){var t=this.ecparams.n,e=this.getBigRandom(t),n=this.ecparams.keycharlen,r=("0000000000"+e.toString(16)).slice(-n);return this.setPrivateKeyHex(r),{ecprvhex:r,ecpubhex:this.generatePublicKeyHex()}},this.generatePublicKeyHex=function(){var t=new n(this.prvKeyHex,16),e=this.ecparams.G.multiply(t),r=e.getX().toBigInteger(),i=e.getY().toBigInteger(),o=this.ecparams.keycharlen,s="04"+("0000000000"+r.toString(16)).slice(-o)+("0000000000"+i.toString(16)).slice(-o);return this.setPublicKeyHex(s),s},this.signWithMessageHash=function(t){return this.signHex(t,this.prvKeyHex)},this.signHex=function(t,e){var r=new n(e,16),o=this.ecparams.n,s=new n(t.substring(0,this.ecparams.keycharlen),16);do{var a=this.getBigRandom(o),u=this.ecparams.G.multiply(a).getX().toBigInteger().mod(o)}while(u.compareTo(n.ZERO)<=0);var l=a.modInverse(o).multiply(s.add(r.multiply(u))).mod(o);return i.biRSSigToASN1Sig(u,l)},this.sign=function(t,e){var r=e,i=this.ecparams.n,o=n.fromByteArrayUnsigned(t);do{var s=this.getBigRandom(i),a=this.ecparams.G.multiply(s).getX().toBigInteger().mod(i)}while(a.compareTo(x.ZERO)<=0);var u=s.modInverse(i).multiply(o.add(r.multiply(a))).mod(i);return this.serializeSig(a,u)},this.verifyWithMessageHash=function(t,e){return this.verifyHex(t,e,this.pubKeyHex)},this.verifyHex=function(t,e,o){try{var s,a,u=i.parseSigHex(e);s=u.r,a=u.s;var l=r.decodeFromHex(this.ecparams.curve,o),c=new n(t.substring(0,this.ecparams.keycharlen),16);return this.verifyRaw(c,s,a,l)}catch(t){return!1}},this.verify=function(t,e,i){var o,s,a;if(Bitcoin.Util.isArray(e)){var u=this.parseSig(e);o=u.r,s=u.s}else{if("object"!=typeof e||!e.r||!e.s)throw"Invalid value for signature";o=e.r,s=e.s}if(i instanceof ot)a=i;else{if(!Bitcoin.Util.isArray(i))throw"Invalid format for pubkey value, must be byte array or ECPointFp";a=r.decodeFrom(this.ecparams.curve,i)}var l=n.fromByteArrayUnsigned(t);return this.verifyRaw(l,o,s,a)},this.verifyRaw=function(t,e,r,i){var o=this.ecparams.n,s=this.ecparams.G;if(e.compareTo(n.ONE)<0||e.compareTo(o)>=0)return!1;if(r.compareTo(n.ONE)<0||r.compareTo(o)>=0)return!1;var a=r.modInverse(o),u=t.multiply(a).mod(o),l=e.multiply(a).mod(o);return s.multiply(u).add(i.multiply(l)).getX().toBigInteger().mod(o).equals(e)},this.serializeSig=function(t,e){var n=t.toByteArraySigned(),r=e.toByteArraySigned(),i=[];return i.push(2),i.push(n.length),(i=i.concat(n)).push(2),i.push(r.length),(i=i.concat(r)).unshift(i.length),i.unshift(48),i},this.parseSig=function(t){var e;if(48!=t[0])throw new Error("Signature not a valid DERSequence");if(2!=t[e=2])throw new Error("First element in signature must be a DERInteger");var r=t.slice(e+2,e+2+t[e+1]);if(2!=t[e+=2+t[e+1]])throw new Error("Second element in signature must be a DERInteger");var i=t.slice(e+2,e+2+t[e+1]);return e+=2+t[e+1],{r:n.fromByteArrayUnsigned(r),s:n.fromByteArrayUnsigned(i)}},this.parseSigCompact=function(t){if(65!==t.length)throw"Signature has the wrong length";var e=t[0]-27;if(e<0||e>7)throw"Invalid signature type";var r=this.ecparams.n;return{r:n.fromByteArrayUnsigned(t.slice(1,33)).mod(r),s:n.fromByteArrayUnsigned(t.slice(33,65)).mod(r),i:e}},this.readPKCS5PrvKeyHex=function(t){if(!1===l(t))throw new Error("not ASN.1 hex string");var e,n,r;try{e=u(t,0,["[0]",0],"06"),n=u(t,0,[1],"04");try{r=u(t,0,["[1]",0],"03")}catch(t){}}catch(t){throw new Error("malformed PKCS#1/5 plain ECC private key")}if(this.curveName=s(e),void 0===this.curveName)throw"unsupported curve name";this.setNamedCurve(this.curveName),this.setPublicKeyHex(r),this.setPrivateKeyHex(n),this.isPublic=!1},this.readPKCS8PrvKeyHex=function(t){if(!1===l(t))throw new e("not ASN.1 hex string");var n,r,i;try{u(t,0,[1,0],"06"),n=u(t,0,[1,1],"06"),r=u(t,0,[2,0,1],"04");try{i=u(t,0,[2,0,"[1]",0],"03")}catch(t){}}catch(t){throw new e("malformed PKCS#8 plain ECC private key")}if(this.curveName=s(n),void 0===this.curveName)throw new e("unsupported curve name");this.setNamedCurve(this.curveName),this.setPublicKeyHex(i),this.setPrivateKeyHex(r),this.isPublic=!1},this.readPKCS8PubKeyHex=function(t){if(!1===l(t))throw new e("not ASN.1 hex string");var n,r;try{u(t,0,[0,0],"06"),n=u(t,0,[0,1],"06"),r=u(t,0,[1],"03")}catch(t){throw new e("malformed PKCS#8 ECC public key")}if(this.curveName=s(n),null===this.curveName)throw new e("unsupported curve name");this.setNamedCurve(this.curveName),this.setPublicKeyHex(r)},this.readCertPubKeyHex=function(t,n){if(!1===l(t))throw new e("not ASN.1 hex string");var r,i;try{r=u(t,0,[0,5,0,1],"06"),i=u(t,0,[0,5,1],"03")}catch(t){throw new e("malformed X.509 certificate ECC public key")}if(this.curveName=s(r),null===this.curveName)throw new e("unsupported curve name");this.setNamedCurve(this.curveName),this.setPublicKeyHex(i)},void 0!==t&&void 0!==t.curve&&(this.curveName=t.curve),void 0===this.curveName&&(this.curveName="secp256r1"),this.setNamedCurve(this.curveName),void 0!==t&&(void 0!==t.prv&&this.setPrivateKeyHex(t.prv),void 0!==t.pub&&this.setPublicKeyHex(t.pub))},ut.crypto.ECDSA.parseSigHex=function(t){var e=ut.crypto.ECDSA.parseSigHexInHexRS(t);return{r:new x(e.r,16),s:new x(e.s,16)}},ut.crypto.ECDSA.parseSigHexInHexRS=function(t){var e=ht,n=e.getChildIdx,r=e.getV;if(e.checkStrictDER(t,0),"30"!=t.substr(0,2))throw new Error("signature is not a ASN.1 sequence");var i=n(t,0);if(2!=i.length)throw new Error("signature shall have two elements");var o=i[0],s=i[1];if("02"!=t.substr(o,2))throw new Error("1st item not ASN.1 integer");if("02"!=t.substr(s,2))throw new Error("2nd item not ASN.1 integer");return{r:r(t,o),s:r(t,s)}},ut.crypto.ECDSA.asn1SigToConcatSig=function(t){var e=ut.crypto.ECDSA.parseSigHexInHexRS(t),n=e.r,r=e.s;if(n.length>=130&&n.length<=134){if(n.length%2!=0)throw Error("unknown ECDSA sig r length error");if(r.length%2!=0)throw Error("unknown ECDSA sig s length error");"00"==n.substr(0,2)&&(n=n.substr(2)),"00"==r.substr(0,2)&&(r=r.substr(2));var i=Math.max(n.length,r.length);return(n=("000000"+n).slice(-i))+(r=("000000"+r).slice(-i))}if("00"==n.substr(0,2)&&n.length%32==2&&(n=n.substr(2)),"00"==r.substr(0,2)&&r.length%32==2&&(r=r.substr(2)),n.length%32==30&&(n="00"+n),r.length%32==30&&(r="00"+r),n.length%32!=0)throw Error("unknown ECDSA sig r length error");if(r.length%32!=0)throw Error("unknown ECDSA sig s length error");return n+r},ut.crypto.ECDSA.concatSigToASN1Sig=function(t){if(t.length%4!=0)throw Error("unknown ECDSA concatinated r-s sig length error");var e=t.substr(0,t.length/2),n=t.substr(t.length/2);return ut.crypto.ECDSA.hexRSSigToASN1Sig(e,n)},ut.crypto.ECDSA.hexRSSigToASN1Sig=function(t,e){var n=new x(t,16),r=new x(e,16);return ut.crypto.ECDSA.biRSSigToASN1Sig(n,r)},ut.crypto.ECDSA.biRSSigToASN1Sig=function(t,e){var n=ut.asn1,r=new n.DERInteger({bigint:t}),i=new n.DERInteger({bigint:e});return new n.DERSequence({array:[r,i]}).tohex()},ut.crypto.ECDSA.getName=function(t){return"2b8104001f"===t?"secp192k1":"2a8648ce3d030107"===t?"secp256r1":"2b8104000a"===t?"secp256k1":"2b81040021"===t?"secp224r1":"2b81040022"===t?"secp384r1":"2b81040023"===t?"secp521r1":-1!=="|secp256r1|NIST P-256|P-256|prime256v1|".indexOf(t)?"secp256r1":-1!=="|secp256k1|".indexOf(t)?"secp256k1":-1!=="|secp224r1|NIST P-224|P-224|".indexOf(t)?"secp224r1":-1!=="|secp384r1|NIST P-384|P-384|".indexOf(t)?"secp384r1":-1!=="|secp521r1|NIST P-521|P-521|".indexOf(t)?"secp521r1":null},void 0!==ut&&ut||(ut={}),void 0!==ut.crypto&&ut.crypto||(ut.crypto={}),ut.crypto.ECParameterDB=new function(){var t={},e={};function n(t){return new x(t,16)}this.getByName=function(n){var r=n;if(void 0!==e[r]&&(r=e[n]),void 0!==t[r])return t[r];throw"unregistered EC curve name: "+r},this.regist=function(r,i,o,s,a,u,l,c,h,f,p,d){t[r]={};var g=n(o),v=n(s),m=n(a),y=n(u),b=n(l),w=new st(g,v,m),x=w.decodePointHex("04"+c+h);t[r].name=r,t[r].keylen=i,t[r].keycharlen=2*Math.ceil(i/8),t[r].curve=w,t[r].G=x,t[r].n=y,t[r].h=b,t[r].oid=p,t[r].info=d;for(var S=0;S<f.length;S++)e[f[S]]=r}},ut.crypto.ECParameterDB.regist("secp128r1",128,"FFFFFFFDFFFFFFFFFFFFFFFFFFFFFFFF","FFFFFFFDFFFFFFFFFFFFFFFFFFFFFFFC","E87579C11079F43DD824993C2CEE5ED3","FFFFFFFE0000000075A30D1B9038A115","1","161FF7528B899B2D0C28607CA52C5B86","CF5AC8395BAFEB13C02DA292DDED7A83",[],"","secp128r1 : SECG curve over a 128 bit prime field"),ut.crypto.ECParameterDB.regist("secp160k1",160,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFAC73","0","7","0100000000000000000001B8FA16DFAB9ACA16B6B3","1","3B4C382CE37AA192A4019E763036F4F5DD4D7EBB","938CF935318FDCED6BC28286531733C3F03C4FEE",[],"","secp160k1 : SECG curve over a 160 bit prime field"),ut.crypto.ECParameterDB.regist("secp160r1",160,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF7FFFFFFF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF7FFFFFFC","1C97BEFC54BD7A8B65ACF89F81D4D4ADC565FA45","0100000000000000000001F4C8F927AED3CA752257","1","4A96B5688EF573284664698968C38BB913CBFC82","23A628553168947D59DCC912042351377AC5FB32",[],"","secp160r1 : SECG curve over a 160 bit prime field"),ut.crypto.ECParameterDB.regist("secp192k1",192,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFEE37","0","3","FFFFFFFFFFFFFFFFFFFFFFFE26F2FC170F69466A74DEFD8D","1","DB4FF10EC057E9AE26B07D0280B7F4341DA5D1B1EAE06C7D","9B2F2F6D9C5628A7844163D015BE86344082AA88D95E2F9D",[]),ut.crypto.ECParameterDB.regist("secp192r1",192,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFFFFFFFFFF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFFFFFFFFFC","64210519E59C80E70FA7E9AB72243049FEB8DEECC146B9B1","FFFFFFFFFFFFFFFFFFFFFFFF99DEF836146BC9B1B4D22831","1","188DA80EB03090F67CBF20EB43A18800F4FF0AFD82FF1012","07192B95FFC8DA78631011ED6B24CDD573F977A11E794811",[]),ut.crypto.ECParameterDB.regist("secp224r1",224,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF000000000000000000000001","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFFFFFFFFFFFFFFFFFE","B4050A850C04B3ABF54132565044B0B7D7BFD8BA270B39432355FFB4","FFFFFFFFFFFFFFFFFFFFFFFFFFFF16A2E0B8F03E13DD29455C5C2A3D","1","B70E0CBD6BB4BF7F321390B94A03C1D356C21122343280D6115C1D21","BD376388B5F723FB4C22DFE6CD4375A05A07476444D5819985007E34",[]),ut.crypto.ECParameterDB.regist("secp256k1",256,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFC2F","0","7","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEBAAEDCE6AF48A03BBFD25E8CD0364141","1","79BE667EF9DCBBAC55A06295CE870B07029BFCDB2DCE28D959F2815B16F81798","483ADA7726A3C4655DA4FBFC0E1108A8FD17B448A68554199C47D08FFB10D4B8",[]),ut.crypto.ECParameterDB.regist("secp256r1",256,"FFFFFFFF00000001000000000000000000000000FFFFFFFFFFFFFFFFFFFFFFFF","FFFFFFFF00000001000000000000000000000000FFFFFFFFFFFFFFFFFFFFFFFC","5AC635D8AA3A93E7B3EBBD55769886BC651D06B0CC53B0F63BCE3C3E27D2604B","FFFFFFFF00000000FFFFFFFFFFFFFFFFBCE6FAADA7179E84F3B9CAC2FC632551","1","6B17D1F2E12C4247F8BCE6E563A440F277037D812DEB33A0F4A13945D898C296","4FE342E2FE1A7F9B8EE7EB4A7C0F9E162BCE33576B315ECECBB6406837BF51F5",["NIST P-256","P-256","prime256v1"]),ut.crypto.ECParameterDB.regist("secp384r1",384,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFF0000000000000000FFFFFFFF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFF0000000000000000FFFFFFFC","B3312FA7E23EE7E4988E056BE3F82D19181D9C6EFE8141120314088F5013875AC656398D8A2ED19D2A85C8EDD3EC2AEF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFC7634D81F4372DDF581A0DB248B0A77AECEC196ACCC52973","1","AA87CA22BE8B05378EB1C71EF320AD746E1D3B628BA79B9859F741E082542A385502F25DBF55296C3A545E3872760AB7","3617de4a96262c6f5d9e98bf9292dc29f8f41dbd289a147ce9da3113b5f0b8c00a60b1ce1d7e819d7a431d7c90ea0e5f",["NIST P-384","P-384"]),ut.crypto.ECParameterDB.regist("secp521r1",521,"1FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF","1FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFC","051953EB9618E1C9A1F929A21A0B68540EEA2DA725B99B315F3B8B489918EF109E156193951EC7E937B1652C0BD3BB1BF073573DF883D2C34F1EF451FD46B503F00","1FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFA51868783BF2F966B7FCC0148F709A5D03BB5C9B8899C47AEBB6FB71E91386409","1","00C6858E06B70404E9CD9E3ECB662395B4429C648139053FB521F828AF606B4D3DBAA14B5E77EFE75928FE1DC127A2FFA8DE3348B3C1856A429BF97E7E31C2E5BD66","011839296a789a3bc0045c8a5fb42c7d1bd998f54449579b446817afbd17273e662c97ee72995ef42640c550b9013fad0761353c7086a272c24088be94769fd16650",["NIST P-521","P-521"]),void 0!==ut&&ut||(ut={}),void 0!==ut.crypto&&ut.crypto||(ut.crypto={}),ut.crypto.DSA=function(){var t=ht,e=(t.getVbyList,t.getVbyListEx),n=t.isASN1HEX,r=x;this.p=null,this.q=null,this.g=null,this.y=null,this.x=null,this.type="DSA",this.isPrivate=!1,this.isPublic=!1,this.setPrivate=function(t,e,n,r,i){this.isPrivate=!0,this.p=t,this.q=e,this.g=n,this.y=r,this.x=i},this.setPrivateHex=function(t,e,n,r,i){var o,s,a,u,l;o=new x(t,16),s=new x(e,16),a=new x(n,16),u="string"==typeof r&&r.length>1?new x(r,16):null,l=new x(i,16),this.setPrivate(o,s,a,u,l)},this.setPublic=function(t,e,n,r){this.isPublic=!0,this.p=t,this.q=e,this.g=n,this.y=r,this.x=null},this.setPublicHex=function(t,e,n,r){var i,o,s,a;i=new x(t,16),o=new x(e,16),s=new x(n,16),a=new x(r,16),this.setPublic(i,o,s,a)},this.signWithMessageHash=function(t){var e=this.p,n=this.q,r=this.g,i=(this.y,this.x),o=ut.crypto.Util.getRandomBigIntegerMinToMax(x.ONE.add(x.ONE),n.subtract(x.ONE)),s=new x(t.substr(0,n.bitLength()/4),16),a=r.modPow(o,e).mod(n),u=o.modInverse(n).multiply(s.add(i.multiply(a))).mod(n);return ut.asn1.ASN1Util.jsonToASN1HEX({seq:[{int:{bigint:a}},{int:{bigint:u}}]})},this.verifyWithMessageHash=function(t,e){var n=this.p,r=this.q,i=this.g,o=this.y,s=this.parseASN1Signature(e),a=s[0],u=s[1],l=new x(t.substr(0,r.bitLength()/4),16);if(x.ZERO.compareTo(a)>0||a.compareTo(r)>0)throw"invalid DSA signature";if(x.ZERO.compareTo(u)>=0||u.compareTo(r)>0)throw"invalid DSA signature";var c=u.modInverse(r),h=l.multiply(c).mod(r),f=a.multiply(c).mod(r);return 0==i.modPow(h,n).multiply(o.modPow(f,n)).mod(n).mod(r).compareTo(a)},this.parseASN1Signature=function(t){try{return[new r(e(t,0,[0],"02"),16),new r(e(t,0,[1],"02"),16)]}catch(t){throw new Error("malformed ASN.1 DSA signature")}},this.readPKCS5PrvKeyHex=function(t){var r,i,o,s,a;if(!1===n(t))throw new Error("not ASN.1 hex string");try{r=e(t,0,[1],"02"),i=e(t,0,[2],"02"),o=e(t,0,[3],"02"),s=e(t,0,[4],"02"),a=e(t,0,[5],"02")}catch(t){throw new Error("malformed PKCS#1/5 plain DSA private key")}this.setPrivateHex(r,i,o,s,a)},this.readPKCS8PrvKeyHex=function(t){var r,i,o,s;if(!1===n(t))throw new Error("not ASN.1 hex string");try{r=e(t,0,[1,1,0],"02"),i=e(t,0,[1,1,1],"02"),o=e(t,0,[1,1,2],"02"),s=e(t,0,[2,0],"02")}catch(t){throw new Error("malformed PKCS#8 plain DSA private key")}this.setPrivateHex(r,i,o,null,s)},this.readPKCS8PubKeyHex=function(t){var r,i,o,s;if(!1===n(t))throw new Error("not ASN.1 hex string");try{r=e(t,0,[0,1,0],"02"),i=e(t,0,[0,1,1],"02"),o=e(t,0,[0,1,2],"02"),s=e(t,0,[1,0],"02")}catch(t){throw new Error("malformed PKCS#8 DSA public key")}this.setPublicHex(r,i,o,s)},this.readCertPubKeyHex=function(t,r){var i,o,s,a;if(!1===n(t))throw new Error("not ASN.1 hex string");try{i=e(t,0,[0,5,0,1,0],"02"),o=e(t,0,[0,5,0,1,1],"02"),s=e(t,0,[0,5,0,1,2],"02"),a=e(t,0,[0,5,1,0],"02")}catch(t){throw new Error("malformed X.509 certificate DSA public key")}this.setPublicHex(i,o,s,a)}};var Zt=function(){var t=function(t,n,r){return e(g.AES,t,n,r)},e=function(t,e,n,r){var i=g.enc.Hex.parse(e),o=g.enc.Hex.parse(n),s=g.enc.Hex.parse(r),a={};a.key=o,a.iv=s,a.ciphertext=i;var u=t.decrypt(a,o,{iv:s});return g.enc.Hex.stringify(u)},n=function(t,e,n){return r(g.AES,t,e,n)},r=function(t,e,n,r){var i=g.enc.Hex.parse(e),o=g.enc.Hex.parse(n),s=g.enc.Hex.parse(r),a=t.encrypt(i,o,{iv:s}),u=g.enc.Hex.parse(a.toString());return g.enc.Base64.stringify(u)},i={"AES-256-CBC":{proc:t,eproc:n,keylen:32,ivlen:16},"AES-192-CBC":{proc:t,eproc:n,keylen:24,ivlen:16},"AES-128-CBC":{proc:t,eproc:n,keylen:16,ivlen:16},"DES-EDE3-CBC":{proc:function(t,n,r){return e(g.TripleDES,t,n,r)},eproc:function(t,e,n){return r(g.TripleDES,t,e,n)},keylen:24,ivlen:8},"DES-CBC":{proc:function(t,n,r){return e(g.DES,t,n,r)},eproc:function(t,e,n){return r(g.DES,t,e,n)},keylen:8,ivlen:8}},o=function(t){var e={},n=t.match(new RegExp("DEK-Info: ([^,]+),([0-9A-Fa-f]+)","m"));n&&(e.cipher=n[1],e.ivsalt=n[2]);var r=t.match(new RegExp("-----BEGIN ([A-Z]+) PRIVATE KEY-----"));r&&(e.type=r[1]);var i=-1,o=0;-1!=t.indexOf("\r\n\r\n")&&(i=t.indexOf("\r\n\r\n"),o=2),-1!=t.indexOf("\n\n")&&(i=t.indexOf("\n\n"),o=1);var s=t.indexOf("-----END");if(-1!=i&&-1!=s){var a=t.substring(i+2*o,s-o);a=a.replace(/\s+/g,""),e.data=a}return e},s=function(t,e,n){for(var r=n.substring(0,16),o=g.enc.Hex.parse(r),s=g.enc.Utf8.parse(e),a=i[t].keylen+i[t].ivlen,u="",l=null;;){var c=g.algo.MD5.create();if(null!=l&&c.update(l),c.update(s),c.update(o),l=c.finalize(),(u+=g.enc.Hex.stringify(l)).length>=2*a)break}var h={};return h.keyhex=u.substr(0,2*i[t].keylen),h.ivhex=u.substr(2*i[t].keylen,2*i[t].ivlen),h},a=function(t,e,n,r){var o=g.enc.Base64.parse(t),s=g.enc.Hex.stringify(o);return(0,i[e].proc)(s,n,r)};return{version:"1.0.0",parsePKCS5PEM:function(t){return o(t)},getKeyAndUnusedIvByPasscodeAndIvsalt:function(t,e,n){return s(t,e,n)},decryptKeyB64:function(t,e,n,r){return a(t,e,n,r)},getDecryptedKeyHex:function(t,e){var n=o(t),r=(n.type,n.cipher),i=n.ivsalt,u=n.data,l=s(r,e,i).keyhex;return a(u,r,l,i)},getEncryptedPKCS5PEMFromPrvKeyHex:function(t,e,n,r,o){var a="";if(void 0!==r&&null!=r||(r="AES-256-CBC"),void 0===i[r])throw new Error("KEYUTIL unsupported algorithm: "+r);void 0!==o&&null!=o||(o=function(t){var e=g.lib.WordArray.random(t);return g.enc.Hex.stringify(e)}(i[r].ivlen).toUpperCase());var u=function(t,e,n,r){return(0,i[e].eproc)(t,n,r)}(e,r,s(r,n,o).keyhex,o);a="-----BEGIN "+t+" PRIVATE KEY-----\r\n";return a+="Proc-Type: 4,ENCRYPTED\r\n",a+="DEK-Info: "+r+","+o+"\r\n",a+="\r\n",a+=u.replace(/(.{64})/g,"$1\r\n"),a+="\r\n-----END "+t+" PRIVATE KEY-----\r\n"},parseHexOfEncryptedPKCS8:function(t){var e=ht,n=e.getChildIdx,r=e.getV,i={},o=n(t,0);if(2!=o.length)throw new Error("malformed format: SEQUENCE(0).items != 2: "+o.length);i.ciphertext=r(t,o[1]);var s=n(t,o[0]);if(2!=s.length)throw new Error("malformed format: SEQUENCE(0.0).items != 2: "+s.length);if("2a864886f70d01050d"!=r(t,s[0]))throw new Error("this only supports pkcs5PBES2");var a=n(t,s[1]);if(2!=s.length)throw new Error("malformed format: SEQUENCE(0.0.1).items != 2: "+a.length);var u=n(t,a[1]);if(2!=u.length)throw new Error("malformed format: SEQUENCE(0.0.1.1).items != 2: "+u.length);if("2a864886f70d0307"!=r(t,u[0]))throw"this only supports TripleDES";i.encryptionSchemeAlg="TripleDES",i.encryptionSchemeIV=r(t,u[1]);var l=n(t,a[0]);if(2!=l.length)throw new Error("malformed format: SEQUENCE(0.0.1.0).items != 2: "+l.length);if("2a864886f70d01050c"!=r(t,l[0]))throw new Error("this only supports pkcs5PBKDF2");var c=n(t,l[1]);if(c.length<2)throw new Error("malformed format: SEQUENCE(0.0.1.0.1).items < 2: "+c.length);i.pbkdf2Salt=r(t,c[0]);var h=r(t,c[1]);try{i.pbkdf2Iter=parseInt(h,16)}catch(t){throw new Error("malformed format pbkdf2Iter: "+h)}return i},getPBKDF2KeyHexFromParam:function(t,e){var n=g.enc.Hex.parse(t.pbkdf2Salt),r=t.pbkdf2Iter,i=g.PBKDF2(e,n,{keySize:6,iterations:r});return g.enc.Hex.stringify(i)},_getPlainPKCS8HexFromEncryptedPKCS8PEM:function(t,e){var n=Tt(t,"ENCRYPTED PRIVATE KEY"),r=this.parseHexOfEncryptedPKCS8(n),i=Zt.getPBKDF2KeyHexFromParam(r,e),o={};o.ciphertext=g.enc.Hex.parse(r.ciphertext);var s=g.enc.Hex.parse(i),a=g.enc.Hex.parse(r.encryptionSchemeIV),u=g.TripleDES.decrypt(o,s,{iv:a});return g.enc.Hex.stringify(u)},getKeyFromEncryptedPKCS8PEM:function(t,e){var n=this._getPlainPKCS8HexFromEncryptedPKCS8PEM(t,e);return this.getKeyFromPlainPrivatePKCS8Hex(n)},parsePlainPrivatePKCS8Hex:function(t){var e=ht,n=e.getChildIdx,r=e.getV,i={algparam:null};if("30"!=t.substr(0,2))throw new Error("malformed plain PKCS8 private key(code:001)");var o=n(t,0);if(o.length<3)throw new Error("malformed plain PKCS8 private key(code:002)");if("30"!=t.substr(o[1],2))throw new Error("malformed PKCS8 private key(code:003)");var s=n(t,o[1]);if(2!=s.length)throw new Error("malformed PKCS8 private key(code:004)");if("06"!=t.substr(s[0],2))throw new Error("malformed PKCS8 private key(code:005)");if(i.algoid=r(t,s[0]),"06"==t.substr(s[1],2)&&(i.algparam=r(t,s[1])),"04"!=t.substr(o[2],2))throw new Error("malformed PKCS8 private key(code:006)");return i.keyidx=e.getVidx(t,o[2]),i},getKeyFromPlainPrivatePKCS8PEM:function(t){var e=Tt(t,"PRIVATE KEY");return this.getKeyFromPlainPrivatePKCS8Hex(e)},getKeyFromPlainPrivatePKCS8Hex:function(t){var e,n=this.parsePlainPrivatePKCS8Hex(t);if("2a864886f70d010101"==n.algoid)e=new nt;else if("2a8648ce380401"==n.algoid)e=new ut.crypto.DSA;else{if("2a8648ce3d0201"!=n.algoid)throw new Error("unsupported private key algorithm");e=new ut.crypto.ECDSA}return e.readPKCS8PrvKeyHex(t),e},_getKeyFromPublicPKCS8Hex:function(t){var e,n=ht.getVbyList(t,0,[0,0],"06");if("2a864886f70d010101"===n)e=new nt;else if("2a8648ce380401"===n)e=new ut.crypto.DSA;else{if("2a8648ce3d0201"!==n)throw new Error("unsupported PKCS#8 public key hex");e=new ut.crypto.ECDSA}return e.readPKCS8PubKeyHex(t),e},parsePublicRawRSAKeyHex:function(t){var e=ht,n=e.getChildIdx,r=e.getV,i={};if("30"!=t.substr(0,2))throw new Error("malformed RSA key(code:001)");var o=n(t,0);if(2!=o.length)throw new Error("malformed RSA key(code:002)");if("02"!=t.substr(o[0],2))throw new Error("malformed RSA key(code:003)");if(i.n=r(t,o[0]),"02"!=t.substr(o[1],2))throw new Error("malformed RSA key(code:004)");return i.e=r(t,o[1]),i},parsePublicPKCS8Hex:function(t){var e=ht,n=e.getChildIdx,r=e.getV,i={algparam:null},o=n(t,0);if(2!=o.length)throw new Error("outer DERSequence shall have 2 elements: "+o.length);var s=o[0];if("30"!=t.substr(s,2))throw new Error("malformed PKCS8 public key(code:001)");var a=n(t,s);if(2!=a.length)throw new Error("malformed PKCS8 public key(code:002)");if("06"!=t.substr(a[0],2))throw new Error("malformed PKCS8 public key(code:003)");if(i.algoid=r(t,a[0]),"06"==t.substr(a[1],2)?i.algparam=r(t,a[1]):"30"==t.substr(a[1],2)&&(i.algparam={},i.algparam.p=e.getVbyList(t,a[1],[0],"02"),i.algparam.q=e.getVbyList(t,a[1],[1],"02"),i.algparam.g=e.getVbyList(t,a[1],[2],"02")),"03"!=t.substr(o[1],2))throw new Error("malformed PKCS8 public key(code:004)");return i.key=r(t,o[1]).substr(2),i}}}();Zt.getKey=function(t,e,n){var r=(v=ht).getChildIdx,i=(v.getV,v.getVbyList),o=ut.crypto,s=o.ECDSA,a=o.DSA,u=nt,l=Tt,c=Zt;if(void 0!==u&&t instanceof u)return t;if(void 0!==s&&t instanceof s)return t;if(void 0!==a&&t instanceof a)return t;if(void 0!==t.curve&&void 0!==t.xy&&void 0===t.d)return new s({pub:t.xy,curve:t.curve});if(void 0!==t.curve&&void 0!==t.d)return new s({prv:t.d,curve:t.curve});if(void 0===t.kty&&void 0!==t.n&&void 0!==t.e&&void 0===t.d)return(k=new u).setPublic(t.n,t.e),k;if(void 0===t.kty&&void 0!==t.n&&void 0!==t.e&&void 0!==t.d&&void 0!==t.p&&void 0!==t.q&&void 0!==t.dp&&void 0!==t.dq&&void 0!==t.co&&void 0===t.qi)return(k=new u).setPrivateEx(t.n,t.e,t.d,t.p,t.q,t.dp,t.dq,t.co),k;if(void 0===t.kty&&void 0!==t.n&&void 0!==t.e&&void 0!==t.d&&void 0===t.p)return(k=new u).setPrivate(t.n,t.e,t.d),k;if(void 0!==t.p&&void 0!==t.q&&void 0!==t.g&&void 0!==t.y&&void 0===t.x)return(k=new a).setPublic(t.p,t.q,t.g,t.y),k;if(void 0!==t.p&&void 0!==t.q&&void 0!==t.g&&void 0!==t.y&&void 0!==t.x)return(k=new a).setPrivate(t.p,t.q,t.g,t.y,t.x),k;if("RSA"===t.kty&&void 0!==t.n&&void 0!==t.e&&void 0===t.d)return(k=new u).setPublic(bt(t.n),bt(t.e)),k;if("RSA"===t.kty&&void 0!==t.n&&void 0!==t.e&&void 0!==t.d&&void 0!==t.p&&void 0!==t.q&&void 0!==t.dp&&void 0!==t.dq&&void 0!==t.qi)return(k=new u).setPrivateEx(bt(t.n),bt(t.e),bt(t.d),bt(t.p),bt(t.q),bt(t.dp),bt(t.dq),bt(t.qi)),k;if("RSA"===t.kty&&void 0!==t.n&&void 0!==t.e&&void 0!==t.d)return(k=new u).setPrivate(bt(t.n),bt(t.e),bt(t.d)),k;if("EC"===t.kty&&void 0!==t.crv&&void 0!==t.x&&void 0!==t.y&&void 0===t.d){var h=(P=new s({curve:t.crv})).ecparams.keycharlen,f="04"+("0000000000"+bt(t.x)).slice(-h)+("0000000000"+bt(t.y)).slice(-h);return P.setPublicKeyHex(f),P}if("EC"===t.kty&&void 0!==t.crv&&void 0!==t.x&&void 0!==t.y&&void 0!==t.d){h=(P=new s({curve:t.crv})).ecparams.keycharlen,f="04"+("0000000000"+bt(t.x)).slice(-h)+("0000000000"+bt(t.y)).slice(-h);var p=("0000000000"+bt(t.d)).slice(-h);return P.setPublicKeyHex(f),P.setPrivateKeyHex(p),P}if("pkcs5prv"===n){var d,g=t,v=ht;if(9===(d=r(g,0)).length)(k=new u).readPKCS5PrvKeyHex(g);else if(6===d.length)(k=new a).readPKCS5PrvKeyHex(g);else{if(!(d.length>2&&"04"===g.substr(d[1],2)))throw new Error("unsupported PKCS#1/5 hexadecimal key");(k=new s).readPKCS5PrvKeyHex(g)}return k}if("pkcs8prv"===n)return k=c.getKeyFromPlainPrivatePKCS8Hex(t);if("pkcs8pub"===n)return c._getKeyFromPublicPKCS8Hex(t);if("x509pub"===n)return re.getPublicKeyFromCertHex(t);if(-1!=t.indexOf("-END CERTIFICATE-",0)||-1!=t.indexOf("-END X509 CERTIFICATE-",0)||-1!=t.indexOf("-END TRUSTED CERTIFICATE-",0))return re.getPublicKeyFromCertPEM(t);if(-1!=t.indexOf("-END PUBLIC KEY-")){var m=Tt(t,"PUBLIC KEY");return c._getKeyFromPublicPKCS8Hex(m)}if(-1!=t.indexOf("-END RSA PRIVATE KEY-")&&-1==t.indexOf("4,ENCRYPTED")){var y=l(t,"RSA PRIVATE KEY");return c.getKey(y,null,"pkcs5prv")}if(-1!=t.indexOf("-END DSA PRIVATE KEY-")&&-1==t.indexOf("4,ENCRYPTED")){var b=i(I=l(t,"DSA PRIVATE KEY"),0,[1],"02"),w=i(I,0,[2],"02"),S=i(I,0,[3],"02"),E=i(I,0,[4],"02"),A=i(I,0,[5],"02");return(k=new a).setPrivate(new x(b,16),new x(w,16),new x(S,16),new x(E,16),new x(A,16)),k}if(-1!=t.indexOf("-END EC PRIVATE KEY-")&&-1==t.indexOf("4,ENCRYPTED")){y=l(t,"EC PRIVATE KEY");return c.getKey(y,null,"pkcs5prv")}if(-1!=t.indexOf("-END PRIVATE KEY-"))return c.getKeyFromPlainPrivatePKCS8PEM(t);if(-1!=t.indexOf("-END RSA PRIVATE KEY-")&&-1!=t.indexOf("4,ENCRYPTED")){var C=c.getDecryptedKeyHex(t,e),F=new nt;return F.readPKCS5PrvKeyHex(C),F}if(-1!=t.indexOf("-END EC PRIVATE KEY-")&&-1!=t.indexOf("4,ENCRYPTED")){var P,k=i(I=c.getDecryptedKeyHex(t,e),0,[1],"04"),T=i(I,0,[2,0],"06"),_=i(I,0,[3,0],"03").substr(2);if(void 0===ut.crypto.OID.oidhex2name[T])throw new Error("undefined OID(hex) in KJUR.crypto.OID: "+T);return(P=new s({curve:ut.crypto.OID.oidhex2name[T]})).setPublicKeyHex(_),P.setPrivateKeyHex(k),P.isPublic=!1,P}if(-1!=t.indexOf("-END DSA PRIVATE KEY-")&&-1!=t.indexOf("4,ENCRYPTED")){var I;b=i(I=c.getDecryptedKeyHex(t,e),0,[1],"02"),w=i(I,0,[2],"02"),S=i(I,0,[3],"02"),E=i(I,0,[4],"02"),A=i(I,0,[5],"02");return(k=new a).setPrivate(new x(b,16),new x(w,16),new x(S,16),new x(E,16),new x(A,16)),k}if(-1!=t.indexOf("-END ENCRYPTED PRIVATE KEY-"))return c.getKeyFromEncryptedPKCS8PEM(t,e);throw new Error("not supported argument")},Zt.generateKeypair=function(t,e){if("RSA"==t){var n=e;(s=new nt).generate(n,"10001"),s.isPrivate=!0,s.isPublic=!0;var r=new nt,i=s.n.toString(16),o=s.e.toString(16);return r.setPublic(i,o),r.isPrivate=!1,r.isPublic=!0,(a={}).prvKeyObj=s,a.pubKeyObj=r,a}if("EC"==t){var s,a,u=e,l=new ut.crypto.ECDSA({curve:u}).generateKeyPairHex();return(s=new ut.crypto.ECDSA({curve:u})).setPublicKeyHex(l.ecpubhex),s.setPrivateKeyHex(l.ecprvhex),s.isPrivate=!0,s.isPublic=!1,(r=new ut.crypto.ECDSA({curve:u})).setPublicKeyHex(l.ecpubhex),r.isPrivate=!1,r.isPublic=!0,(a={}).prvKeyObj=s,a.pubKeyObj=r,a}throw new Error("unknown algorithm: "+t)},Zt.getPEM=function(t,e,n,r,i,o){var s=ut,a=s.asn1,u=a.DERObjectIdentifier,l=a.DERInteger,c=a.ASN1Util.newObject,h=a.x509.SubjectPublicKeyInfo,f=s.crypto,p=f.DSA,d=f.ECDSA,v=nt;function m(t){return c({seq:[{int:0},{int:{bigint:t.n}},{int:t.e},{int:{bigint:t.d}},{int:{bigint:t.p}},{int:{bigint:t.q}},{int:{bigint:t.dmp1}},{int:{bigint:t.dmq1}},{int:{bigint:t.coeff}}]})}function y(t){return c({seq:[{int:1},{octstr:{hex:t.prvKeyHex}},{tag:["a0",!0,{oid:{name:t.curveName}}]},{tag:["a1",!0,{bitstr:{hex:"00"+t.pubKeyHex}}]}]})}function b(t){return c({seq:[{int:0},{int:{bigint:t.p}},{int:{bigint:t.q}},{int:{bigint:t.g}},{int:{bigint:t.y}},{int:{bigint:t.x}}]})}if((void 0!==v&&t instanceof v||void 0!==p&&t instanceof p||void 0!==d&&t instanceof d)&&1==t.isPublic&&(void 0===e||"PKCS8PUB"==e))return kt(E=new h(t).tohex(),"PUBLIC KEY");if("PKCS1PRV"==e&&void 0!==v&&t instanceof v&&(void 0===n||null==n)&&1==t.isPrivate)return kt(E=m(t).tohex(),"RSA PRIVATE KEY");if("PKCS1PRV"==e&&void 0!==d&&t instanceof d&&(void 0===n||null==n)&&1==t.isPrivate){var w=new u({name:t.curveName}).tohex(),x=y(t).tohex(),S="";return S+=kt(w,"EC PARAMETERS"),S+=kt(x,"EC PRIVATE KEY")}if("PKCS1PRV"==e&&void 0!==p&&t instanceof p&&(void 0===n||null==n)&&1==t.isPrivate)return kt(E=b(t).tohex(),"DSA PRIVATE KEY");if("PKCS5PRV"==e&&void 0!==v&&t instanceof v&&void 0!==n&&null!=n&&1==t.isPrivate){var E=m(t).tohex();return void 0===r&&(r="DES-EDE3-CBC"),this.getEncryptedPKCS5PEMFromPrvKeyHex("RSA",E,n,r,o)}if("PKCS5PRV"==e&&void 0!==d&&t instanceof d&&void 0!==n&&null!=n&&1==t.isPrivate){E=y(t).tohex();return void 0===r&&(r="DES-EDE3-CBC"),this.getEncryptedPKCS5PEMFromPrvKeyHex("EC",E,n,r,o)}if("PKCS5PRV"==e&&void 0!==p&&t instanceof p&&void 0!==n&&null!=n&&1==t.isPrivate){E=b(t).tohex();return void 0===r&&(r="DES-EDE3-CBC"),this.getEncryptedPKCS5PEMFromPrvKeyHex("DSA",E,n,r,o)}var A=function(t,e){var n=C(t,e);return new c({seq:[{seq:[{oid:{name:"pkcs5PBES2"}},{seq:[{seq:[{oid:{name:"pkcs5PBKDF2"}},{seq:[{octstr:{hex:n.pbkdf2Salt}},{int:n.pbkdf2Iter}]}]},{seq:[{oid:{name:"des-EDE3-CBC"}},{octstr:{hex:n.encryptionSchemeIV}}]}]}]},{octstr:{hex:n.ciphertext}}]}).tohex()},C=function(t,e){var n=g.lib.WordArray.random(8),r=g.lib.WordArray.random(8),i=g.PBKDF2(e,n,{keySize:6,iterations:100}),o=g.enc.Hex.parse(t),s=g.TripleDES.encrypt(o,i,{iv:r})+"",a={};return a.ciphertext=s,a.pbkdf2Salt=g.enc.Hex.stringify(n),a.pbkdf2Iter=100,a.encryptionSchemeAlg="DES-EDE3-CBC",a.encryptionSchemeIV=g.enc.Hex.stringify(r),a};if("PKCS8PRV"==e&&null!=v&&t instanceof v&&1==t.isPrivate){var F=m(t).tohex();E=c({seq:[{int:0},{seq:[{oid:{name:"rsaEncryption"}},{null:!0}]},{octstr:{hex:F}}]}).tohex();return void 0===n||null==n?kt(E,"PRIVATE KEY"):kt(x=A(E,n),"ENCRYPTED PRIVATE KEY")}if("PKCS8PRV"==e&&void 0!==d&&t instanceof d&&1==t.isPrivate){var P={seq:[{int:1},{octstr:{hex:t.prvKeyHex}}]};"string"==typeof t.pubKeyHex&&P.seq.push({tag:["a1",!0,{bitstr:{hex:"00"+t.pubKeyHex}}]});F=new c(P).tohex(),E=c({seq:[{int:0},{seq:[{oid:{name:"ecPublicKey"}},{oid:{name:t.curveName}}]},{octstr:{hex:F}}]}).tohex();return void 0===n||null==n?kt(E,"PRIVATE KEY"):kt(x=A(E,n),"ENCRYPTED PRIVATE KEY")}if("PKCS8PRV"==e&&void 0!==p&&t instanceof p&&1==t.isPrivate){F=new l({bigint:t.x}).tohex(),E=c({seq:[{int:0},{seq:[{oid:{name:"dsa"}},{seq:[{int:{bigint:t.p}},{int:{bigint:t.q}},{int:{bigint:t.g}}]}]},{octstr:{hex:F}}]}).tohex();return void 0===n||null==n?kt(E,"PRIVATE KEY"):kt(x=A(E,n),"ENCRYPTED PRIVATE KEY")}throw new Error("unsupported object nor format")},Zt.getKeyFromCSRPEM=function(t){var e=Tt(t,"CERTIFICATE REQUEST");return Zt.getKeyFromCSRHex(e)},Zt.getKeyFromCSRHex=function(t){var e=Zt.parseCSRHex(t);return Zt.getKey(e.p8pubkeyhex,null,"pkcs8pub")},Zt.parseCSRHex=function(t){var e=ht,n=e.getChildIdx,r=e.getTLV,i={},o=t;if("30"!=o.substr(0,2))throw new Error("malformed CSR(code:001)");var s=n(o,0);if(s.length<1)throw new Error("malformed CSR(code:002)");if("30"!=o.substr(s[0],2))throw new Error("malformed CSR(code:003)");var a=n(o,s[0]);if(a.length<3)throw new Error("malformed CSR(code:004)");return i.p8pubkeyhex=r(o,a[2]),i},Zt.getKeyID=function(t){var e=Zt,n=ht;"string"==typeof t&&-1!=t.indexOf("BEGIN ")&&(t=e.getKey(t));var r=Tt(e.getPEM(t)),i=n.getIdxbyList(r,0,[1]),o=n.getV(r,i).substring(2);return ut.crypto.Util.hashHex(o,"sha1")},Zt.getJWK=function(t,e,n,r,i){var o,s,a={},u=ut.crypto.Util.hashHex;if("string"==typeof t)o=Zt.getKey(t),-1!=t.indexOf("CERTIFICATE")&&(s=Tt(t));else{if("object"!=typeof t)throw new Error("unsupported keyinfo type");t instanceof re?(o=t.getPublicKey(),s=t.hex):o=t}if(o instanceof nt&&o.isPrivate)a.kty="RSA",a.n=yt(o.n.toString(16)),a.e=yt(o.e.toString(16)),a.d=yt(o.d.toString(16)),a.p=yt(o.p.toString(16)),a.q=yt(o.q.toString(16)),a.dp=yt(o.dmp1.toString(16)),a.dq=yt(o.dmq1.toString(16)),a.qi=yt(o.coeff.toString(16));else if(o instanceof nt&&o.isPublic)a.kty="RSA",a.n=yt(o.n.toString(16)),a.e=yt(o.e.toString(16));else if(o instanceof ut.crypto.ECDSA&&o.isPrivate){if("P-256"!==(c=o.getShortNISTPCurveName())&&"P-384"!==c&&"P-521"!==c)throw new Error("unsupported curve name for JWT: "+c);var l=o.getPublicKeyXYHex();a.kty="EC",a.crv=c,a.x=yt(l.x),a.y=yt(l.y),a.d=yt(o.prvKeyHex)}else if(o instanceof ut.crypto.ECDSA&&o.isPublic){var c;if("P-256"!==(c=o.getShortNISTPCurveName())&&"P-384"!==c&&"P-521"!==c)throw new Error("unsupported curve name for JWT: "+c);l=o.getPublicKeyXYHex();a.kty="EC",a.crv=c,a.x=yt(l.x),a.y=yt(l.y)}if(null==a.kty)throw new Error("unsupported keyinfo");return o.isPrivate||1==e||(a.kid=ut.jws.JWS.getJWKthumbprint(a)),null!=s&&1!=n&&(a.x5c=[y(s)]),null!=s&&1!=r&&(a.x5t=vt(y(u(s,"sha1")))),null!=s&&1!=i&&(a["x5t#S256"]=vt(y(u(s,"sha256")))),a},Zt.getJWKFromKey=function(t){return Zt.getJWK(t,!0,!0,!0,!0)},nt.getPosArrayOfChildrenFromHex=function(t){return ht.getChildIdx(t,0)},nt.getHexValueArrayOfChildrenFromHex=function(t){var e,n=ht.getV,r=n(t,(e=nt.getPosArrayOfChildrenFromHex(t))[0]),i=n(t,e[1]),o=n(t,e[2]),s=n(t,e[3]),a=n(t,e[4]),u=n(t,e[5]),l=n(t,e[6]),c=n(t,e[7]),h=n(t,e[8]);return(e=new Array).push(r,i,o,s,a,u,l,c,h),e},nt.prototype.readPrivateKeyFromPEMString=function(t){var e=Tt(t),n=nt.getHexValueArrayOfChildrenFromHex(e);this.setPrivateEx(n[1],n[2],n[3],n[4],n[5],n[6],n[7],n[8])},nt.prototype.readPKCS5PrvKeyHex=function(t){var e=nt.getHexValueArrayOfChildrenFromHex(t);this.setPrivateEx(e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8])},nt.prototype.readPKCS8PrvKeyHex=function(t){var e,n,r,i,o,s,a,u,l=ht,c=l.getVbyListEx;if(!1===l.isASN1HEX(t))throw new Error("not ASN.1 hex string");try{e=c(t,0,[2,0,1],"02"),n=c(t,0,[2,0,2],"02"),r=c(t,0,[2,0,3],"02"),i=c(t,0,[2,0,4],"02"),o=c(t,0,[2,0,5],"02"),s=c(t,0,[2,0,6],"02"),a=c(t,0,[2,0,7],"02"),u=c(t,0,[2,0,8],"02")}catch(t){throw new Error("malformed PKCS#8 plain RSA private key")}this.setPrivateEx(e,n,r,i,o,s,a,u)},nt.prototype.readPKCS5PubKeyHex=function(t){var e=ht,n=e.getV;if(!1===e.isASN1HEX(t))throw new Error("keyHex is not ASN.1 hex string");var r=e.getChildIdx(t,0);if(2!==r.length||"02"!==t.substr(r[0],2)||"02"!==t.substr(r[1],2))throw new Error("wrong hex for PKCS#5 public key");var i=n(t,r[0]),o=n(t,r[1]);this.setPublic(i,o)},nt.prototype.readPKCS8PubKeyHex=function(t){var e=ht;if(!1===e.isASN1HEX(t))throw new Error("not ASN.1 hex string");if("06092a864886f70d010101"!==e.getTLVbyListEx(t,0,[0,0]))throw new Error("not PKCS8 RSA public key");var n=e.getTLVbyListEx(t,0,[1,0]);this.readPKCS5PubKeyHex(n)},nt.prototype.readCertPubKeyHex=function(t,e){var n,r;(n=new re).readCertHex(t),r=n.getPublicKeyHex(),this.readPKCS8PubKeyHex(r)};new RegExp("[^0-9a-f]","gi");function te(t,e){for(var n="",r=e/4-t.length,i=0;i<r;i++)n+="0";return n+t}function ee(t,e,n){for(var r="",i=0;r.length<e;)r+=Et(n(At(t+String.fromCharCode.apply(String,[(4278190080&i)>>24,(16711680&i)>>16,(65280&i)>>8,255&i])))),i+=1;return r}function ne(t){for(var e in ut.crypto.Util.DIGESTINFOHEAD){var n=ut.crypto.Util.DIGESTINFOHEAD[e],r=n.length;if(t.substring(0,r)==n)return[e,t.substring(r)]}return[]}function re(t){var e,n=ht,r=n.getChildIdx,i=n.getV,o=(n.dump,n.parse),s=n.getTLV,a=n.getVbyList,u=n.getVbyListEx,l=n.getTLVbyList,c=n.getTLVbyListEx,h=n.getIdxbyList,f=n.getIdxbyListEx,p=n.getVidx,d=n.getInt,g=n.oidname,v=n.hextooidstr,m=Tt;try{e=ut.asn1.x509.AlgorithmIdentifier.PSSNAME2ASN1TLV}catch(t){}this.HEX2STAG={"0c":"utf8",13:"prn",16:"ia5","1a":"vis","1e":"bmp"},this.hex=null,this.version=0,this.foffset=0,this.aExtInfo=null,this.getVersion=function(){if(null===this.hex||0!==this.version)return this.version;var t=l(this.hex,0,[0,0]);if("a0"==t.substr(0,2)){var e=l(t,0,[0]),n=d(e,0);if(n<0||2<n)throw new Error("malformed version field");return this.version=n+1,this.version}return this.version=1,this.foffset=-1,1},this.getSerialNumberHex=function(){return u(this.hex,0,[0,0],"02")},this.getSignatureAlgorithmField=function(){var t=c(this.hex,0,[0,1]);return this.getAlgorithmIdentifierName(t)},this.getAlgorithmIdentifierName=function(t){for(var n in e)if(t===e[n])return n;return g(u(t,0,[0],"06"))},this.getIssuer=function(){return this.getX500Name(this.getIssuerHex())},this.getIssuerHex=function(){return l(this.hex,0,[0,3+this.foffset],"30")},this.getIssuerString=function(){return this.getIssuer().str},this.getSubject=function(){return this.getX500Name(this.getSubjectHex())},this.getSubjectHex=function(){return l(this.hex,0,[0,5+this.foffset],"30")},this.getSubjectString=function(){return this.getSubject().str},this.getNotBefore=function(){var t=a(this.hex,0,[0,4+this.foffset,0]);return t=t.replace(/(..)/g,"%$1"),t=decodeURIComponent(t)},this.getNotAfter=function(){var t=a(this.hex,0,[0,4+this.foffset,1]);return t=t.replace(/(..)/g,"%$1"),t=decodeURIComponent(t)},this.getPublicKeyHex=function(){return this.getSPKI()},this.getSPKI=function(){return l(this.hex,0,[0,6+this.foffset],"30")},this.getSPKIValue=function(){var t=this.getSPKI();return null==t?null:a(t,0,[1],"03",!0)},this.getPublicKeyIdx=function(){return h(this.hex,0,[0,6+this.foffset],"30")},this.getPublicKeyContentIdx=function(){var t=this.getPublicKeyIdx();return h(this.hex,t,[1,0],"30")},this.getPublicKey=function(){return Zt.getKey(this.getPublicKeyHex(),null,"pkcs8pub")},this.getSignatureAlgorithmName=function(){var t=l(this.hex,0,[1],"30");return this.getAlgorithmIdentifierName(t)},this.getSignatureValueHex=function(){return a(this.hex,0,[2],"03",!0)},this.verifySignature=function(t){var e=this.getSignatureAlgorithmField(),n=this.getSignatureValueHex(),r=l(this.hex,0,[0],"30"),i=new ut.crypto.Signature({alg:e});return i.init(t),i.updateHex(r),i.verify(n)},this.parseExt=function(t){var e,o,s;if(void 0===t){if(s=this.hex,3!==this.version)return-1;e=h(s,0,[0,7,0],"30"),o=r(s,e)}else{s=Tt(t);var u=h(s,0,[0,3,0,0],"06");if("2a864886f70d01090e"!=i(s,u))return void(this.aExtInfo=new Array);e=h(s,0,[0,3,0,1,0],"30"),o=r(s,e),this.hex=s}this.aExtInfo=new Array;for(var l=0;l<o.length;l++){var c={critical:!1},f=0;3===r(s,o[l]).length&&(c.critical=!0,f=1),c.oid=n.hextooidstr(a(s,o[l],[0],"06"));var d=h(s,o[l],[1+f]);c.vidx=p(s,d),this.aExtInfo.push(c)}},this.getExtInfo=function(t){var e=this.aExtInfo,n=t;if(t.match(/^[0-9.]+$/)||(n=ut.asn1.x509.OID.name2oid(t)),""!==n)for(var r=0;r<e.length;r++)if(e[r].oid===n)return e[r]},this.getExtBasicConstraints=function(t,e){if(void 0===t&&void 0===e){var n=this.getExtInfo("basicConstraints");if(void 0===n)return;t=s(this.hex,n.vidx),e=n.critical}var r={extname:"basicConstraints"};if(e&&(r.critical=!0),"3000"===t)return r;if("30030101ff"===t)return r.cA=!0,r;if("30060101ff02"===t.substr(0,12)){var o=i(t,10),a=parseInt(o,16);return r.cA=!0,r.pathLen=a,r}throw new Error("hExtV parse error: "+t)},this.getExtNameConstraints=function(t,e){if(void 0===t&&void 0===e){var n=this.getExtInfo("nameConstraints");if(void 0===n)return;t=s(this.hex,n.vidx),e=n.critical}var i={extname:"nameConstraints"};e&&(i.critical=!0);for(var o=r(t,0),a=0;a<o.length;a++){for(var u=[],l=r(t,o[a]),c=0;c<l.length;c++){var h=s(t,l[c]),f=this.getGeneralSubtree(h);u.push(f)}var p=t.substr(o[a],2);"a0"==p?i.permit=u:"a1"==p&&(i.exclude=u)}return i},this.getGeneralSubtree=function(t){var e=r(t,0),n=e.length;if(n<1||2<n)throw new Error("wrong num elements");for(var o=this.getGeneralName(s(t,e[0])),a=1;a<n;a++){var u=t.substr(e[a],2),l=i(t,e[a]),c=parseInt(l,16);"80"==u&&(o.min=c),"81"==u&&(o.max=c)}return o},this.getExtKeyUsage=function(t,e){if(void 0===t&&void 0===e){var n=this.getExtInfo("keyUsage");if(void 0===n)return;t=s(this.hex,n.vidx),e=n.critical}var r={extname:"keyUsage"};return e&&(r.critical=!0),r.names=this.getExtKeyUsageString(t).split(","),r},this.getExtKeyUsageBin=function(t){if(void 0===t){var e=this.getExtInfo("keyUsage");if(void 0===e)return"";t=s(this.hex,e.vidx)}if(8!=t.length&&10!=t.length)throw new Error("malformed key usage value: "+t);var n="000000000000000"+parseInt(t.substr(6),16).toString(2);return 8==t.length&&(n=n.slice(-8)),10==t.length&&(n=n.slice(-16)),""==(n=n.replace(/0+$/,""))&&(n="0"),n},this.getExtKeyUsageString=function(t){for(var e=this.getExtKeyUsageBin(t),n=new Array,r=0;r<e.length;r++)"1"==e.substr(r,1)&&n.push(re.KEYUSAGE_NAME[r]);return n.join(",")},this.getExtSubjectKeyIdentifier=function(t,e){if(void 0===t&&void 0===e){var n=this.getExtInfo("subjectKeyIdentifier");if(void 0===n)return;t=s(this.hex,n.vidx),e=n.critical}var r={extname:"subjectKeyIdentifier"};e&&(r.critical=!0);var o=i(t,0);return r.kid={hex:o},r},this.getExtAuthorityKeyIdentifier=function(t,e){if(void 0===t&&void 0===e){var n=this.getExtInfo("authorityKeyIdentifier");if(void 0===n)return;t=s(this.hex,n.vidx),e=n.critical}var o={extname:"authorityKeyIdentifier"};e&&(o.critical=!0);for(var a=r(t,0),u=0;u<a.length;u++){var l=t.substr(a[u],2);if("80"===l&&(o.kid={hex:i(t,a[u])}),"a1"===l){var c=s(t,a[u]),h=this.getGeneralNames(c);o.issuer=h[0].dn}"82"===l&&(o.sn={hex:i(t,a[u])})}return o},this.getExtExtKeyUsage=function(t,e){if(void 0===t&&void 0===e){var n=this.getExtInfo("extKeyUsage");if(void 0===n)return;t=s(this.hex,n.vidx),e=n.critical}var o={extname:"extKeyUsage",array:[]};e&&(o.critical=!0);for(var a=r(t,0),u=0;u<a.length;u++)o.array.push(g(i(t,a[u])));return o},this.getExtExtKeyUsageName=function(){var t=this.getExtInfo("extKeyUsage");if(void 0===t)return t;var e=new Array,n=s(this.hex,t.vidx);if(""===n)return e;for(var o=r(n,0),a=0;a<o.length;a++)e.push(g(i(n,o[a])));return e},this.getExtSubjectAltName=function(t,e){if(void 0===t&&void 0===e){var n=this.getExtInfo("subjectAltName");if(void 0===n)return;t=s(this.hex,n.vidx),e=n.critical}var r={extname:"subjectAltName",array:[]};return e&&(r.critical=!0),r.array=this.getGeneralNames(t),r},this.getExtIssuerAltName=function(t,e){if(void 0===t&&void 0===e){var n=this.getExtInfo("issuerAltName");if(void 0===n)return;t=s(this.hex,n.vidx),e=n.critical}var r={extname:"issuerAltName",array:[]};return e&&(r.critical=!0),r.array=this.getGeneralNames(t),r},this.getGeneralNames=function(t){for(var e=r(t,0),n=[],i=0;i<e.length;i++){var o=this.getGeneralName(s(t,e[i]));void 0!==o&&n.push(o)}return n},this.getGeneralName=function(t){var e=t.substr(0,2),n=i(t,0),r=Et(n);return"81"==e?{rfc822:r}:"82"==e?{dns:r}:"86"==e?{uri:r}:"87"==e?{ip:jt(n)}:"a4"==e?{dn:this.getX500Name(n)}:"a0"==e?{other:this.getOtherName(t)}:void 0},this.getExtSubjectAltName2=function(){var t,e,n,o=this.getExtInfo("subjectAltName");if(void 0===o)return o;for(var a=new Array,u=s(this.hex,o.vidx),l=r(u,0),c=0;c<l.length;c++)n=u.substr(l[c],2),t=i(u,l[c]),"81"===n&&(e=xt(t),a.push(["MAIL",e])),"82"===n&&(e=xt(t),a.push(["DNS",e])),"84"===n&&(e=re.hex2dn(t,0),a.push(["DN",e])),"86"===n&&(e=xt(t),a.push(["URI",e])),"87"===n&&(e=jt(t),a.push(["IP",e]));return a},this.getExtCRLDistributionPoints=function(t,e){if(void 0===t&&void 0===e){var n=this.getExtInfo("cRLDistributionPoints");if(void 0===n)return;t=s(this.hex,n.vidx),e=n.critical}var i={extname:"cRLDistributionPoints",array:[]};e&&(i.critical=!0);for(var o=r(t,0),a=0;a<o.length;a++){var u=s(t,o[a]);i.array.push(this.getDistributionPoint(u))}return i},this.getDistributionPoint=function(t){for(var e={},n=r(t,0),i=0;i<n.length;i++){var o=t.substr(n[i],2),a=s(t,n[i]);"a0"==o&&(e.dpname=this.getDistributionPointName(a))}return e},this.getDistributionPointName=function(t){for(var e={},n=r(t,0),i=0;i<n.length;i++){var o=t.substr(n[i],2),a=s(t,n[i]);"a0"==o&&(e.full=this.getGeneralNames(a))}return e},this.getExtCRLDistributionPointsURI=function(){var t=this.getExtCRLDistributionPoints();if(null==t)return t;for(var e=t.array,n=[],r=0;r<e.length;r++)try{null!=e[r].dpname.full[0].uri&&n.push(e[r].dpname.full[0].uri)}catch(t){}return n},this.getExtAIAInfo=function(){var t=this.getExtInfo("authorityInfoAccess");if(void 0===t)return t;for(var e={ocsp:[],caissuer:[]},n=r(this.hex,t.vidx),i=0;i<n.length;i++){var o=a(this.hex,n[i],[0],"06"),s=a(this.hex,n[i],[1],"86");"2b06010505073001"===o&&e.ocsp.push(xt(s)),"2b06010505073002"===o&&e.caissuer.push(xt(s))}return e},this.getExtAuthorityInfoAccess=function(t,e){if(void 0===t&&void 0===e){var n=this.getExtInfo("authorityInfoAccess");if(void 0===n)return;t=s(this.hex,n.vidx),e=n.critical}var i={extname:"authorityInfoAccess",array:[]};e&&(i.critical=!0);for(var o=r(t,0),l=0;l<o.length;l++){var c=u(t,o[l],[0],"06"),h=xt(a(t,o[l],[1],"86"));if("2b06010505073001"==c)i.array.push({ocsp:h});else{if("2b06010505073002"!=c)throw new Error("unknown method: "+c);i.array.push({caissuer:h})}}return i},this.getExtCertificatePolicies=function(t,e){if(void 0===t&&void 0===e){var n=this.getExtInfo("certificatePolicies");if(void 0===n)return;t=s(this.hex,n.vidx),e=n.critical}var i={extname:"certificatePolicies",array:[]};e&&(i.critical=!0);for(var o=r(t,0),a=0;a<o.length;a++){var u=s(t,o[a]),l=this.getPolicyInformation(u);i.array.push(l)}return i},this.getPolicyInformation=function(t){var e={},n=a(t,0,[0],"06");e.policyoid=g(n);var i=f(t,0,[1],"30");if(-1!=i){e.array=[];for(var o=r(t,i),u=0;u<o.length;u++){var l=s(t,o[u]),c=this.getPolicyQualifierInfo(l);e.array.push(c)}}return e},this.getOtherName=function(t){var e={},n=r(t,0),i=a(t,n[0],[],"06"),s=a(t,n[1],[]);return e.oid=ut.asn1.ASN1Util.oidHexToInt(i),e.obj=o(s),e},this.getPolicyQualifierInfo=function(t){var e={},n=a(t,0,[0],"06");if("2b06010505070201"===n){var r=u(t,0,[1],"16");e.cps=Et(r)}else if("2b06010505070202"===n){var i=l(t,0,[1],"30");e.unotice=this.getUserNotice(i)}return e},this.getUserNotice=function(t){for(var e={},n=r(t,0),i=0;i<n.length;i++){var o=s(t,n[i]);"30"!=o.substr(0,2)&&(e.exptext=this.getDisplayText(o))}return e},this.getDisplayText=function(t){var e={};return e.type={"0c":"utf8",16:"ia5","1a":"vis","1e":"bmp"}[t.substr(0,2)],e.str=Et(i(t,0)),e},this.getExtCRLNumber=function(t,e){var n={extname:"cRLNumber"};if(e&&(n.critical=!0),"02"==t.substr(0,2))return n.num={hex:i(t,0)},n;throw new Error("hExtV parse error: "+t)},this.getExtCRLReason=function(t,e){var n={extname:"cRLReason"};if(e&&(n.critical=!0),"0a"==t.substr(0,2))return n.code=parseInt(i(t,0),16),n;throw new Error("hExtV parse error: "+t)},this.getExtOcspNonce=function(t,e){var n={extname:"ocspNonce"};e&&(n.critical=!0);var r=i(t,0);return n.hex=r,n},this.getExtOcspNoCheck=function(t,e){var n={extname:"ocspNoCheck"};return e&&(n.critical=!0),n},this.getExtAdobeTimeStamp=function(t,e){if(void 0===t&&void 0===e){var n=this.getExtInfo("adobeTimeStamp");if(void 0===n)return;t=s(this.hex,n.vidx),e=n.critical}var i={extname:"adobeTimeStamp"};e&&(i.critical=!0);var o=r(t,0);if(o.length>1){var a=s(t,o[1]),u=this.getGeneralName(a);null!=u.uri&&(i.uri=u.uri)}if(o.length>2){var l=s(t,o[2]);"0101ff"==l&&(i.reqauth=!0),"010100"==l&&(i.reqauth=!1)}return i};var y=function(t){var e={};try{var n=t.seq[0].oid,r=ut.asn1.x509.OID.name2oid(n);e.type=ut.asn1.x509.OID.oid2atype(r);var i=t.seq[1];if(null!=i.utf8str)e.ds="utf8",e.value=i.utf8str.str;else if(null!=i.numstr)e.ds="num",e.value=i.numstr.str;else if(null!=i.telstr)e.ds="tel",e.value=i.telstr.str;else if(null!=i.prnstr)e.ds="prn",e.value=i.prnstr.str;else if(null!=i.ia5str)e.ds="ia5",e.value=i.ia5str.str;else if(null!=i.visstr)e.ds="vis",e.value=i.visstr.str;else{if(null==i.bmpstr)throw"error";e.ds="bmp",e.value=i.bmpstr.str}return e}catch(t){throw new Erorr("improper ASN.1 parsed AttrTypeAndValue")}},b=function(t){try{return t.set.map((function(t){return y(t)}))}catch(t){throw new Error("improper ASN.1 parsed RDN: "+t)}};this.getX500NameRule=function(t){for(var e=null,n=[],r=0;r<t.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(i[o]);for(r=0;r<n.length;r++){var s=n[r],a=s.ds,u=s.value,l=s.type;if(":"+a,"prn"!=a&&"utf8"!=a&&"ia5"!=a)return"mixed";if("ia5"==a){if("CN"!=l)return"mixed";if(ut.lang.String.isMail(u))continue;return"mixed"}if("C"==l){if("prn"==a)continue;return"mixed"}if(":"+a,null==e)e=a;else if(e!==a)return"mixed"}return null==e?"prn":e},this.getAttrTypeAndValue=function(t){var e=o(t);return y(e)},this.getRDN=function(t){var e=o(t);return b(e)},this.getX500NameArray=function(t){return function(t){try{return t.seq.map((function(t){return b(t)}))}catch(t){throw new Error("improper ASN.1 parsed X500Name: "+t)}}(o(t))},this.getX500Name=function(t){var e=this.getX500NameArray(t);return{array:e,str:this.dnarraytostr(e)}},this.readCertPEM=function(t){this.readCertHex(m(t))},this.readCertHex=function(t){this.hex=t,this.getVersion();try{h(this.hex,0,[0,7],"a3"),this.parseExt()}catch(t){}},this.getParam=function(t){var e={};return e.version=this.getVersion(),e.serial={hex:this.getSerialNumberHex()},e.sigalg=this.getSignatureAlgorithmField(),e.issuer=this.getIssuer(),e.notbefore=this.getNotBefore(),e.notafter=this.getNotAfter(),e.subject=this.getSubject(),e.sbjpubkey=kt(this.getPublicKeyHex(),"PUBLIC KEY"),null!=this.aExtInfo&&this.aExtInfo.length>0&&(e.ext=this.getExtParamArray()),e.sighex=this.getSignatureValueHex(),"object"==typeof t&&(1==t.tbshex&&(e.tbshex=l(this.hex,0,[0])),1==t.nodnarray&&(delete e.issuer.array,delete e.subject.array)),e},this.getExtParamArray=function(t){null==t&&(-1!=f(this.hex,0,[0,"[3]"])&&(t=c(this.hex,0,[0,"[3]",0],"30")));for(var e=[],n=r(t,0),i=0;i<n.length;i++){var o=s(t,n[i]),a=this.getExtParam(o);null!=a&&e.push(a)}return e},this.getExtParam=function(t){var e=r(t,0).length;if(2!=e&&3!=e)throw new Error("wrong number elements in Extension: "+e+" "+t);var n=v(a(t,0,[0],"06")),i=!1;3==e&&"0101ff"==l(t,0,[1])&&(i=!0);var o=l(t,0,[e-1,0]),s=void 0;if("2.5.29.14"==n?s=this.getExtSubjectKeyIdentifier(o,i):"2.5.29.15"==n?s=this.getExtKeyUsage(o,i):"2.5.29.17"==n?s=this.getExtSubjectAltName(o,i):"2.5.29.18"==n?s=this.getExtIssuerAltName(o,i):"2.5.29.19"==n?s=this.getExtBasicConstraints(o,i):"2.5.29.30"==n?s=this.getExtNameConstraints(o,i):"2.5.29.31"==n?s=this.getExtCRLDistributionPoints(o,i):"2.5.29.32"==n?s=this.getExtCertificatePolicies(o,i):"2.5.29.35"==n?s=this.getExtAuthorityKeyIdentifier(o,i):"2.5.29.37"==n?s=this.getExtExtKeyUsage(o,i):"1.3.6.1.5.5.7.1.1"==n?s=this.getExtAuthorityInfoAccess(o,i):"2.5.29.20"==n?s=this.getExtCRLNumber(o,i):"2.5.29.21"==n?s=this.getExtCRLReason(o,i):"1.3.6.1.5.5.7.48.1.2"==n?s=this.getExtOcspNonce(o,i):"1.3.6.1.5.5.7.48.1.5"==n?s=this.getExtOcspNoCheck(o,i):"1.2.840.113583.1.1.9.1"==n&&(s=this.getExtAdobeTimeStamp(o,i)),null!=s)return s;var u={extname:n,extn:o};return i&&(u.critical=!0),u},this.findExt=function(t,e){for(var n=0;n<t.length;n++)if(t[n].extname==e)return t[n];return null},this.updateExtCDPFullURI=function(t,e){var n=this.findExt(t,"cRLDistributionPoints");if(null!=n&&null!=n.array)for(var r=n.array,i=0;i<r.length;i++)if(null!=r[i].dpname&&null!=r[i].dpname.full)for(var o=r[i].dpname.full,s=0;s<o.length;s++){var a=o[i];null!=a.uri&&(a.uri=e)}},this.updateExtAIAOCSP=function(t,e){var n=this.findExt(t,"authorityInfoAccess");if(null!=n&&null!=n.array)for(var r=n.array,i=0;i<r.length;i++)null!=r[i].ocsp&&(r[i].ocsp=e)},this.updateExtAIACAIssuer=function(t,e){var n=this.findExt(t,"authorityInfoAccess");if(null!=n&&null!=n.array)for(var r=n.array,i=0;i<r.length;i++)null!=r[i].caissuer&&(r[i].caissuer=e)},this.dnarraytostr=function(t){return"/"+t.map((function(t){return function(t){return t.map((function(t){return function(t){return t.type+"="+t.value}(t).replace(/\+/,"\\+")})).join("+")}(t).replace(/\//,"\\/")})).join("/")},this.getInfo=function(){var t,e,n,r,i=function(t){for(var e="",n=t.array,r=0;r<n.length;r++){var i=n[r];if(e+="    policy oid: "+i.policyoid+"\n",void 0!==i.array)for(var o=0;o<i.array.length;o++){var s=i.array[o];void 0!==s.cps&&(e+="    cps: "+s.cps+"\n")}}return e},o=function(t){for(var e="",n=t.array,r=0;r<n.length;r++){var i=n[r];try{void 0!==i.dpname.full[0].uri&&(e+="    "+i.dpname.full[0].uri+"\n")}catch(t){}try{void 0!==i.dname.full[0].dn.hex&&(e+="    "+re.hex2dn(i.dpname.full[0].dn.hex)+"\n")}catch(t){}}return e},s=function(t){for(var e="",n=t.array,r=0;r<n.length;r++){var i=n[r];void 0!==i.caissuer&&(e+="    caissuer: "+i.caissuer+"\n"),void 0!==i.ocsp&&(e+="    ocsp: "+i.ocsp+"\n")}return e};if(t="Basic Fields\n",t+="  serial number: "+this.getSerialNumberHex()+"\n",t+="  signature algorithm: "+this.getSignatureAlgorithmField()+"\n",t+="  issuer: "+this.getIssuerString()+"\n",t+="  notBefore: "+this.getNotBefore()+"\n",t+="  notAfter: "+this.getNotAfter()+"\n",t+="  subject: "+this.getSubjectString()+"\n",t+="  subject public key info: \n",t+="    key algorithm: "+(e=this.getPublicKey()).type+"\n","RSA"===e.type&&(t+="    n="+qt(e.n.toString(16)).substr(0,16)+"...\n",t+="    e="+qt(e.e.toString(16))+"\n"),null!=(n=this.aExtInfo)){t+="X509v3 Extensions:\n";for(var a=0;a<n.length;a++){var u=n[a],l=ut.asn1.x509.OID.oid2name(u.oid);""===l&&(l=u.oid);var c="";if(!0===u.critical&&(c="CRITICAL"),t+="  "+l+" "+c+":\n","basicConstraints"===l){var h=this.getExtBasicConstraints();void 0===h.cA?t+="    {}\n":(t+="    cA=true",void 0!==h.pathLen&&(t+=", pathLen="+h.pathLen),t+="\n")}else if("keyUsage"===l)t+="    "+this.getExtKeyUsageString()+"\n";else if("subjectKeyIdentifier"===l)t+="    "+this.getExtSubjectKeyIdentifier().kid.hex+"\n";else if("authorityKeyIdentifier"===l){var f=this.getExtAuthorityKeyIdentifier();void 0!==f.kid&&(t+="    kid="+f.kid.hex+"\n")}else{if("extKeyUsage"===l)t+="    "+this.getExtExtKeyUsage().array.join(", ")+"\n";else if("subjectAltName"===l)t+="    "+(r=this.getExtSubjectAltName(),JSON.stringify(r.array).replace(/[\[\]\{\}\"]/g,""))+"\n";else if("cRLDistributionPoints"===l)t+=o(this.getExtCRLDistributionPoints());else if("authorityInfoAccess"===l)t+=s(this.getExtAuthorityInfoAccess());else"certificatePolicies"===l&&(t+=i(this.getExtCertificatePolicies()))}}}return t+="signature algorithm: "+this.getSignatureAlgorithmName()+"\n",t+="signature: "+this.getSignatureValueHex().substr(0,16)+"...\n"},"string"==typeof t&&(-1!=t.indexOf("-----BEGIN")?this.readCertPEM(t):ut.lang.String.isHex(t)&&this.readCertHex(t))}nt.prototype.sign=function(t,e){var n=function(t){return ut.crypto.Util.hashString(t,e)}(t);return this.signWithMessageHash(n,e)},nt.prototype.signWithMessageHash=function(t,e){var n=tt(ut.crypto.Util.getPaddedDigestInfoHex(t,e,this.n.bitLength()),16);return te(this.doPrivate(n).toString(16),this.n.bitLength())},nt.prototype.signPSS=function(t,e,n){var r,i=(r=At(t),ut.crypto.Util.hashHex(r,e));return void 0===n&&(n=-1),this.signWithMessageHashPSS(i,e,n)},nt.prototype.signWithMessageHashPSS=function(t,e,n){var r,i=Et(t),o=i.length,s=this.n.bitLength()-1,a=Math.ceil(s/8),u=function(t){return ut.crypto.Util.hashHex(t,e)};if(-1===n||void 0===n)n=o;else if(-2===n)n=a-o-2;else if(n<-2)throw new Error("invalid salt length");if(a<o+n+2)throw new Error("data too long");var l="";n>0&&(l=new Array(n),(new Z).nextBytes(l),l=String.fromCharCode.apply(String,l));var c=Et(u(At("\0\0\0\0\0\0\0\0"+i+l))),h=[];for(r=0;r<a-n-o-2;r+=1)h[r]=0;var f=String.fromCharCode.apply(String,h)+""+l,p=ee(c,f.length,u),d=[];for(r=0;r<f.length;r+=1)d[r]=f.charCodeAt(r)^p.charCodeAt(r);var g=65280>>8*a-s&255;for(d[0]&=~g,r=0;r<o;r++)d.push(c.charCodeAt(r));return d.push(188),te(this.doPrivate(new x(d)).toString(16),this.n.bitLength())},nt.prototype.verify=function(t,e){if(null==(e=e.toLowerCase()).match(/^[0-9a-f]+$/))return!1;var n=tt(e,16),r=this.n.bitLength();if(n.bitLength()>r)return!1;var i=this.doPublic(n).toString(16);if(i.length+3!=r/4)return!1;var o=ne(i.replace(/^1f+00/,""));if(0==o.length)return!1;var s=o[0];return o[1]==function(t){return ut.crypto.Util.hashString(t,s)}(t)},nt.prototype.verifyWithMessageHash=function(t,e){if(e.length!=Math.ceil(this.n.bitLength()/4))return!1;var n=tt(e,16);if(n.bitLength()>this.n.bitLength())return 0;var r=ne(this.doPublic(n).toString(16).replace(/^1f+00/,""));if(0==r.length)return!1;r[0];return r[1]==t},nt.prototype.verifyPSS=function(t,e,n,r){var i,o=(i=At(t),ut.crypto.Util.hashHex(i,n));return void 0===r&&(r=-1),this.verifyWithMessageHashPSS(o,e,n,r)},nt.prototype.verifyWithMessageHashPSS=function(t,e,n,r){if(e.length!=Math.ceil(this.n.bitLength()/4))return!1;var i,o=new x(e,16),s=function(t){return ut.crypto.Util.hashHex(t,n)},a=Et(t),u=a.length,l=this.n.bitLength()-1,c=Math.ceil(l/8);if(-1===r||void 0===r)r=u;else if(-2===r)r=c-u-2;else if(r<-2)throw new Error("invalid salt length");if(c<u+r+2)throw new Error("data too long");var h=this.doPublic(o).toByteArray();for(i=0;i<h.length;i+=1)h[i]&=255;for(;h.length<c;)h.unshift(0);if(188!==h[c-1])throw new Error("encoded message does not end in 0xbc");var f=(h=String.fromCharCode.apply(String,h)).substr(0,c-u-1),p=h.substr(f.length,u),d=65280>>8*c-l&255;if(0!=(f.charCodeAt(0)&d))throw new Error("bits beyond keysize not zero");var g=ee(p,f.length,s),v=[];for(i=0;i<f.length;i+=1)v[i]=f.charCodeAt(i)^g.charCodeAt(i);v[0]&=~d;var m=c-u-r-2;for(i=0;i<m;i+=1)if(0!==v[i])throw new Error("leftmost octets not zero");if(1!==v[m])throw new Error("0x01 marker not found");return p===Et(s(At("\0\0\0\0\0\0\0\0"+a+String.fromCharCode.apply(String,v.slice(-r)))))},nt.SALT_LEN_HLEN=-1,nt.SALT_LEN_MAX=-2,nt.SALT_LEN_RECOVER=-2,re.hex2dn=function(t,e){void 0===e&&(e=0);var n=new re;ht.getTLV(t,e);return n.getX500Name(t).str},re.hex2rdn=function(t,e){if(void 0===e&&(e=0),"31"!==t.substr(e,2))throw new Error("malformed RDN");for(var n=new Array,r=ht.getChildIdx(t,e),i=0;i<r.length;i++)n.push(re.hex2attrTypeValue(t,r[i]));return(n=n.map((function(t){return t.replace("+","\\+")}))).join("+")},re.hex2attrTypeValue=function(t,e){var n=ht,r=n.getV;if(void 0===e&&(e=0),"30"!==t.substr(e,2))throw new Error("malformed attribute type and value");var i=n.getChildIdx(t,e);2!==i.length||t.substr(i[0],2);var o=r(t,i[0]),s=ut.asn1.ASN1Util.oidHexToInt(o);return ut.asn1.x509.OID.oid2atype(s)+"="+Et(r(t,i[1]))},re.getPublicKeyFromCertHex=function(t){var e=new re;return e.readCertHex(t),e.getPublicKey()},re.getPublicKeyFromCertPEM=function(t){var e=new re;return e.readCertPEM(t),e.getPublicKey()},re.getPublicKeyInfoPropOfCertPEM=function(t){var e,n,r=ht.getVbyList,i={};return i.algparam=null,(e=new re).readCertPEM(t),n=e.getPublicKeyHex(),i.keyhex=r(n,0,[1],"03").substr(2),i.algoid=r(n,0,[0,0],"06"),"2a8648ce3d0201"===i.algoid&&(i.algparam=r(n,0,[0,1],"06")),i},re.KEYUSAGE_NAME=["digitalSignature","nonRepudiation","keyEncipherment","dataEncipherment","keyAgreement","keyCertSign","cRLSign","encipherOnly","decipherOnly"];void 0!==ut&&ut||(ut={}),void 0!==ut.jws&&ut.jws||(ut.jws={}),ut.jws.JWS=function(){var t=ut.jws.JWS.isSafeJSONString;this.parseJWS=function(e,n){if(void 0===this.parsedJWS||!n&&void 0===this.parsedJWS.sigvalH){var r=e.match(/^([^.]+)\.([^.]+)\.([^.]+)$/);if(null==r)throw"JWS signature is not a form of 'Head.Payload.SigValue'.";var i=r[1],o=r[2],s=r[3],a=i+"."+o;if(this.parsedJWS={},this.parsedJWS.headB64U=i,this.parsedJWS.payloadB64U=o,this.parsedJWS.sigvalB64U=s,this.parsedJWS.si=a,!n){var u=bt(s),l=tt(u,16);this.parsedJWS.sigvalH=u,this.parsedJWS.sigvalBI=l}var c=ct(i),h=ct(o);if(this.parsedJWS.headS=c,this.parsedJWS.payloadS=h,!t(c,this.parsedJWS,"headP"))throw"malformed JSON string for JWS Head: "+c}}},ut.jws.JWS.sign=function(t,e,n,r,i){var o,s,a,u=ut,l=u.jws.JWS,c=l.readSafeJSONString,h=l.isSafeJSONString,f=u.crypto,p=(f.ECDSA,f.Mac),d=f.Signature,g=JSON;if("string"!=typeof e&&"object"!=typeof e)throw"spHeader must be JSON string or object: "+e;if("object"==typeof e&&(s=e,o=g.stringify(s)),"string"==typeof e){if(!h(o=e))throw"JWS Head is not safe JSON string: "+o;s=c(o)}if(a=n,"object"==typeof n&&(a=g.stringify(n)),""!=t&&null!=t||void 0===s.alg||(t=s.alg),""!=t&&null!=t&&void 0===s.alg&&(s.alg=t,o=g.stringify(s)),t!==s.alg)throw"alg and sHeader.alg doesn't match: "+t+"!="+s.alg;var v=null;if(void 0===l.jwsalg2sigalg[t])throw"unsupported alg name: "+t;v=l.jwsalg2sigalg[t];var m=lt(o)+"."+lt(a),y="";if("Hmac"==v.substr(0,4)){if(void 0===r)throw"mac key shall be specified for HS* alg";var b=new p({alg:v,prov:"cryptojs",pass:r});b.updateString(m),y=b.doFinal()}else if(-1!=v.indexOf("withECDSA")){(x=new d({alg:v})).init(r,i),x.updateString(m);var w=x.sign();y=ut.crypto.ECDSA.asn1SigToConcatSig(w)}else{var x;if("none"!=v)(x=new d({alg:v})).init(r,i),x.updateString(m),y=x.sign()}return m+"."+yt(y)},ut.jws.JWS.verify=function(t,e,n){var r,i=ut,o=i.jws.JWS,s=o.readSafeJSONString,a=i.crypto,u=a.ECDSA,l=a.Mac,c=a.Signature;if(r=nt,!Vt(t))return!1;var h=t.split(".");if(3!==h.length)return!1;var f=h[0]+"."+h[1],p=bt(h[2]),d=s(ct(h[0])),g=null,v=null;if(void 0===d.alg)throw"algorithm not specified in header";if((v=(g=d.alg).substr(0,2),null!=n&&"[object Array]"===Object.prototype.toString.call(n)&&n.length>0)&&-1==(":"+n.join(":")+":").indexOf(":"+g+":"))throw"algorithm '"+g+"' not accepted in the list";if("none"!=g&&null===e)throw"key shall be specified to verify.";if("string"==typeof e&&-1!=e.indexOf("-----BEGIN ")&&(e=Zt.getKey(e)),!("RS"!=v&&"PS"!=v||e instanceof r))throw"key shall be a RSAKey obj for RS* and PS* algs";if("ES"==v&&!(e instanceof u))throw"key shall be a ECDSA obj for ES* algs";var m=null;if(void 0===o.jwsalg2sigalg[d.alg])throw"unsupported alg name: "+g;if("none"==(m=o.jwsalg2sigalg[g]))throw"not supported";if("Hmac"==m.substr(0,4)){if(void 0===e)throw"hexadecimal key shall be specified for HMAC";var y=new l({alg:m,pass:e});return y.updateString(f),p==y.doFinal()}if(-1!=m.indexOf("withECDSA")){var b,w=null;try{w=u.concatSigToASN1Sig(p)}catch(t){return!1}return(b=new c({alg:m})).init(e),b.updateString(f),b.verify(w)}return(b=new c({alg:m})).init(e),b.updateString(f),b.verify(p)},ut.jws.JWS.parse=function(t){var e,n,r,i=t.split("."),o={};if(2!=i.length&&3!=i.length)throw"malformed sJWS: wrong number of '.' splitted elements";return e=i[0],n=i[1],3==i.length&&(r=i[2]),o.headerObj=ut.jws.JWS.readSafeJSONString(ct(e)),o.payloadObj=ut.jws.JWS.readSafeJSONString(ct(n)),o.headerPP=JSON.stringify(o.headerObj,null,"  "),null==o.payloadObj?o.payloadPP=ct(n):o.payloadPP=JSON.stringify(o.payloadObj,null,"  "),void 0!==r&&(o.sigHex=bt(r)),o},ut.jws.JWS.verifyJWT=function(t,e,n){var r=ut.jws,i=r.JWS,o=i.readSafeJSONString,s=i.inArray,a=i.includedArray;if(!Vt(t))return!1;var u=t.split(".");if(3!=u.length)return!1;var l=u[0],c=u[1],h=(bt(u[2]),o(ct(l))),f=o(ct(c));if(void 0===h.alg)return!1;if(void 0===n.alg)throw"acceptField.alg shall be specified";if(!s(h.alg,n.alg))return!1;if(void 0!==f.iss&&"object"==typeof n.iss&&!s(f.iss,n.iss))return!1;if(void 0!==f.sub&&"object"==typeof n.sub&&!s(f.sub,n.sub))return!1;if(void 0!==f.aud&&"object"==typeof n.aud)if("string"==typeof f.aud){if(!s(f.aud,n.aud))return!1}else if("object"==typeof f.aud&&!a(f.aud,n.aud))return!1;var p=r.IntDate.getNow();return void 0!==n.verifyAt&&"number"==typeof n.verifyAt&&(p=n.verifyAt),void 0!==n.gracePeriod&&"number"==typeof n.gracePeriod||(n.gracePeriod=0),!(void 0!==f.exp&&"number"==typeof f.exp&&f.exp+n.gracePeriod<p)&&(!(void 0!==f.nbf&&"number"==typeof f.nbf&&p<f.nbf-n.gracePeriod)&&(!(void 0!==f.iat&&"number"==typeof f.iat&&p<f.iat-n.gracePeriod)&&((void 0===f.jti||void 0===n.jti||f.jti===n.jti)&&!!i.verify(t,e,n.alg))))},ut.jws.JWS.includedArray=function(t,e){var n=ut.jws.JWS.inArray;if(null===t)return!1;if("object"!=typeof t)return!1;if("number"!=typeof t.length)return!1;for(var r=0;r<t.length;r++)if(!n(t[r],e))return!1;return!0},ut.jws.JWS.inArray=function(t,e){if(null===e)return!1;if("object"!=typeof e)return!1;if("number"!=typeof e.length)return!1;for(var n=0;n<e.length;n++)if(e[n]==t)return!0;return!1},ut.jws.JWS.jwsalg2sigalg={HS256:"HmacSHA256",HS384:"HmacSHA384",HS512:"HmacSHA512",RS256:"SHA256withRSA",RS384:"SHA384withRSA",RS512:"SHA512withRSA",ES256:"SHA256withECDSA",ES384:"SHA384withECDSA",ES512:"SHA512withECDSA",PS256:"SHA256withRSAandMGF1",PS384:"SHA384withRSAandMGF1",PS512:"SHA512withRSAandMGF1",none:"none"},ut.jws.JWS.isSafeJSONString=function(t,e,n){var r=null;try{return"object"!=typeof(r=at(t))||r.constructor===Array?0:(e&&(e[n]=r),1)}catch(t){return 0}},ut.jws.JWS.readSafeJSONString=function(t){var e=null;try{return"object"!=typeof(e=at(t))||e.constructor===Array?null:e}catch(t){return null}},ut.jws.JWS.getEncodedSignatureValueFromJWS=function(t){var e=t.match(/^[^.]+\.[^.]+\.([^.]+)$/);if(null==e)throw"JWS signature is not a form of 'Head.Payload.SigValue'.";return e[1]},ut.jws.JWS.getJWKthumbprint=function(t){if("RSA"!==t.kty&&"EC"!==t.kty&&"oct"!==t.kty)throw"unsupported algorithm for JWK Thumprint";var e="{";if("RSA"===t.kty){if("string"!=typeof t.n||"string"!=typeof t.e)throw"wrong n and e value for RSA key";e+='"e":"'+t.e+'",',e+='"kty":"'+t.kty+'",',e+='"n":"'+t.n+'"}'}else if("EC"===t.kty){if("string"!=typeof t.crv||"string"!=typeof t.x||"string"!=typeof t.y)throw"wrong crv, x and y value for EC key";e+='"crv":"'+t.crv+'",',e+='"kty":"'+t.kty+'",',e+='"x":"'+t.x+'",',e+='"y":"'+t.y+'"}'}else if("oct"===t.kty){if("string"!=typeof t.k)throw"wrong k value for oct(symmetric) key";e+='"kty":"'+t.kty+'",',e+='"k":"'+t.k+'"}'}var n=At(e);return yt(ut.crypto.Util.hashHex(n,"sha256"))},ut.jws.IntDate={},ut.jws.IntDate.get=function(t){var e=ut.jws.IntDate,n=e.getNow,r=e.getZulu;if("now"==t)return n();if("now + 1hour"==t)return n()+3600;if("now + 1day"==t)return n()+86400;if("now + 1month"==t)return n()+2592e3;if("now + 1year"==t)return n()+31536e3;if(t.match(/Z$/))return r(t);if(t.match(/^[0-9]+$/))return parseInt(t);throw"unsupported format: "+t},ut.jws.IntDate.getZulu=function(t){return It(t)},ut.jws.IntDate.getNow=function(){return~~(new Date/1e3)},ut.jws.IntDate.intDate2UTCString=function(t){return new Date(1e3*t).toUTCString()},ut.jws.IntDate.intDate2Zulu=function(t){var e=new Date(1e3*t);return("0000"+e.getUTCFullYear()).slice(-4)+("00"+(e.getUTCMonth()+1)).slice(-2)+("00"+e.getUTCDate()).slice(-2)+("00"+e.getUTCHours()).slice(-2)+("00"+e.getUTCMinutes()).slice(-2)+("00"+e.getUTCSeconds()).slice(-2)+"Z"},void 0!==ut&&ut||(ut={}),void 0!==ut.jws&&ut.jws||(ut.jws={}),ut.jws.JWSJS=function(){var t=ut.jws.JWS,e=t.readSafeJSONString;this.aHeader=[],this.sPayload="",this.aSignature=[],this.init=function(){this.aHeader=[],this.sPayload=void 0,this.aSignature=[]},this.initWithJWS=function(t){this.init();var e=t.split(".");if(3!=e.length)throw"malformed input JWS";this.aHeader.push(e[0]),this.sPayload=e[1],this.aSignature.push(e[2])},this.addSignature=function(t,e,n,r){if(void 0===this.sPayload||null===this.sPayload)throw"there's no JSON-JS signature to add.";var i=this.aHeader.length;if(this.aHeader.length!=this.aSignature.length)throw"aHeader.length != aSignature.length";try{var o=ut.jws.JWS.sign(t,e,this.sPayload,n,r).split(".");o[0],o[2];this.aHeader.push(o[0]),this.aSignature.push(o[2])}catch(t){throw this.aHeader.length>i&&this.aHeader.pop(),this.aSignature.length>i&&this.aSignature.pop(),"addSignature failed: "+t}},this.verifyAll=function(t){if(this.aHeader.length!==t.length||this.aSignature.length!==t.length)return!1;for(var e=0;e<t.length;e++){var n=t[e];if(2!==n.length)return!1;if(!1===this.verifyNth(e,n[0],n[1]))return!1}return!0},this.verifyNth=function(e,n,r){if(this.aHeader.length<=e||this.aSignature.length<=e)return!1;var i=this.aHeader[e],o=this.aSignature[e],s=i+"."+this.sPayload+"."+o,a=!1;try{a=t.verify(s,n,r)}catch(t){return!1}return a},this.readJWSJS=function(t){if("string"==typeof t){var n=e(t);if(null==n)throw"argument is not safe JSON object string";this.aHeader=n.headers,this.sPayload=n.payload,this.aSignature=n.signatures}else try{if(!(t.headers.length>0))throw"malformed header";if(this.aHeader=t.headers,"string"!=typeof t.payload)throw"malformed signatures";if(this.sPayload=t.payload,!(t.signatures.length>0))throw"malformed signatures";this.aSignature=t.signatures}catch(t){throw"malformed JWS-JS JSON object: "+t}},this.getJSON=function(){return{headers:this.aHeader,payload:this.sPayload,signatures:this.aSignature}},this.isEmpty=function(){return 0==this.aHeader.length?1:0}},e.SecureRandom=Z,e.rng_seed_time=G,e.BigInteger=x,e.RSAKey=nt,e.ECDSA=ut.crypto.ECDSA,e.DSA=ut.crypto.DSA,e.Signature=ut.crypto.Signature,e.MessageDigest=ut.crypto.MessageDigest,e.Mac=ut.crypto.Mac,e.Cipher=ut.crypto.Cipher,e.KEYUTIL=Zt,e.ASN1HEX=ht,e.X509=re,e.X509CRL=function(t){var e=ut.lang.String.isHex,n=ht,r=n.getV,i=n.getTLV,o=n.getVbyList,s=n.getTLVbyList,a=n.getTLVbyListEx,u=n.getIdxbyList,l=n.getIdxbyListEx,c=n.getChildIdx,h=new re;this.hex=null,this.posSigAlg=null,this.posRevCert=null,this.parsed=null,this._setPos=function(){var t=u(this.hex,0,[0,0]),e=this.hex.substr(t,2);if("02"==e)this.posSigAlg=1;else{if("30"!=e)throw new Error("malformed 1st item of TBSCertList: "+e);this.posSigAlg=0}var n,r=u(this.hex,0,[0,this.posSigAlg+3]),i=this.hex.substr(r,2);if("17"==i||"18"==i)n=u(this.hex,0,[0,this.posSigAlg+4]),this.posRevCert=null,-1!=n&&"30"==this.hex.substr(n,2)&&(this.posRevCert=this.posSigAlg+4);else if("30"==i)this.posRevCert=this.posSigAlg+3;else{if("a0"!=i)throw new Error("malformed nextUpdate or revCert tag: "+i);this.posRevCert=null}},this.getVersion=function(){return 0==this.posSigAlg?null:parseInt(o(this.hex,0,[0,0],"02"),16)+1},this.getSignatureAlgorithmField=function(){var t=s(this.hex,0,[0,this.posSigAlg],"30");return h.getAlgorithmIdentifierName(t)},this.getIssuer=function(){return h.getX500Name(this.getIssuerHex())},this.getIssuerHex=function(){return s(this.hex,0,[0,this.posSigAlg+1],"30")},this.getThisUpdate=function(){var t=o(this.hex,0,[0,this.posSigAlg+2]);return result=Et(t)},this.getNextUpdate=function(){var t=u(this.hex,0,[0,this.posSigAlg+3]),e=this.hex.substr(t,2);return"17"!=e&&"18"!=e?null:Et(r(this.hex,t))},this.getRevCertArray=function(){if(null==this.posRevCert)return null;for(var t=[],e=u(this.hex,0,[0,this.posRevCert]),n=c(this.hex,e),r=0;r<n.length;r++){var o=i(this.hex,n[r]);t.push(this.getRevCert(o))}return t},this.getRevCert=function(t){var e={},n=c(t,0);return e.sn={hex:o(t,0,[0],"02")},e.date=Et(o(t,0,[1])),3==n.length&&(e.ext=h.getExtParamArray(s(t,0,[2]))),e},this.findRevCert=function(t){var e=new re(t).getSerialNumberHex();return this.findRevCertBySN(e)},this.findRevCertBySN=function(t){if(null==this.parsed&&this.getParam(),null==this.parsed.revcert)return null;for(var e=this.parsed.revcert,n=0;n<e.length;n++)if(t==e[n].sn.hex)return e[n];return null},this.getSignatureValueHex=function(){return o(this.hex,0,[2],"03",!0)},this.verifySignature=function(t){var e=this.getSignatureAlgorithmField(),n=this.getSignatureValueHex(),r=s(this.hex,0,[0],"30"),i=new ut.crypto.Signature({alg:e});return i.init(t),i.updateHex(r),i.verify(n)},this.getParam=function(t){var e={},n=this.getVersion();null!=n&&(e.version=n),e.sigalg=this.getSignatureAlgorithmField(),e.issuer=this.getIssuer(),e.thisupdate=this.getThisUpdate();var r=this.getNextUpdate();null!=r&&(e.nextupdate=r);var i=this.getRevCertArray();if(null!=i&&(e.revcert=i),-1!=l(this.hex,0,[0,"[0]"])){var o=a(this.hex,0,[0,"[0]",0]);e.ext=h.getExtParamArray(o)}return e.sighex=this.getSignatureValueHex(),this.parsed=e,"object"==typeof t&&(1==t.tbshex&&(e.tbshex=s(this.hex,0,[0])),1==t.nodnarray&&delete e.issuer.array),e},"string"==typeof t&&(e(t)?this.hex=t:t.match(/-----BEGIN X509 CRL/)&&(this.hex=Tt(t)),this._setPos())},e.CryptoJS=g,e.b64tohex=b,e.b64toBA=w,e.ECFieldElementFp=it,e.ECPointFp=ot,e.ECCurveFp=st,e.stoBA=ft,e.BAtos=pt,e.BAtohex=dt,e.stohex=gt,e.stob64=function(t){return y(gt(t))},e.stob64u=function(t){return vt(y(gt(t)))},e.b64utos=function(t){return pt(w(mt(t)))},e.b64tob64u=vt,e.b64utob64=mt,e.hex2b64=y,e.hextob64u=yt,e.b64utohex=bt,e.utf8tob64u=lt,e.b64utoutf8=ct,e.utf8tob64=function(t){return y(Dt($t(t)))},e.b64toutf8=function(t){return decodeURIComponent(Nt(b(t)))},e.utf8tohex=wt,e.hextoutf8=xt,e.hextorstr=Et,e.rstrtohex=At,e.hextob64=Ct,e.hextob64nl=Ft,e.b64nltohex=Pt,e.hextopem=kt,e.pemtohex=Tt,e.hextoArrayBuffer=function(t){if(t.length%2!=0)throw"input is not even length";if(null==t.match(/^[0-9A-Fa-f]+$/))throw"input is not hexadecimal";for(var e=new ArrayBuffer(t.length/2),n=new DataView(e),r=0;r<t.length/2;r++)n.setUint8(r,parseInt(t.substr(2*r,2),16));return e},e.ArrayBuffertohex=function(t){for(var e="",n=new DataView(t),r=0;r<t.byteLength;r++)e+=("00"+n.getUint8(r).toString(16)).slice(-2);return e},e.zulutomsec=_t,e.zulutosec=It,e.zulutodate=function(t){return new Date(_t(t))},e.datetozulu=function(t,e,n){var r,i=t.getUTCFullYear();if(e){if(i<1950||2049<i)throw"not proper year for UTCTime: "+i;r=(""+i).slice(-2)}else r=("000"+i).slice(-4);if(r+=("0"+(t.getUTCMonth()+1)).slice(-2),r+=("0"+t.getUTCDate()).slice(-2),r+=("0"+t.getUTCHours()).slice(-2),r+=("0"+t.getUTCMinutes()).slice(-2),r+=("0"+t.getUTCSeconds()).slice(-2),n){var o=t.getUTCMilliseconds();0!==o&&(r+="."+(o=(o=("00"+o).slice(-3)).replace(/0+$/g,"")))}return r+="Z"},e.uricmptohex=Dt,e.hextouricmp=Nt,e.ipv6tohex=Rt,e.hextoipv6=Ot,e.hextoip=jt,e.iptohex=Ht,e.ucs2hextoutf8=Mt,e.encodeURIComponentAll=$t,e.newline_toUnix=function(t){return t=t.replace(/\r\n/gm,"\n")},e.newline_toDos=function(t){return t=(t=t.replace(/\r\n/gm,"\n")).replace(/\n/gm,"\r\n")},e.hextoposhex=qt,e.intarystrtohex=function(t){t=(t=(t=t.replace(/^\s*\[\s*/,"")).replace(/\s*\]\s*$/,"")).replace(/\s*/g,"");try{return t.split(/,/).map((function(t,e,n){var r=parseInt(t);if(r<0||255<r)throw"integer not in range 0-255";return("00"+r.toString(16)).slice(-2)})).join("")}catch(t){throw"malformed integer array string: "+t}},e.strdiffidx=function(t,e){var n=t.length;t.length>e.length&&(n=e.length);for(var r=0;r<n;r++)if(t.charCodeAt(r)!=e.charCodeAt(r))return r;return t.length!=e.length?n:-1},e.oidtohex=Kt,e.hextooid=zt,e.strpad=Gt,e.bitstrtoint=Wt,e.inttobitstr=Yt,e.bitstrtobinstr=Xt,e.binstrtobitstr=function(t){if("string"!=typeof t)return null;if(null==t.match(/^[01]+$/))return null;try{return Yt(parseInt(t,2))}catch(t){return null}},e.isBase64URLDot=Vt,e.namearraytobinstr=Jt,e.extendClass=Qt,e.KJUR=ut,e.crypto=ut.crypto,e.asn1=ut.asn1,e.jws=ut.jws,e.lang=ut.lang}).call(e,n(297).Buffer)},function(t,e,n){"use strict";(function(t){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <http://feross.org>
 * @license  MIT
 */
var r=n(298),i=n(299),o=n(300);function s(){return u.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function a(t,e){if(s()<e)throw new RangeError("Invalid typed array length");return u.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e)).__proto__=u.prototype:(null===t&&(t=new u(e)),t.length=e),t}function u(t,e,n){if(!(u.TYPED_ARRAY_SUPPORT||this instanceof u))return new u(t,e,n);if("number"==typeof t){if("string"==typeof e)throw new Error("If encoding is specified then the first argument must be a string");return h(this,t)}return l(this,t,e,n)}function l(t,e,n,r){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer?function(t,e,n,r){if(e.byteLength,n<0||e.byteLength<n)throw new RangeError("'offset' is out of bounds");if(e.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");e=void 0===n&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,n):new Uint8Array(e,n,r);u.TYPED_ARRAY_SUPPORT?(t=e).__proto__=u.prototype:t=f(t,e);return t}(t,e,n,r):"string"==typeof e?function(t,e,n){"string"==typeof n&&""!==n||(n="utf8");if(!u.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|d(e,n),i=(t=a(t,r)).write(e,n);i!==r&&(t=t.slice(0,i));return t}(t,e,n):function(t,e){if(u.isBuffer(e)){var n=0|p(e.length);return 0===(t=a(t,n)).length||e.copy(t,0,0,n),t}if(e){if("undefined"!=typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!=typeof e.length||(r=e.length)!=r?a(t,0):f(t,e);if("Buffer"===e.type&&o(e.data))return f(t,e.data)}var r;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(t,e)}function c(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function h(t,e){if(c(e),t=a(t,e<0?0:0|p(e)),!u.TYPED_ARRAY_SUPPORT)for(var n=0;n<e;++n)t[n]=0;return t}function f(t,e){var n=e.length<0?0:0|p(e.length);t=a(t,n);for(var r=0;r<n;r+=1)t[r]=255&e[r];return t}function p(t){if(t>=s())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s().toString(16)+" bytes");return 0|t}function d(t,e){if(u.isBuffer(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!=typeof t&&(t=""+t);var n=t.length;if(0===n)return 0;for(var r=!1;;)switch(e){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return M(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return $(t).length;default:if(r)return M(t).length;e=(""+e).toLowerCase(),r=!0}}function g(t,e,n){var r=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return T(this,e,n);case"utf8":case"utf-8":return F(this,e,n);case"ascii":return P(this,e,n);case"latin1":case"binary":return k(this,e,n);case"base64":return C(this,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return _(this,e,n);default:if(r)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),r=!0}}function v(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function m(t,e,n,r,i){if(0===t.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=i?0:t.length-1),n<0&&(n=t.length+n),n>=t.length){if(i)return-1;n=t.length-1}else if(n<0){if(!i)return-1;n=0}if("string"==typeof e&&(e=u.from(e,r)),u.isBuffer(e))return 0===e.length?-1:y(t,e,n,r,i);if("number"==typeof e)return e&=255,u.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(t,e,n):Uint8Array.prototype.lastIndexOf.call(t,e,n):y(t,[e],n,r,i);throw new TypeError("val must be string, number or Buffer")}function y(t,e,n,r,i){var o,s=1,a=t.length,u=e.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(t.length<2||e.length<2)return-1;s=2,a/=2,u/=2,n/=2}function l(t,e){return 1===s?t[e]:t.readUInt16BE(e*s)}if(i){var c=-1;for(o=n;o<a;o++)if(l(t,o)===l(e,-1===c?0:o-c)){if(-1===c&&(c=o),o-c+1===u)return c*s}else-1!==c&&(o-=o-c),c=-1}else for(n+u>a&&(n=a-u),o=n;o>=0;o--){for(var h=!0,f=0;f<u;f++)if(l(t,o+f)!==l(e,f)){h=!1;break}if(h)return o}return-1}function b(t,e,n,r){n=Number(n)||0;var i=t.length-n;r?(r=Number(r))>i&&(r=i):r=i;var o=e.length;if(o%2!=0)throw new TypeError("Invalid hex string");r>o/2&&(r=o/2);for(var s=0;s<r;++s){var a=parseInt(e.substr(2*s,2),16);if(isNaN(a))return s;t[n+s]=a}return s}function w(t,e,n,r){return U(M(e,t.length-n),t,n,r)}function x(t,e,n,r){return U(function(t){for(var e=[],n=0;n<t.length;++n)e.push(255&t.charCodeAt(n));return e}(e),t,n,r)}function S(t,e,n,r){return x(t,e,n,r)}function E(t,e,n,r){return U($(e),t,n,r)}function A(t,e,n,r){return U(function(t,e){for(var n,r,i,o=[],s=0;s<t.length&&!((e-=2)<0);++s)n=t.charCodeAt(s),r=n>>8,i=n%256,o.push(i),o.push(r);return o}(e,t.length-n),t,n,r)}function C(t,e,n){return 0===e&&n===t.length?r.fromByteArray(t):r.fromByteArray(t.slice(e,n))}function F(t,e,n){n=Math.min(t.length,n);for(var r=[],i=e;i<n;){var o,s,a,u,l=t[i],c=null,h=l>239?4:l>223?3:l>191?2:1;if(i+h<=n)switch(h){case 1:l<128&&(c=l);break;case 2:128==(192&(o=t[i+1]))&&(u=(31&l)<<6|63&o)>127&&(c=u);break;case 3:o=t[i+1],s=t[i+2],128==(192&o)&&128==(192&s)&&(u=(15&l)<<12|(63&o)<<6|63&s)>2047&&(u<55296||u>57343)&&(c=u);break;case 4:o=t[i+1],s=t[i+2],a=t[i+3],128==(192&o)&&128==(192&s)&&128==(192&a)&&(u=(15&l)<<18|(63&o)<<12|(63&s)<<6|63&a)>65535&&u<1114112&&(c=u)}null===c?(c=65533,h=1):c>65535&&(c-=65536,r.push(c>>>10&1023|55296),c=56320|1023&c),r.push(c),i+=h}return function(t){var e=t.length;if(e<=4096)return String.fromCharCode.apply(String,t);var n="",r=0;for(;r<e;)n+=String.fromCharCode.apply(String,t.slice(r,r+=4096));return n}(r)}e.Buffer=u,e.SlowBuffer=function(t){+t!=t&&(t=0);return u.alloc(+t)},e.INSPECT_MAX_BYTES=50,u.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:function(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(t){return!1}}(),e.kMaxLength=s(),u.poolSize=8192,u._augment=function(t){return t.__proto__=u.prototype,t},u.from=function(t,e,n){return l(null,t,e,n)},u.TYPED_ARRAY_SUPPORT&&(u.prototype.__proto__=Uint8Array.prototype,u.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&u[Symbol.species]===u&&Object.defineProperty(u,Symbol.species,{value:null,configurable:!0})),u.alloc=function(t,e,n){return function(t,e,n,r){return c(e),e<=0?a(t,e):void 0!==n?"string"==typeof r?a(t,e).fill(n,r):a(t,e).fill(n):a(t,e)}(null,t,e,n)},u.allocUnsafe=function(t){return h(null,t)},u.allocUnsafeSlow=function(t){return h(null,t)},u.isBuffer=function(t){return!(null==t||!t._isBuffer)},u.compare=function(t,e){if(!u.isBuffer(t)||!u.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var n=t.length,r=e.length,i=0,o=Math.min(n,r);i<o;++i)if(t[i]!==e[i]){n=t[i],r=e[i];break}return n<r?-1:r<n?1:0},u.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(t,e){if(!o(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return u.alloc(0);var n;if(void 0===e)for(e=0,n=0;n<t.length;++n)e+=t[n].length;var r=u.allocUnsafe(e),i=0;for(n=0;n<t.length;++n){var s=t[n];if(!u.isBuffer(s))throw new TypeError('"list" argument must be an Array of Buffers');s.copy(r,i),i+=s.length}return r},u.byteLength=d,u.prototype._isBuffer=!0,u.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)v(this,e,e+1);return this},u.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)v(this,e,e+3),v(this,e+1,e+2);return this},u.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)v(this,e,e+7),v(this,e+1,e+6),v(this,e+2,e+5),v(this,e+3,e+4);return this},u.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?F(this,0,t):g.apply(this,arguments)},u.prototype.equals=function(t){if(!u.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===u.compare(this,t)},u.prototype.inspect=function(){var t="",n=e.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(t+=" ... ")),"<Buffer "+t+">"},u.prototype.compare=function(t,e,n,r,i){if(!u.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===n&&(n=t?t.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),e<0||n>t.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&e>=n)return 0;if(r>=i)return-1;if(e>=n)return 1;if(this===t)return 0;for(var o=(i>>>=0)-(r>>>=0),s=(n>>>=0)-(e>>>=0),a=Math.min(o,s),l=this.slice(r,i),c=t.slice(e,n),h=0;h<a;++h)if(l[h]!==c[h]){o=l[h],s=c[h];break}return o<s?-1:s<o?1:0},u.prototype.includes=function(t,e,n){return-1!==this.indexOf(t,e,n)},u.prototype.indexOf=function(t,e,n){return m(this,t,e,n,!0)},u.prototype.lastIndexOf=function(t,e,n){return m(this,t,e,n,!1)},u.prototype.write=function(t,e,n,r){if(void 0===e)r="utf8",n=this.length,e=0;else if(void 0===n&&"string"==typeof e)r=e,n=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-e;if((void 0===n||n>i)&&(n=i),t.length>0&&(n<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var o=!1;;)switch(r){case"hex":return b(this,t,e,n);case"utf8":case"utf-8":return w(this,t,e,n);case"ascii":return x(this,t,e,n);case"latin1":case"binary":return S(this,t,e,n);case"base64":return E(this,t,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return A(this,t,e,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function P(t,e,n){var r="";n=Math.min(t.length,n);for(var i=e;i<n;++i)r+=String.fromCharCode(127&t[i]);return r}function k(t,e,n){var r="";n=Math.min(t.length,n);for(var i=e;i<n;++i)r+=String.fromCharCode(t[i]);return r}function T(t,e,n){var r=t.length;(!e||e<0)&&(e=0),(!n||n<0||n>r)&&(n=r);for(var i="",o=e;o<n;++o)i+=L(t[o]);return i}function _(t,e,n){for(var r=t.slice(e,n),i="",o=0;o<r.length;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function I(t,e,n){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>n)throw new RangeError("Trying to access beyond buffer length")}function D(t,e,n,r,i,o){if(!u.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<o)throw new RangeError('"value" argument is out of bounds');if(n+r>t.length)throw new RangeError("Index out of range")}function N(t,e,n,r){e<0&&(e=65535+e+1);for(var i=0,o=Math.min(t.length-n,2);i<o;++i)t[n+i]=(e&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function R(t,e,n,r){e<0&&(e=4294967295+e+1);for(var i=0,o=Math.min(t.length-n,4);i<o;++i)t[n+i]=e>>>8*(r?i:3-i)&255}function O(t,e,n,r,i,o){if(n+r>t.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function j(t,e,n,r,o){return o||O(t,0,n,4),i.write(t,e,n,r,23,4),n+4}function B(t,e,n,r,o){return o||O(t,0,n,8),i.write(t,e,n,r,52,8),n+8}u.prototype.slice=function(t,e){var n,r=this.length;if((t=~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),(e=void 0===e?r:~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),e<t&&(e=t),u.TYPED_ARRAY_SUPPORT)(n=this.subarray(t,e)).__proto__=u.prototype;else{var i=e-t;n=new u(i,void 0);for(var o=0;o<i;++o)n[o]=this[o+t]}return n},u.prototype.readUIntLE=function(t,e,n){t|=0,e|=0,n||I(t,e,this.length);for(var r=this[t],i=1,o=0;++o<e&&(i*=256);)r+=this[t+o]*i;return r},u.prototype.readUIntBE=function(t,e,n){t|=0,e|=0,n||I(t,e,this.length);for(var r=this[t+--e],i=1;e>0&&(i*=256);)r+=this[t+--e]*i;return r},u.prototype.readUInt8=function(t,e){return e||I(t,1,this.length),this[t]},u.prototype.readUInt16LE=function(t,e){return e||I(t,2,this.length),this[t]|this[t+1]<<8},u.prototype.readUInt16BE=function(t,e){return e||I(t,2,this.length),this[t]<<8|this[t+1]},u.prototype.readUInt32LE=function(t,e){return e||I(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},u.prototype.readUInt32BE=function(t,e){return e||I(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},u.prototype.readIntLE=function(t,e,n){t|=0,e|=0,n||I(t,e,this.length);for(var r=this[t],i=1,o=0;++o<e&&(i*=256);)r+=this[t+o]*i;return r>=(i*=128)&&(r-=Math.pow(2,8*e)),r},u.prototype.readIntBE=function(t,e,n){t|=0,e|=0,n||I(t,e,this.length);for(var r=e,i=1,o=this[t+--r];r>0&&(i*=256);)o+=this[t+--r]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*e)),o},u.prototype.readInt8=function(t,e){return e||I(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},u.prototype.readInt16LE=function(t,e){e||I(t,2,this.length);var n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt16BE=function(t,e){e||I(t,2,this.length);var n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt32LE=function(t,e){return e||I(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},u.prototype.readInt32BE=function(t,e){return e||I(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},u.prototype.readFloatLE=function(t,e){return e||I(t,4,this.length),i.read(this,t,!0,23,4)},u.prototype.readFloatBE=function(t,e){return e||I(t,4,this.length),i.read(this,t,!1,23,4)},u.prototype.readDoubleLE=function(t,e){return e||I(t,8,this.length),i.read(this,t,!0,52,8)},u.prototype.readDoubleBE=function(t,e){return e||I(t,8,this.length),i.read(this,t,!1,52,8)},u.prototype.writeUIntLE=function(t,e,n,r){(t=+t,e|=0,n|=0,r)||D(this,t,e,n,Math.pow(2,8*n)-1,0);var i=1,o=0;for(this[e]=255&t;++o<n&&(i*=256);)this[e+o]=t/i&255;return e+n},u.prototype.writeUIntBE=function(t,e,n,r){(t=+t,e|=0,n|=0,r)||D(this,t,e,n,Math.pow(2,8*n)-1,0);var i=n-1,o=1;for(this[e+i]=255&t;--i>=0&&(o*=256);)this[e+i]=t/o&255;return e+n},u.prototype.writeUInt8=function(t,e,n){return t=+t,e|=0,n||D(this,t,e,1,255,0),u.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},u.prototype.writeUInt16LE=function(t,e,n){return t=+t,e|=0,n||D(this,t,e,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):N(this,t,e,!0),e+2},u.prototype.writeUInt16BE=function(t,e,n){return t=+t,e|=0,n||D(this,t,e,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):N(this,t,e,!1),e+2},u.prototype.writeUInt32LE=function(t,e,n){return t=+t,e|=0,n||D(this,t,e,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):R(this,t,e,!0),e+4},u.prototype.writeUInt32BE=function(t,e,n){return t=+t,e|=0,n||D(this,t,e,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):R(this,t,e,!1),e+4},u.prototype.writeIntLE=function(t,e,n,r){if(t=+t,e|=0,!r){var i=Math.pow(2,8*n-1);D(this,t,e,n,i-1,-i)}var o=0,s=1,a=0;for(this[e]=255&t;++o<n&&(s*=256);)t<0&&0===a&&0!==this[e+o-1]&&(a=1),this[e+o]=(t/s>>0)-a&255;return e+n},u.prototype.writeIntBE=function(t,e,n,r){if(t=+t,e|=0,!r){var i=Math.pow(2,8*n-1);D(this,t,e,n,i-1,-i)}var o=n-1,s=1,a=0;for(this[e+o]=255&t;--o>=0&&(s*=256);)t<0&&0===a&&0!==this[e+o+1]&&(a=1),this[e+o]=(t/s>>0)-a&255;return e+n},u.prototype.writeInt8=function(t,e,n){return t=+t,e|=0,n||D(this,t,e,1,127,-128),u.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},u.prototype.writeInt16LE=function(t,e,n){return t=+t,e|=0,n||D(this,t,e,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):N(this,t,e,!0),e+2},u.prototype.writeInt16BE=function(t,e,n){return t=+t,e|=0,n||D(this,t,e,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):N(this,t,e,!1),e+2},u.prototype.writeInt32LE=function(t,e,n){return t=+t,e|=0,n||D(this,t,e,4,2147483647,-2147483648),u.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):R(this,t,e,!0),e+4},u.prototype.writeInt32BE=function(t,e,n){return t=+t,e|=0,n||D(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):R(this,t,e,!1),e+4},u.prototype.writeFloatLE=function(t,e,n){return j(this,t,e,!0,n)},u.prototype.writeFloatBE=function(t,e,n){return j(this,t,e,!1,n)},u.prototype.writeDoubleLE=function(t,e,n){return B(this,t,e,!0,n)},u.prototype.writeDoubleBE=function(t,e,n){return B(this,t,e,!1,n)},u.prototype.copy=function(t,e,n,r){if(n||(n=0),r||0===r||(r=this.length),e>=t.length&&(e=t.length),e||(e=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),t.length-e<r-n&&(r=t.length-e+n);var i,o=r-n;if(this===t&&n<e&&e<r)for(i=o-1;i>=0;--i)t[i+e]=this[i+n];else if(o<1e3||!u.TYPED_ARRAY_SUPPORT)for(i=0;i<o;++i)t[i+e]=this[i+n];else Uint8Array.prototype.set.call(t,this.subarray(n,n+o),e);return o},u.prototype.fill=function(t,e,n,r){if("string"==typeof t){if("string"==typeof e?(r=e,e=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),1===t.length){var i=t.charCodeAt(0);i<256&&(t=i)}if(void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!u.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof t&&(t&=255);if(e<0||this.length<e||this.length<n)throw new RangeError("Out of range index");if(n<=e)return this;var o;if(e>>>=0,n=void 0===n?this.length:n>>>0,t||(t=0),"number"==typeof t)for(o=e;o<n;++o)this[o]=t;else{var s=u.isBuffer(t)?t:M(new u(t,r).toString()),a=s.length;for(o=0;o<n-e;++o)this[o+e]=s[o%a]}return this};var H=/[^+\/0-9A-Za-z-_]/g;function L(t){return t<16?"0"+t.toString(16):t.toString(16)}function M(t,e){var n;e=e||1/0;for(var r=t.length,i=null,o=[],s=0;s<r;++s){if((n=t.charCodeAt(s))>55295&&n<57344){if(!i){if(n>56319){(e-=3)>-1&&o.push(239,191,189);continue}if(s+1===r){(e-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(e-=3)>-1&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(e-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((e-=1)<0)break;o.push(n)}else if(n<2048){if((e-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((e-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function $(t){return r.toByteArray(function(t){if((t=function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}(t).replace(H,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function U(t,e,n,r){for(var i=0;i<r&&!(i+n>=e.length||i>=t.length);++i)e[i+n]=t[i];return i}}).call(e,n(203))},function(t,e,n){"use strict";e.byteLength=function(t){var e=l(t),n=e[0],r=e[1];return 3*(n+r)/4-r},e.toByteArray=function(t){var e,n,r=l(t),s=r[0],a=r[1],u=new o(function(t,e,n){return 3*(e+n)/4-n}(0,s,a)),c=0,h=a>0?s-4:s;for(n=0;n<h;n+=4)e=i[t.charCodeAt(n)]<<18|i[t.charCodeAt(n+1)]<<12|i[t.charCodeAt(n+2)]<<6|i[t.charCodeAt(n+3)],u[c++]=e>>16&255,u[c++]=e>>8&255,u[c++]=255&e;2===a&&(e=i[t.charCodeAt(n)]<<2|i[t.charCodeAt(n+1)]>>4,u[c++]=255&e);1===a&&(e=i[t.charCodeAt(n)]<<10|i[t.charCodeAt(n+1)]<<4|i[t.charCodeAt(n+2)]>>2,u[c++]=e>>8&255,u[c++]=255&e);return u},e.fromByteArray=function(t){for(var e,n=t.length,i=n%3,o=[],s=0,a=n-i;s<a;s+=16383)o.push(c(t,s,s+16383>a?a:s+16383));1===i?(e=t[n-1],o.push(r[e>>2]+r[e<<4&63]+"==")):2===i&&(e=(t[n-2]<<8)+t[n-1],o.push(r[e>>10]+r[e>>4&63]+r[e<<2&63]+"="));return o.join("")};for(var r=[],i=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0,u=s.length;a<u;++a)r[a]=s[a],i[s.charCodeAt(a)]=a;function l(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");return-1===n&&(n=e),[n,n===e?0:4-n%4]}function c(t,e,n){for(var i,o,s=[],a=e;a<n;a+=3)i=(t[a]<<16&16711680)+(t[a+1]<<8&65280)+(255&t[a+2]),s.push(r[(o=i)>>18&63]+r[o>>12&63]+r[o>>6&63]+r[63&o]);return s.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},function(t,e){e.read=function(t,e,n,r,i){var o,s,a=8*i-r-1,u=(1<<a)-1,l=u>>1,c=-7,h=n?i-1:0,f=n?-1:1,p=t[e+h];for(h+=f,o=p&(1<<-c)-1,p>>=-c,c+=a;c>0;o=256*o+t[e+h],h+=f,c-=8);for(s=o&(1<<-c)-1,o>>=-c,c+=r;c>0;s=256*s+t[e+h],h+=f,c-=8);if(0===o)o=1-l;else{if(o===u)return s?NaN:1/0*(p?-1:1);s+=Math.pow(2,r),o-=l}return(p?-1:1)*s*Math.pow(2,o-r)},e.write=function(t,e,n,r,i,o){var s,a,u,l=8*o-i-1,c=(1<<l)-1,h=c>>1,f=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,p=r?0:o-1,d=r?1:-1,g=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,s=c):(s=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-s))<1&&(s--,u*=2),(e+=s+h>=1?f/u:f*Math.pow(2,1-h))*u>=2&&(s++,u/=2),s+h>=c?(a=0,s=c):s+h>=1?(a=(e*u-1)*Math.pow(2,i),s+=h):(a=e*Math.pow(2,h-1)*Math.pow(2,i),s=0));i>=8;t[n+p]=255&a,p+=d,a/=256,i-=8);for(s=s<<i|a,l+=i;l>0;t[n+p]=255&s,p+=d,s/=256,l-=8);t[n+p-d]|=128*g}},function(t,e){var n={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==n.call(t)}},function(t,e,n){"use strict";!function(t){t.fn.serializeObject=function(){var e={};return t.each(t.map(this.serializeArray(),(function(e){return e.name=t.camelCase(e.name),e})),(function(t,n){var r=e[n.name];e[n.name]=null!=r?r.push?r.push(n.value):[r,n.value]:n.value})),e}}(jQuery)},function(t,e,n){"use strict";var r,i,o,s=n(6);(o=s)&&o.__esModule;var a,u=n(8);a=function(t){var e=t;e.ajaxSetup({type:"POST",timeout:2e4,wrongmsg:function(t){var n=e.trim(e.G.mergeServerMessage(t.message));n&&u&&(u.PopOut.alert('<div class="prompt prompt-fail"><h3>'+n+"</h3></div>"),e({}).delay(1500).queue((function(){u.PopOut.closeMask()})))},errormsg:function(){u&&(u.PopOut.alert('<div class="prompt prompt-fail"><h3>网络出问题了，请稍后再试</h3></div>'),e({}).delay(1500).queue((function(){u.PopOut.closeMask()})))},success:function(t,n,r){if(-1==e.inArray("html",this.dataTypes)){var i=e.isPlainObject(t)?t:e.parseJSON(t);if(i)if(i.success||1==i.status)e.isFunction(this.mysuccess)&&this.mysuccess(i,t);else{e.isFunction(this.myfailure)?this.myfailure(i,t):this.wrongmsg(i);var o=e.G.mergeServerMessage(i.message);o&&e.G.gaq("/_trc/Error/ajax/response_"+o+"_"+this.url)}else e.G.gaq("/_trc/Error/ajax/json_parse_fail_"+this.url)}},error:function(t,n){e.G.gaq("/_trc/Error/ajax/status_"+n+"_"+(this.url?this.url:"null_"+window.location.href)),e.isFunction(this.myerror)&&this.myerror(t,n)}})},r=[n(0)],void 0===(i=function(t){return a(t)}.apply(e,r))||(t.exports=i)},function(t,e,n){"use strict";var r=o(n(304)),i=o(n(74));function o(t){return t&&t.__esModule?t:{default:t}}var s=n(0);n(322),n(323),n(48);var a=n(8),u=n(191),l=(n(192),n(324)),c=n(144),h=n(327);n(328),n(227),n(46),s((function(){s(".dt-has-menu,#dt-nav").hasMenu(),s("#dt-login,#dt-login-life").click((function(){a.PopOut.login()}));var t=s("#dt-account-avatar"),e=t.data("src");t.attr("src",DtTools.dtImageTrans(e,!0,100,100,"c")),s(".dt-add-btn").click((function(t){USER.bindPhone?(window.type="normal",s.SGColl.init({type:"upload"})):s.SGBindPhone.pop(window.location.href)})),s("#mynavtools-src").click((function(t){if(!USER.bindPhone){t.preventDefault(),t.stopPropagation();var e=s(this);s.SGBindPhone.pop(e.attr("href"))}})),u(),l(),c(),h(),s.browser.msie&&"6.0"===s.browser.version||s("#header-wrap").sidepop({id:"pnav-header",width:"100%",height:65,scroll:1,baseline:"top",bias:0,seat:!0,isFixed:!0,zIndex:998,btnset:0}),s("#dt-nav-content").on("a","mousedown",(function(t){var e=s(this).text();s.G.gaq("/_trc/Nav/_/cate_link_"+e)})),s("#dt-search").find("form").submit((function(t){var e=s("#kw").val();!function(t){var e=window.localStorage.getItem("search_history");e?((e=e.split(",")).unshift(t),(e=[].concat((0,i.default)(new r.default(e))).filter((function(t,e){if(e<10&&""!=t)return t}))).join(",")):e=t;window.localStorage.setItem("search_history",e)}(e),s.G.gaq("/_trc/Nav/_/search_submit"),0===window.location.pathname.indexOf("/category/")&&s.G.gaq("/_trc/Nav/search/cate_"+window.location.pathname+"_"+e),0===window.location.pathname.indexOf("/shopping/")&&s.G.gaq("/_trc/Nav/search/shop_"+window.location.pathname+"_"+e)}))}))},function(t,e,n){t.exports={default:n(305),__esModule:!0}},function(t,e,n){n(138),n(70),n(86),n(306),n(312),n(315),n(317),t.exports=n(7).Set},function(t,e,n){"use strict";var r=n(307),i=n(216);t.exports=n(308)("Set",(function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}}),{add:function(t){return r.def(i(this,"Set"),t=0===t?0:t,t)}},r)},function(t,e,n){"use strict";var r=n(44).f,i=n(45),o=n(142),s=n(55),a=n(139),u=n(89),l=n(127),c=n(197),h=n(211),f=n(37),p=n(87).fastKey,d=n(216),g=f?"_s":"size",v=function(t,e){var n,r=p(e);if("F"!==r)return t._i[r];for(n=t._f;n;n=n.n)if(n.k==e)return n};t.exports={getConstructor:function(t,e,n,l){var c=t((function(t,r){a(t,c,e,"_i"),t._t=e,t._i=i(null),t._f=void 0,t._l=void 0,t[g]=0,null!=r&&u(r,n,t[l],t)}));return o(c.prototype,{clear:function(){for(var t=d(this,e),n=t._i,r=t._f;r;r=r.n)r.r=!0,r.p&&(r.p=r.p.n=void 0),delete n[r.i];t._f=t._l=void 0,t[g]=0},delete:function(t){var n=d(this,e),r=v(n,t);if(r){var i=r.n,o=r.p;delete n._i[r.i],r.r=!0,o&&(o.n=i),i&&(i.p=o),n._f==r&&(n._f=i),n._l==r&&(n._l=o),n[g]--}return!!r},forEach:function(t){d(this,e);for(var n,r=s(t,arguments.length>1?arguments[1]:void 0,3);n=n?n.n:this._f;)for(r(n.v,n.k,this);n&&n.r;)n=n.p},has:function(t){return!!v(d(this,e),t)}}),f&&r(c.prototype,"size",{get:function(){return d(this,e)[g]}}),c},def:function(t,e,n){var r,i,o=v(t,e);return o?o.v=n:(t._l=o={i:i=p(e,!0),k:e,v:n,p:r=t._l,n:void 0,r:!1},t._f||(t._f=o),r&&(r.n=o),t[g]++,"F"!==i&&(t._i[i]=o)),t},getEntry:v,setStrong:function(t,e,n){l(t,e,(function(t,n){this._t=d(t,e),this._k=n,this._l=void 0}),(function(){for(var t=this._k,e=this._l;e&&e.r;)e=e.p;return this._t&&(this._l=e=e?e.n:this._t._f)?c(0,"keys"==t?e.k:"values"==t?e.v:[e.k,e.v]):(this._t=void 0,c(1))}),n?"entries":"values",!n,!0),h(e)}}},function(t,e,n){"use strict";var r=n(20),i=n(11),o=n(87),s=n(61),a=n(56),u=n(142),l=n(89),c=n(139),h=n(42),f=n(85),p=n(44).f,d=n(309)(0),g=n(37);t.exports=function(t,e,n,v,m,y){var b=r[t],w=b,x=m?"set":"add",S=w&&w.prototype,E={};return g&&"function"==typeof w&&(y||S.forEach&&!s((function(){(new w).entries().next()})))?(w=e((function(e,n){c(e,w,t,"_c"),e._c=new b,null!=n&&l(n,m,e[x],e)})),d("add,clear,delete,forEach,get,has,set,keys,values,entries,toJSON".split(","),(function(t){var e="add"==t||"set"==t;!(t in S)||y&&"clear"==t||a(w.prototype,t,(function(n,r){if(c(this,w,t),!e&&y&&!h(n))return"get"==t&&void 0;var i=this._c[t](0===n?0:n,r);return e?this:i}))})),y||p(w.prototype,"size",{get:function(){return this._c.size}})):(w=v.getConstructor(e,t,m,x),u(w.prototype,n),o.NEED=!0),f(w,t),E[t]=w,i(i.G+i.W+i.F,E),y||v.setStrong(w,t,m),w}},function(t,e,n){var r=n(55),i=n(131),o=n(73),s=n(105),a=n(310);t.exports=function(t,e){var n=1==t,u=2==t,l=3==t,c=4==t,h=6==t,f=5==t||h,p=e||a;return function(e,a,d){for(var g,v,m=o(e),y=i(m),b=r(a,d,3),w=s(y.length),x=0,S=n?p(e,w):u?p(e,0):void 0;w>x;x++)if((f||x in y)&&(v=b(g=y[x],x,m),t))if(n)S[x]=v;else if(v)switch(t){case 3:return!0;case 5:return g;case 6:return x;case 2:S.push(g)}else if(c)return!1;return h?-1:l||c?c:S}}},function(t,e,n){var r=n(311);t.exports=function(t,e){return new(r(t))(e)}},function(t,e,n){var r=n(42),i=n(198),o=n(21)("species");t.exports=function(t){var e;return i(t)&&("function"!=typeof(e=t.constructor)||e!==Array&&!i(e.prototype)||(e=void 0),r(e)&&null===(e=e[o])&&(e=void 0)),void 0===e?Array:e}},function(t,e,n){var r=n(11);r(r.P+r.R,"Set",{toJSON:n(313)("Set")})},function(t,e,n){var r=n(109),i=n(314);t.exports=function(t){return function(){if(r(this)!=t)throw TypeError(t+"#toJSON isn't generic");return i(this)}}},function(t,e,n){var r=n(89);t.exports=function(t,e){var n=[];return r(t,!1,n.push,n,e),n}},function(t,e,n){n(316)("Set")},function(t,e,n){"use strict";var r=n(11);t.exports=function(t){r(r.S,t,{of:function(){for(var t=arguments.length,e=new Array(t);t--;)e[t]=arguments[t];return new this(e)}})}},function(t,e,n){n(318)("Set")},function(t,e,n){"use strict";var r=n(11),i=n(82),o=n(55),s=n(89);t.exports=function(t){r(r.S,t,{from:function(t){var e,n,r,a,u=arguments[1];return i(this),(e=void 0!==u)&&i(u),null==t?new this:(n=[],e?(r=0,a=o(u,arguments[2],2),s(t,!1,(function(t){n.push(a(t,r++))}))):s(t,!1,n.push,n),new this(n))}})}},function(t,e,n){n(70),n(320),t.exports=n(7).Array.from},function(t,e,n){"use strict";var r=n(55),i=n(11),o=n(73),s=n(205),a=n(206),u=n(105),l=n(321),c=n(140);i(i.S+i.F*!n(212)((function(t){Array.from(t)})),"Array",{from:function(t){var e,n,i,h,f=o(t),p="function"==typeof this?this:Array,d=arguments.length,g=d>1?arguments[1]:void 0,v=void 0!==g,m=0,y=c(f);if(v&&(g=r(g,d>2?arguments[2]:void 0,2)),null==y||p==Array&&a(y))for(n=new p(e=u(f.length));e>m;m++)l(n,m,v?g(f[m],m):f[m]);else for(h=y.call(f),n=new p;!(i=h.next()).done;m++)l(n,m,v?s(h,g,[i.value,m],!0):i.value);return n.length=m,n}})},function(t,e,n){"use strict";var r=n(44),i=n(83);t.exports=function(t,e,n){e in t?r.f(t,e,i(0,n)):t[e]=n}},function(t,e,n){"use strict";$((function(){if(!["/login/","/landing/","/reg/","/reg/phone/","/reg/qq/","/reg/weixin/","/reg/sina/","/reg/connect/","/life_artist/guide/","/life_artist/article/","/404/","/","/life_artist/authentication/"].some((function(t){return window.location.pathname===t}))){if("true"!==window.sessionStorage.getItem("second_time")){window.sessionStorage.setItem("hasPop",!0),$.G.gaq("/_trc/loginpopup/auto");setTimeout((function(){$.G.getUSERID()||SUGAR.PopOut.login()}),2e3)}else window.sessionStorage.setItem("hasPop",!1);window.sessionStorage.setItem("second_time",!0)}}))},function(t,e,n){"use strict";!function(t){t.fn.hasMenu=function(e){e||(e=".dt-menu"),t(this).each((function(n,r){var i,o,s=t(r),a=s.find(e);s.mouseover((function(){clearTimeout(o),a.hasClass("disable")||(i=setTimeout((function(){a.length?a.addClass("show"):s.addClass("show")}),200))})).mouseout((function(){clearTimeout(i),a.hasClass("disable")||(o=setTimeout((function(){a.length?a.removeClass("show"):s.removeClass("show")}),400))}))}))}}(jQuery)},function(t,e,n){"use strict";t.exports=function(){var t,e=$("#dt-search form"),n=e.find("input#kw"),r=e.find("button[type=submit]"),i=$("#dt-search .dt-search-line"),o=e.find("input#type"),s=$("#dt-search-list"),a=["feed","feed","album","article","people"];n.on("keydown",(function(t){var e=t.keyCode,n=$("#dt-search .dt-search-line.hover"),r=i.length,o=0;if(n.length)var s=i.index(n[0]);else s=r-1;40!==e&&38!==e||(40===e?o=s===r-1?0:s+1:38===e&&(n.length||(s=0),o=0===s?r-1:s-1),n.removeClass("hover"),$(i[o]).addClass("hover").trigger("mouseover"))})),n.on("keyup paste",(function(t){var e=$(this).val();"paste"===t.type&&(window.clipboardData&&window.clipboardData.getData?e+=window.clipboardData.getData("Text"):e+=t.originalEvent.clipboardData.getData("Text")),e.length>0?(s.addClass("show"),e.length>10&&(console.log(e),e=e.cut(20)),s.find(".red").html(e)):s.removeClass("show")})).click((function(e){var n=$(this);n.val().length>0&&(clearTimeout(t),n.trigger("keyup"))})).blur((function(e){var n=$("#dt-search-list");t=setTimeout((function(){n.removeClass("show")}),400)})),i.mouseover((function(t){var n=$(".dt-search-line"),r=n.index(this),i=$("#navsch-onlypd");n.removeClass("hover"),$(this).addClass("hover"),i.length||(i=$('<input id="navsch-onlypd" type="hidden" name="buyable" value="1"/>')),1===r?e.append(i):$("#navsch-onlypd").remove(),o.val(a[r])})).mouseout((function(t){$(i[0]).trigger("mouseover")})).click((function(t){r.click()})),window.location.pathname.match(/^\/shopping\/.*$/)?(i.removeClass("hover"),$(i[1]).addClass("hover").trigger("mouseover")):(i.removeClass("hover"),$(i[0]).addClass("hover").trigger("mouseover"))}},function(t,e,n){"use strict";$((function(){var t=["DOMMouseScroll","mousewheel"];if($.event.fixHooks)for(var e=t.length;e;)$.event.fixHooks[t[--e]]=$.event.mouseHooks;function n(t){var e=t||window.event,n=[].slice.call(arguments,1),r=0,i=0,o=0;return(t=$.event.fix(e)).type="mousewheel",e.wheelDelta&&(r=e.wheelDelta/120),e.detail&&(r=-e.detail/3),o=r,void 0!==e.axis&&e.axis===e.HORIZONTAL_AXIS&&(o=0,i=-1*r),void 0!==e.wheelDeltaY&&(o=e.wheelDeltaY/120),void 0!==e.wheelDeltaX&&(i=-1*e.wheelDeltaX/120),n.unshift(t,r,i,o),($.event.dispatch||$.event.handle).apply(this,n)}$.event.special.mousewheel={setup:function(){if(this.addEventListener)for(var e=t.length;e;)this.addEventListener(t[--e],n,!1);else this.onmousewheel=n},teardown:function(){if(this.removeEventListener)for(var e=t.length;e;)this.removeEventListener(t[--e],n,!1);else this.onmousewheel=null}},$.fn.extend({mousewheel:function(t){return t?this.bind("mousewheel",t):this.trigger("mousewheel")},unmousewheel:function(t){return this.unbind("mousewheel",t)}})}))},function(t,e,n){"use strict";$((function(){$.fn.jScrollPane=function(t){function e(t,e){var n,r,i,o,s,a,u,l,c,h,f,p,d,g,v,m,y,b,w,x,S,E,A,C,F,P,k,T,_,I,D,N,R,O,j=this,B=!0,H=!0,L=!1,M=!1,U=t.clone(!1,!1).empty(),V=$.fn.mwheelIntent?"mwheelIntent.jsp":"mousewheel.jsp";function q(e){var x,B,H,L,M,U,at,ut,lt,ct,ht,ft,pt,dt,gt=!1,vt=!1;if(n=e,void 0===r)M=t.scrollTop(),U=t.scrollLeft(),t.css({overflow:"hidden",padding:0}),i=t.innerWidth()+R,o=t.innerHeight(),t.width(i),r=$('<div class="jspPane" />').css("padding",N).append(t.children()),s=$('<div class="jspContainer" />').css({width:i+"px",height:o+"px"}).append(r).appendTo(t);else{if(t.css("width",""),gt=n.stickToBottom&&((ut=u-o)>20&&ut-ot()<10),vt=n.stickToRight&&((at=a-i)>20&&at-it()<10),(L=t.innerWidth()+R!=i||t.outerHeight()!=o)&&(i=t.innerWidth()+R,o=t.innerHeight(),s.css({width:i+"px",height:o+"px"})),!L&&O==a&&r.outerHeight()==u)return void t.width(i);O=a,r.css("width",""),t.width(i),s.find(">.jspVerticalBar,>.jspHorizontalBar").remove().end()}r.css("overflow","auto"),a=e.contentWidth?e.contentWidth:r[0].scrollWidth,u=r[0].scrollHeight,r.css("overflow",""),h=(c=u/o)>1,(f=(l=a/i)>1)||h?(t.addClass("jspScrollable"),(x=n.maintainPosition&&(g||y))&&(B=it(),H=ot()),h&&(s.append($('<div class="jspVerticalBar" />').append($('<div class="jspCap jspCapTop" />'),$('<div class="jspTrack" />').append($('<div class="jspDrag" />').append($('<div class="jspDragTop" />'),$('<div class="jspDragBottom" />'))),$('<div class="jspCap jspCapBottom" />'))),b=s.find(">.jspVerticalBar"),w=b.find(">.jspTrack"),p=w.find(">.jspDrag"),n.showArrows&&(A=$('<a class="jspArrow jspArrowUp" />').bind("mousedown.jsp",W(0,-1)).bind("click.jsp",st),C=$('<a class="jspArrow jspArrowDown" />').bind("mousedown.jsp",W(0,1)).bind("click.jsp",st),n.arrowScrollOnHover&&(A.bind("mouseover.jsp",W(0,-1,A)),C.bind("mouseover.jsp",W(0,1,C))),G(w,n.verticalArrowPositions,A,C)),S=o,s.find(">.jspVerticalBar>.jspCap:visible,>.jspVerticalBar>.jspArrow").each((function(){S-=$(this).outerHeight()})),p.hover((function(){p.addClass("jspHover")}),(function(){p.removeClass("jspHover")})).bind("mousedown.jsp",(function(t){$("html").bind("dragstart.jsp selectstart.jsp",st),p.addClass("jspActive");var e=t.pageY-p.position().top;return $("html").bind("mousemove.jsp",(function(t){J(t.pageY-e,!1)})).bind("mouseup.jsp mouseleave.jsp",X),!1})),K()),f&&(s.append($('<div class="jspHorizontalBar" />').append($('<div class="jspCap jspCapLeft" />'),$('<div class="jspTrack" />').append($('<div class="jspDrag" />').append($('<div class="jspDragLeft" />'),$('<div class="jspDragRight" />'))),$('<div class="jspCap jspCapRight" />'))),F=s.find(">.jspHorizontalBar"),P=F.find(">.jspTrack"),v=P.find(">.jspDrag"),n.showArrows&&(_=$('<a class="jspArrow jspArrowLeft" />').bind("mousedown.jsp",W(-1,0)).bind("click.jsp",st),I=$('<a class="jspArrow jspArrowRight" />').bind("mousedown.jsp",W(1,0)).bind("click.jsp",st),n.arrowScrollOnHover&&(_.bind("mouseover.jsp",W(-1,0,_)),I.bind("mouseover.jsp",W(1,0,I))),G(P,n.horizontalArrowPositions,_,I)),v.hover((function(){v.addClass("jspHover")}),(function(){v.removeClass("jspHover")})).bind("mousedown.jsp",(function(t){$("html").bind("dragstart.jsp selectstart.jsp",st),v.addClass("jspActive");var e=t.pageX-v.position().left;return $("html").bind("mousemove.jsp",(function(t){Z(t.pageX-e,!1)})).bind("mouseup.jsp mouseleave.jsp",X),!1})),k=s.innerWidth(),z()),function(){if(f&&h){var t=P.outerHeight(),e=w.outerWidth();S-=t,$(F).find(">.jspCap:visible,>.jspArrow").each((function(){k+=$(this).outerWidth()})),k-=e,o-=e,i-=t,P.parent().append($('<div class="jspCorner" />').css("width",t+"px")),K(),z()}f&&r.width(s.outerWidth()-R+"px");u=r.outerHeight(),c=u/o,f&&((T=Math.ceil(1/l*k))>n.horizontalDragMaxWidth?T=n.horizontalDragMaxWidth:T<n.horizontalDragMinWidth&&(T=n.horizontalDragMinWidth),v.width(T+"px"),m=k-T,tt(y));h&&((E=Math.ceil(1/c*S))>n.verticalDragMaxHeight?E=n.verticalDragMaxHeight:E<n.verticalDragMinHeight&&(E=n.verticalDragMinHeight),p.height(E+"px"),d=S-E,Q(g))}(),x&&(nt(vt?a-i:B,!1),et(gt?u-o:H,!1)),r.find(":input,a").unbind("focus.jsp").bind("focus.jsp",(function(t){rt(t.target,!1)})),s.unbind(V).bind(V,(function(t,e,r,i){var o=y,s=g,a=t.deltaFactor||n.mouseWheelSpeed;return j.scrollBy(r*a,-i*a,!1),o==y&&s==g})),dt=!1,s.unbind("touchstart.jsp touchmove.jsp touchend.jsp click.jsp-touchclick").bind("touchstart.jsp",(function(t){var e=t.originalEvent.touches[0];lt=it(),ct=ot(),ht=e.pageX,ft=e.pageY,pt=!1,dt=!0})).bind("touchmove.jsp",(function(t){if(dt){var e=t.originalEvent.touches[0],n=y,r=g;return j.scrollTo(lt+ht-e.pageX,ct+ft-e.pageY),pt=pt||Math.abs(ht-e.pageX)>5||Math.abs(ft-e.pageY)>5,n==y&&r==g}})).bind("touchend.jsp",(function(t){dt=!1})).bind("click.jsp-touchclick",(function(t){if(pt)return pt=!1,!1})),n.enableKeyboardNavigation&&function(){var e,i,a=[];f&&a.push(F[0]),h&&a.push(b[0]),r.focus((function(){t.focus()})),t.attr("tabindex",0).unbind("keydown.jsp keypress.jsp").bind("keydown.jsp",(function(t){if(t.target===this||a.length&&$(t.target).closest(a).length){var n=y,r=g;switch(t.keyCode){case 40:case 38:case 34:case 32:case 33:case 39:case 37:e=t.keyCode,l();break;case 35:et(u-o),e=null;break;case 36:et(0),e=null}return!(i=t.keyCode==e&&n!=y||r!=g)}})).bind("keypress.jsp",(function(t){return t.keyCode==e&&l(),!i})),n.hideFocus?(t.css("outline","none"),"hideFocus"in s[0]&&t.attr("hideFocus",!0)):(t.css("outline",""),"hideFocus"in s[0]&&t.attr("hideFocus",!1));function l(){var t=y,r=g;switch(e){case 40:j.scrollByY(n.keyboardSpeed,!1);break;case 38:j.scrollByY(-n.keyboardSpeed,!1);break;case 34:case 32:j.scrollByY(o*n.scrollPagePercent,!1);break;case 33:j.scrollByY(-o*n.scrollPagePercent,!1);break;case 39:j.scrollByX(n.keyboardSpeed,!1);break;case 37:j.scrollByX(-n.keyboardSpeed,!1)}return i=t!=y||r!=g}}(),n.clickOnTrack&&function(){Y(),h&&w.bind("mousedown.jsp",(function(t){if(void 0===t.originalTarget||t.originalTarget==t.currentTarget){var e,r=$(this),i=r.offset(),s=t.pageY-i.top-g,a=!0,l=function t(){e&&clearTimeout(e),e=null,$(document).unbind("mouseup.jsp",t)};return function i(){var c=r.offset(),h=t.pageY-c.top-E/2,f=o*n.scrollPagePercent,p=d*f/(u-o);if(s<0)g-p>h?j.scrollByY(-f):J(h);else{if(!(s>0))return void l();g+p<h?j.scrollByY(f):J(h)}e=setTimeout(i,a?n.initialDelay:n.trackClickRepeatFreq),a=!1}(),$(document).bind("mouseup.jsp",l),!1}}));f&&P.bind("mousedown.jsp",(function(t){if(void 0===t.originalTarget||t.originalTarget==t.currentTarget){var e,r=$(this),o=r.offset(),s=t.pageX-o.left-y,u=!0,l=function t(){e&&clearTimeout(e),e=null,$(document).unbind("mouseup.jsp",t)};return function o(){var c=r.offset(),h=t.pageX-c.left-T/2,f=i*n.scrollPagePercent,p=m*f/(a-i);if(s<0)y-p>h?j.scrollByX(-f):Z(h);else{if(!(s>0))return void l();y+p<h?j.scrollByX(f):Z(h)}e=setTimeout(o,u?n.initialDelay:n.trackClickRepeatFreq),u=!1}(),$(document).bind("mouseup.jsp",l),!1}}))}(),function(){if(location.hash&&location.hash.length>1){var t,e,n=escape(location.hash.substr(1));try{t=$("#"+n+', a[name="'+n+'"]')}catch(t){return}t.length&&r.find(n)&&(0===s.scrollTop()?e=setInterval((function(){s.scrollTop()>0&&(rt(t,!0),$(document).scrollTop(s.position().top),clearInterval(e))}),50):(rt(t,!0),$(document).scrollTop(s.position().top)))}}(),n.hijackInternalLinks&&function(){if($(document.body).data("jspHijack"))return;$(document.body).data("jspHijack",!0),$(document.body).delegate("a[href*=#]","click",(function(t){var e,n,r,i,o,s=this.href.substr(0,this.href.indexOf("#")),a=location.href;if(-1!==location.href.indexOf("#")&&(a=location.href.substr(0,location.href.indexOf("#"))),s===a){e=escape(this.href.substr(this.href.indexOf("#")+1));try{n=$("#"+e+', a[name="'+e+'"]')}catch(t){return}n.length&&((r=n.closest(".jspScrollable")).data("jsp").scrollToElement(n,!0),r[0].scrollIntoView&&(i=$(window).scrollTop(),((o=n.offset().top)<i||o>i+$(window).height())&&r[0].scrollIntoView()),t.preventDefault())}}))}()):(t.removeClass("jspScrollable"),r.css({top:0,left:0,width:s.width()-R}),s.unbind(V),r.find(":input,a").unbind("focus.jsp"),t.attr("tabindex","-1").removeAttr("tabindex").unbind("keydown.jsp keypress.jsp"),Y()),n.autoReinitialise&&!D?D=setInterval((function(){q(n)}),n.autoReinitialiseDelay):!n.autoReinitialise&&D&&clearInterval(D),M&&t.scrollTop(0)&&et(M,!1),U&&t.scrollLeft(0)&&nt(U,!1),t.trigger("jsp-initialised",[f||h])}function K(){w.height(S+"px"),g=0,x=n.verticalGutter+w.outerWidth(),r.width(i-x-R);try{0===b.position().left&&r.css("margin-left",x+"px")}catch(t){}}function z(){s.find(">.jspHorizontalBar>.jspCap:visible,>.jspHorizontalBar>.jspArrow").each((function(){k-=$(this).outerWidth()})),P.width(k+"px"),y=0}function G(t,e,n,r){var i,o="before",s="after";"os"==e&&(e=/Mac/.test(navigator.platform)?"after":"split"),e==o?s=e:e==s&&(o=e,i=n,n=r,r=i),t[o](n)[s](r)}function W(t,e,r){return function(){return function(t,e,r,i){r=$(r).addClass("jspActive");var o,s,a=!0;(function r(){0!==t&&j.scrollByX(t*n.arrowButtonSpeed),0!==e&&j.scrollByY(e*n.arrowButtonSpeed),s=setTimeout(r,a?n.initialDelay:n.arrowRepeatFreq),a=!1})(),o=i?"mouseout.jsp":"mouseup.jsp",(i=i||$("html")).bind(o,(function(){r.removeClass("jspActive"),s&&clearTimeout(s),s=null,i.unbind(o)}))}(t,e,this,r),this.blur(),!1}}function Y(){P&&P.unbind("mousedown.jsp"),w&&w.unbind("mousedown.jsp")}function X(){$("html").unbind("dragstart.jsp selectstart.jsp mousemove.jsp mouseup.jsp mouseleave.jsp"),p&&p.removeClass("jspActive"),v&&v.removeClass("jspActive")}function J(t,e){h&&(t<0?t=0:t>d&&(t=d),void 0===e&&(e=n.animateScroll),e?j.animate(p,"top",t,Q):(p.css("top",t),Q(t)))}function Q(e){void 0===e&&(e=p.position().top),s.scrollTop(0);var i=0===(g=e),a=g==d,l=-(e/d)*(u-o);B==i&&L==a||(B=i,L=a,t.trigger("jsp-arrow-change",[B,L,H,M])),function(t,e){n.showArrows&&(A[t?"addClass":"removeClass"]("jspDisabled"),C[e?"addClass":"removeClass"]("jspDisabled"))}(i,a),r.css("top",l),t.trigger("jsp-scroll-y",[-l,i,a]).trigger("scroll")}function Z(t,e){f&&(t<0?t=0:t>m&&(t=m),void 0===e&&(e=n.animateScroll),e?j.animate(v,"left",t,tt):(v.css("left",t),tt(t)))}function tt(e){void 0===e&&(e=v.position().left),s.scrollTop(0);var o=0===(y=e),u=y==m,l=-(e/m)*(a-i);H==o&&M==u||(H=o,M=u,t.trigger("jsp-arrow-change",[B,L,H,M])),function(t,e){n.showArrows&&(_[t?"addClass":"removeClass"]("jspDisabled"),I[e?"addClass":"removeClass"]("jspDisabled"))}(o,u),r.css("left",l),t.trigger("jsp-scroll-x",[-l,o,u]).trigger("scroll")}function et(t,e){J(t/(u-o)*d,e)}function nt(t,e){Z(t/(a-i)*m,e)}function rt(t,e,r){var a,u,l,c,h,f,p,d,g,v=0,m=0;try{a=$(t)}catch(t){return}for(u=a.outerHeight(),l=a.outerWidth(),s.scrollTop(0),s.scrollLeft(0);!a.is(".jspPane");)if(v+=a.position().top,m+=a.position().left,a=a.offsetParent(),/^body|html$/i.test(a[0].nodeName))return;f=(c=ot())+o,v<c||e?d=v-n.horizontalGutter:v+u>f&&(d=v-o+u+n.horizontalGutter),isNaN(d)||et(d,r),p=(h=it())+i,m<h||e?g=m-n.horizontalGutter:m+l>p&&(g=m-i+l+n.horizontalGutter),isNaN(g)||nt(g,r)}function it(){return-r.position().left}function ot(){return-r.position().top}function st(){return!1}"border-box"===t.css("box-sizing")?(N=0,R=0):(N=t.css("paddingTop")+" "+t.css("paddingRight")+" "+t.css("paddingBottom")+" "+t.css("paddingLeft"),R=(parseInt(t.css("paddingLeft"),10)||0)+(parseInt(t.css("paddingRight"),10)||0)),$.extend(j,{reinitialise:function(t){q(t=$.extend({},n,t))},scrollToElement:function(t,e,n){rt(t,e,n)},scrollTo:function(t,e,n){nt(t,n),et(e,n)},scrollToX:function(t,e){nt(t,e)},scrollToY:function(t,e){et(t,e)},scrollToPercentX:function(t,e){nt(t*(a-i),e)},scrollToPercentY:function(t,e){et(t*(u-o),e)},scrollBy:function(t,e,n){j.scrollByX(t,n),j.scrollByY(e,n)},scrollByX:function(t,e){Z((it()+Math[t<0?"floor":"ceil"](t))/(a-i)*m,e)},scrollByY:function(t,e){J((ot()+Math[t<0?"floor":"ceil"](t))/(u-o)*d,e)},positionDragX:function(t,e){Z(t,e)},positionDragY:function(t,e){J(t,e)},animate:function(t,e,r,i){var o={};o[e]=r,t.animate(o,{duration:n.animateDuration,easing:n.animateEase,queue:!1,step:i})},getContentPositionX:function(){return it()},getContentPositionY:function(){return ot()},getContentWidth:function(){return a},getContentHeight:function(){return u},getPercentScrolledX:function(){return it()/(a-i)},getPercentScrolledY:function(){return ot()/(u-o)},getIsScrollableH:function(){return f},getIsScrollableV:function(){return h},getContentPane:function(){return r},scrollToBottom:function(t){J(d,t)},hijackInternalLinks:$.noop,destroy:function(){var e,n;e=ot(),n=it(),t.removeClass("jspScrollable").unbind(".jsp"),t.replaceWith(U.append(r.children())),U.scrollTop(e),U.scrollLeft(n),D&&clearInterval(D)}}),q(e)}return t=$.extend({},$.fn.jScrollPane.defaults,t),$.each(["arrowButtonSpeed","trackClickSpeed","keyboardSpeed"],(function(){t[this]=t[this]||t.speed})),this.each((function(){var n=$(this),r=n.data("jsp");r?r.reinitialise(t):($("script",n).filter('[type="text/javascript"],:not([type])').remove(),r=new e(n,t),n.data("jsp",r))}))},$.fn.jScrollPane.defaults={showArrows:!1,maintainPosition:!0,stickToBottom:!1,stickToRight:!1,clickOnTrack:!0,autoReinitialise:!1,autoReinitialiseDelay:500,verticalDragMinHeight:0,verticalDragMaxHeight:99999,horizontalDragMinWidth:0,horizontalDragMaxWidth:99999,contentWidth:void 0,animateScroll:!1,animateDuration:300,animateEase:"linear",hijackInternalLinks:!1,verticalGutter:4,horizontalGutter:4,mouseWheelSpeed:3,arrowButtonSpeed:0,arrowRepeatFreq:50,arrowScrollOnHover:!1,trackClickSpeed:0,trackClickRepeatFreq:70,verticalArrowPositions:"split",horizontalArrowPositions:"split",enableKeyboardNavigation:!0,hideFocus:!1,keyboardSpeed:0,initialDelay:300,speed:30,scrollPagePercent:.8}}))},function(t,e,n){"use strict";t.exports=function(){document.cookie="js=1"}},function(t,e,n){"use strict";var r=c(n(74)),i=c(n(64)),o=c(n(10)),s=c(n(76)),a=c(n(77)),u=n(5),l=c(n(219));n(145);function c(t){return t&&t.__esModule?t:{default:t}}var h=n(0);n(342),n(15);var f=n(58),p=n(222),d=n(343);n(224);var g,v,m,y,b,w,x,S,E,A,C,F,P,k,T,_,I,D,N,R,O,j,B,H,L,M,$,U=n(43),V=(n(1),n(344));n(57);window.type||(window.type="normal"),h.SGColl=(L={upload:"上传图片",fetch:"抓取网页图片"},M=[],$=[],{type:"upload",init:function(t,e){if(h.G.getUSERID()){if("function"!=typeof t&&(e=t,t=h.noop),O=t,e&&h.isPlainObject(e)&&(j=h.extend({},e)),j&&j.type&&(this.type=j.type),setTimeout((function(){"story"===type?h(".mask-body>.tt-s>span").text("图片电影"):"normal"===type&&h(".mask-body>.tt-s>span").text("上传图片")}),100),!this.inited&&(this.inited=!0,v=h("#sgcoll-up"),(g=h.G.store()).length||(g=h('<div id="win-house" class="h0"></div>').appendTo("body")),!v.length)){var n=function(t){U.keyupLenLimitForU(t.currentTarget,i,!0,!0,x)};if(v=h('<div id="sgcoll-up"><div id="sgcoll-fetch-in" class="dn clr"><div class="sgcoll-dragdr"><a href="/about/collectit/?from=postbg" target="_blank">使用堆糖收集工具，抓取图片更简单 &gt;</a></div><div class="sgcoll-drgbox"><div class="gray sgcoll-fetch-normal" id="sgcoll-fchk">将图片所在页面网址完整地粘贴到这里</div><form id="form-sgcoll-fetchpic" class="sgcoll-fetch-normal" action="/mblog/fetch/" method="post" target="_self"><input type="text" value="http://" autocomplete="off" class="ipt" name="url" id="sgcoll-fipt"><div class="tc"><a target="_self" href="javascript:;" class="abtn dib" id="sgcoll-fchab"><button type="submit"><u>确定</u></button></a></div></form><div id="sgcoll-fetching" class="l loading3 dn">正在抓取<br/><a id="sgcoll-fetch-cancel" class="lkl" href="javascript:;">取消</a></div></div></div><div id="sgcoll-up-in" class="dn clr"><div id="sgcoll-dropimgcov">拖拽图片到这里可直接上传</div>\n\n\n            <div id="sgcoll-dropimg" class="sgcoll-dbox"><a id="sgcoll-upbtn" href="javascript:;" class="abtn abtn-up dib sgcoll-up-normal"><u><i></i>多图上传</u></a><div id="sgcoll-up-mess" class="sgcoll-up-normal">图片需小于10M；如有来源，请注明</div></div></div><div id="sgcoll-uploaded" class="dn"><div id="sgcoll-upload">\n            <div class="mask-wrap"></div>\n            <form id="form-sgcoll-poststatus" action="/napi/blog/create/" method="post" target="_blank">\n              <input type="hidden" id="sgcoll-sourcetitle" name="source_title" value=""/>\n              <input type="hidden" id="sgcoll-sourcelink"  name="source_link" value=""/>\n              \x3c!-- 图片区域 --\x3e\n              <div id="sgcoll-pics">\n                <div class="sgcoll-add-img"></div>\n              </div>\n              <div id="sgcoll-panel">\n                \x3c!-- 专辑区域 --\x3e\n                <div class="sgcoll-album">\n                  <div id="sgcoll-albumsel" class="sgcoll-albumsel">\n                    <label>添加至专辑：</label>\n                    <input id="sgcoll-albumsel-v" type="text" name="album" value="" data-optional="1"/>\n                    <i class="icon-select"></i>\n                    <a class="sgcoll-shw" href="javascript:;"></a>\n                  </div>\n                </div>\n                \x3c!-- 输入框 --\x3e\n                <div class="sgcoll-cxa">\n                  <textarea name="content" class="txa" id="sgcoll-txa" data-optional="1"></textarea>\n                  <span class="sgcoll-wremain">还可输入<b id="sgcoll-rmn">300</b>字符</span>\n                  <label for="sgcoll-txa" id="sgcoll-txa-lb">填写准确的描述，会获得更多首页推荐机会呦～</label>\n                </div>\n                \x3c!-- 标签区域 --\x3e\n                <div class="sgcoll-tags-wrp">\n                  <div id="sgcoll-tags-add" class="da tag-sel-cnt tag-use-cnt clr">\n                    <input id="sgcoll-tags-inp" class="tag-edt-ipt" autocomplete="off" type="text" value="" maxlength="20" />\n                  </div>\n                  <label for="sgcoll-tags-inp" id="sgcoll-tags-lb"><i>&nbsp;</i>添加适合的标签，用逗号或回车分隔</label>\n                  <button class="dn" id="dopost-tags-reset" type="button" />\n                  <div class="tag-use-cnt tag-def-cnt da" id="sgcoll-tags-sel">\n                    <span id="sgcoll-tags-cls"><span>关闭</span></span>\n                    <span class="tag-use-desc">热门标签：</span>\n                  </div>\n                </div>\n                \x3c!-- 发布按钮 --\x3e\n                <div id="sgcoll-subarea" class="u-chk clr">\n                  <a class="abtn l" href="javascript:;" target="_self">\n                    <button id="sgcoll-abtnpost" type="submit"><u>发布</u></button>\n                  </a>\n                  <input type="checkbox" name="syncpost" class="chk s-sina dn" value="1" id="sgcoll-sync">\n                  <label for="sgcoll-sync" title="同步到新浪微博" class="s-sina dn" >同步</label>\n                  <div class="sgcoll-mbsite s-sina dn">新浪</div>\n                  <div id="sgcoll-poststat"></div>\n                </div>\n              </div>\n              <input id="sgcoll-tags-val" type="hidden" name="tags" value=""/>\n              <input type="hidden" name="source" value=""/>\n              <input type="hidden" value="" name="" id="sgcoll-imgcont" />\n              <input id="sgcoll-grpid" type="hidden" name="group" value/>\n            </form>\n          </div></div></div>\n            <form >\n              <input style="display: none;" id="story-atlas-input" type="file" multiple="multiple" />\n            </form>\n            ').appendTo(g),m=h("#form-sgcoll-fetchpic"),y=h("#sgcoll-fipt"),b=h("#sgcoll-pics"),h("#sgcoll-uploaded"),w=h("#sgcoll-txa"),S=h("#sgcoll-txa-lb"),x=h("#sgcoll-rmn"),E=h("#sgcoll-imgcont"),A=h("#sgcoll-tags-add"),C=h("#sgcoll-tags-val"),F=h("#sgcoll-tags-inp"),P=h("#sgcoll-tags-lb"),k=h("#sgcoll-tags-sel"),T=h("#sgcoll-tags-cls").find("span"),_=h("#dopost-tags-reset"),I=h("#sgcoll-albumsel"),D=h("#sgcoll-subarea"),N=h("#form-sgcoll-poststatus"),R=h("#sgcoll-abtnpost"),N.on("change",(function(){h("#story-atlas-input"),"normal"!==type&&type})),"undefined"!=typeof BIND_SITES&&BIND_SITES.sina?D.find(".s-sina").removeClass("dn"):D.find(".s-sina").remove(),this.resetType(this.type,!0),h.browser.webkit&&navigator.userAgent.toString().match("Chrome")&&window.File&&window.FileList){var r=h("#sgcoll-dropimg,#sgcoll-dropimgcov");r.bind("dragenter",(function(t){"Files"===t.originalEvent.dataTransfer.types.toString()&&(window.clearTimeout(r.data("timer")),r.css("backgroundPosition","0 -300px"),h("#sgcoll-dropimgcov").css("display","block"))})).bind("dragleave",(function(t){window.clearTimeout(r.data("timer")),r.eq(0).data("timer",window.setTimeout((function(){r.css("backgroundPosition","0 0"),h("#sgcoll-dropimgcov").css("display","none")}),100))})).bind("dragover",(function(t){t.preventDefault(),t.stopPropagation(),window.clearTimeout(r.data("timer"))})).bind("drop",(function(t){t.preventDefault(),t.stopPropagation(),h("#sgcoll-dropimgcov").css("display","none");var e=t.originalEvent.dataTransfer.files;e.length&&(h("#form-sgcoll-upic input[type=file]").get(0).files=e)}))}m.submit((function(t){t.preventDefault(),h.SGColl.doFetchPic()})),h("#sgcoll-fetch-cancel").click((function(t){t.preventDefault(),h.SGColl.resetFetch()})),y.focus((function(t){var e=this;h.browser.webkit?setTimeout((function(){e.select()}),10):e.select()})),document.body.ondrop=function(t){t.preventDefault(),t.stopPropagation()},H=h("#sgcoll-pics .sgcoll-add-img").Huploadify({uploader:"https://up.qbox.me",method:"post",auto:!1,fileTypeExts:"*.jpg;*.jpeg;*.gif;*.png;*.JPG;*.JPEG;*.GIF;*.PNG;",multi:!0,itemTemplate:'<div id="${fileID}" class="uploadify-queue-item"><div class="uploadify-progress"><span>上传中</span><div class="progress-wrap"><div class="uploadify-progress-bar"></div></div></div><div class="uploadify-thumbnail"><img src=""></div><div class="uploadify-fail"><i class="icon-fail"></i><span>上传失败</span><a href="javascript:void(0);" class="uploadbtn">重新上传</a></div><div class="uploadify-delete"><a href="javascript:void(0);" class="delfilebtn"><i class="icon-close"></i></a></div></div>',showUploadedPercent:!1,buttonText:"",fileSizeLimit:10240,type:"BLOG",onInit:function(){var t=h(".uploadify-queue");t.attr("id","sortable"),t.prependTo(b.find(".sgcoll-add-img")),h(".uploadify-button").appendTo(t)},onSelect:function(t){h("#sgcoll-up-in").addClass("dn"),h("#sgcoll-uploaded").removeClass("dn");var e=h(".uploadify-queue").find(".uploadify-queue-item").length;e<9&&b.find(".sgcoll-add-img .uploadify-button").show(),e>9&&d.cancel(t.index)},onUploadStart:(o=(0,a.default)(s.default.mark((function t(e,n){var r,i,o,a;return s.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=h("#fileupload_1_"+e.index),i=r.find(".uploadify-progress"),o=h(".uploadify-queue").find(".uploadify-queue-item").length,D.find(".abtn").addClass("disable"),a=n.key,r.attr("data-path",a),1===e.status&&i.show().css("display","flex"),9===o&&b.find(".sgcoll-add-img .uploadify-button").hide();case 10:case"end":return t.stop()}}),t,this)}))),function(t,e){return o.apply(this,arguments)}),onUploadComplete:function(t,e){},onShow:function(t){var e=h(".uploadify-queue").find(".uploadify-queue-item");h.each(e,(function(e,n){var r=h(n);r.find(".uploadify-thumbnail img").attr("src",t[e]),r.find(".uploadify-progress").hide(),r.find(".uploadify-fail").hide(),r.find(".uploadify-thumbnail").show().css("display","flex")}))},onUploadSuccess:function(t,e){h("#fileupload_1_"+t.index);var n,r=h(".uploadify-queue").find(".uploadify-queue-item"),i=(r.length,{}),o={};if(""!=e){try{i=JSON.parse(e),n=i.key,i.photo_height,i.photo_width}catch(t){}(0,u.dtSquare)("https://c-ssl.dtstatic.com/"+n,200,!1,!0)}r.each((function(e,r){h(r).data("path")==n&&(o.index=t.indexAfterSort,o.id=i.photo_id,$.push(o))}))},onUploadError:function(t,e){var n=h("#fileupload_1_"+t.index);n.find(".uploadify-progress").hide(),n.find(".uploadify-fail").show().css("display","flex"),4===e.status&&h.SGAlert.show("图片格式不正确")},onCancel:function(t){var e="#fileupload_1_"+t.index;h(e).remove(),h.each($,(function(e,n){if(n.index===t.index)return $.splice(e,1),!1})),h(".uploadify-queue").find(".uploadify-queue-item").length<9&&b.find(".sgcoll-add-img .uploadify-button").show()},onQueueComplete:function(t){var e=document.getElementById("sortable");h(".uploadify-queue").find(".uploadify-queue-item").length,D.find(".abtn").removeClass("disable"),l.default.create(e,{draggable:".uploadify-queue-item",animation:150,onEnd:function(e){var n=e.oldIndex,r=e.newIndex,i=t[n];t.splice(n,1),t.splice(r,0,i),t.forEach((function(t,e){t.indexAfterSort=e})),h(".uploadify-button").appendTo(h(".uploadify-queue"))}})},onQueueUploadSuccess:function(){var t,e;if(($=$.sort((t="index",e=null==(e=!1)||e?1:-1,function(n,r){return(n=n[t])<(r=r[t])?-1*e:n>r?1*e:0}))).length>9){var n=$.length-9;$.splice(0,n)}}}).doUploadMap[0],h("#sgcoll-upbtn").on("click",(function(){"normal"===type?h("#sgcoll-upload .sgcoll-add-img .selectbtn").click():"story"===type&&V()})),h("#sgcoll-up-cancel").click((function(t){v.find("input[name=tid]").data("uploadpic-tid","")})),h("#sgcoll-albumsel").find("a").myalbums({sel_valueipt:h("#sgcoll-albumsel-v"),sel_holder:h("#sgcoll-panel")}),p(["#sgcoll-tags-add",null,null,"#sgcoll-tags-sel","#sgcoll-tags-inp","#dopost-tags-reset",""]),w.bind("focus click",(function(t){t.stopPropagation(),h.SGColl.showLabel(this,"#sgcoll-txa-lb",!0)})).blur((function(){h.SGColl.showLabel(this,"#sgcoll-txa-lb")}));var i=300;w.keyup(n).blur(n).focus(n),U.keyupLenLimitForU(w[0],i,!0,!0,x),w.keydown((function(t){t.metaKey&&13==t.which&&N.submit()})),h.fn.at&&w.at({isFixed:!0,upper:!0}),F.bind("focus click",(function(t){t.stopPropagation(),window.clearTimeout(B),h.SGColl.showTagLabel(A,P,!0)})).blur((function(t){B=window.setTimeout((function(){h.SGColl.showTagLabel(A,P)}),100)})),F.bind("focus",(function(t){h.browser.msie&&"6.0"===h.browser.version?(k.css({display:"block",visibility:"hidden"}),k.css({top:1-k.outerHeight(),bottom:"auto",visibility:"visible"})):k.css({top:"auto",bottom:A.outerHeight()-1,display:"block"})})),T.add(h(document)).click((function(){k.css("display","none")})),A.add(k).click((function(t){t.stopPropagation()})),N.submit((function(t){t.preventDefault(),D.find(".abtn").hasClass("disable")||h.SGColl.doPost()}))}var o;this.resetType(this.type,!0),this.repop()}else SUGAR.PopOut.login()},repop:function(){if(SUGAR.PopOut.alert([L[this.type],v,""],"m",{position:"absolute"}),this.closeAndResetSugar(0),y.filter(":visible").length){var t=y.val();y.focus().val("").val(t).focus()}},closeAndResetSugar:function(t){var e=this,n=h("#sgcoll-up").closest(".mask-body").find(".mask-close");n.on("click",(function(r){r.stopPropagation();var i=!0;t>0&&(i=confirm("确定取消批量发布？")),i&&(h(".sgcoll-add-img .uploadify-queue-item").remove(),e.resetPost(),D.find(".abtn").removeClass("disable"),R.find("u").text("发布"),$=[],n.unbind("click"),SUGAR.PopOut.closeMask())}))},getPath:function(){new Date;var t=new Date,e=t.getFullYear(),n=t.getMonth()+1,r=t.getDate(),i=t.getHours(),o=t.getMinutes(),s=t.getSeconds();n>=1&&n<=9&&(n="0"+n),r>=0&&r<=9&&(r="0"+r),o>=0&&o<=9&&(o="0"+o),s>=0&&s<=9&&(s="0"+s);for(var a=e.toString()+n.toString()+r.toString()+i.toString()+o.toString()+s.toString(),u=["2","3","4","5","8","a","c","d","e","f","h","i","j","k","l","m","n","r","s","t","u","v","w","x","y","z","A","V","C","E","F","G","H","J","K","L","M","N","P","Q","R","S","T","U","V","W","X","Y","Z"],l="",c=0;c<5;c++)l+=u[Math.floor(49*Math.random())];return"uploads/item/"+e.toString()+n.toString()+"/"+r+"/"+a+"_"+l},checkFetchUrl:function(t){return h.G.isLink(t)?!t.split("://")[1].split("/")[0].match(/\bduitang\.com/gi)||(h.SGAlert.show("仅支持外站网址，站内请直接收集",4e3),!1):(h.SGAlert.show("请输入正确的网址",4e3),!1)},isPicUrl:function(t){var e=t.lastIndexOf("."),n=e>-1?t.substr(e+1):"";return!(!n||!n.match(/^(jpg|png|gif)$/gi))},doFetchPic:function(){var t=this;h.G.gaq("/_trc/Post/_/dofetch"),h.SGAlert.clean();var e,n,r,i=h.trim(y.val());i.match(/^http(?:s)?:\/\//gi)||(i="http://"+i,y.val(i)),i=/^http:\/\/[^\/]*(alicdn|taobaocdn|aliimg)\.com/.test(e=i)?(e=(e=e.replace(/_\.webp\w{0,10}$/gi,"")).replace(/_\d+x[\da-z]{1,10}\.jpg$/gi,""),n?e+"_"+n+"x"+r+".jpg":e):e,t.isPicUrl(i)?t.afterFetch(i,!0):t.checkFetchUrl(i)&&(y.blur(),h("#sgcoll-fetching").removeClass("dn"),h("#sgcoll-fetch-in").find(".sgcoll-fetch-normal").addClass("dn"),h.ajax({url:m.getFormAction(),data:m.paramForm(f(2)),mysuccess:function(e,n){h("#sgcoll-fetch-cancel:visible").length&&t.afterFetch(i,!1,e.data)},myfailure:function(e,n){h("#sgcoll-fetch-cancel:visible").length&&(t.resetFetch(),h.SGAlert.show(h.G.mergeServerMessage(e.message),4e3))},myerror:function(){t.resetFetch(),h.SGAlert.show("网络出问题了，请稍后再试",4e3)}}))},afterFetch:function(t,e,n){e&&(n={images:[t],title:"图片"});var r=n.images;if(r.length){b.data("choose")||b.data("choose",!0).delegate(".vm","click",(function(t){t.stopPropagation(),t.preventDefault();var e=h(this);b.find(".cur").removeClass("cur"),E.val(e.addClass("cur").find("img").attr("src"))})),this.resetPost(),h("#sgcoll-sourcelink").val(t),h("#sgcoll-sourcetitle").val(n.title);var i=r.length<10?r.length:10;b.html(['<div class="sgcoll-finfo"><div><span>来源：</span>'+n.title.cut(60,"…")+"</div><div><span>链接：</span>"+t.cut(60,"…")+'</div></div><div id="sgcoll-picselect" class="sgcoll-picselect" ',i>3?'style="overflow-x:scroll;"':"",'><div class="sgcoll-piclist clr" style="width:',147*i-13,'px;">\x3c!-- 循环单元开始 --\x3e',function(){for(var t="",e=0;e<i;e++){var n="/"===(n=r[e]).charAt(0)?"http://"+window.location.hostname+n:n;t+='<div class="vm ct l '+(e===i-1?"last":"")+" "+(0===e?"cur":"")+'"><div class="vma"><div class="vmb"> <img src="'+n+'" /></div></div></div>'}return t}(),"\x3c!-- 循环单元结束 --\x3e</div></div>"].join("")),h("#sgcoll-picselect").scrollTop(0),E.val(b.find("img:first").attr("src")),h("#sgcoll-fetch-in").addClass("dn"),h("#sgcoll-uploaded").removeClass("dn"),this.repop(),j.tags&&(F.val(j.tags),P.css("display","none")),h.G.gaq("/_trc/Post/_/dofetchok")}else this.resetFetch(),h.SGAlert.show("很抱歉，未能抓取到合适图片",4e3)},doPost:function(){var t=this;H().then((function(){var e=t;if(w.val())if("story"===type&&($=window.storyPublishState.imageIdList),0!==$.length)if(I.find("#sgcoll-albumsel-v").val()){var n=R.closest(".abtn");if(!n.hasClass("abtn-no")){n.addClass("abtn-no"),h.SGAlert.show("正在提交，请稍候");var s=h("#sgcoll-up").outerHeight(!0)+16,a=h("#sgcoll-upload .mask-wrap");a.css({height:s+"px",display:"block"}),R.find("u").text("发布中..."),0===window.location.pathname.indexOf("/collect/")?h.G.gaq("/_trc/Post/_/dopost_outside"):h.G.gaq("/_trc/Post/_/dopost");var u=[],l=h.trim(F.val());A.find(".added-tag").each((function(t,e){var n=h(e);u.push(h.trim(n.text()))})),-1===h.inArray(l,u)&&u.push(l),C.val(u.join(","));var c,p,d=N.paramForm(f(2)).split("&"),g=[];if(h.each($,(function(t,e){var n={content:"",photo_id:"",tags:"",album:"",source_link:"",source_title:"",source:"",group:""};h.each(d,(function(t,e){var r=e.split("=")[0],i=e.split("=")[1];""!=r&&"fileselect%5B%5D"!=r&&("tags"===r&&(i=decodeURIComponent(i)),"content"===r&&(i=w.val()),n[r]=i)})),n.photo_id=e.id,g.push(n)})),"normal"===type)c=(0,o.default)(g),p="/napi/blog/create/multi/";else if("story"===type){var v=window.storyPublishState.imageIdList,m=(window.storyPublishState.imageUploadUrlList,window.storyPublishState.imageSubtitles),y=window.storyPublishState.imageTags,b=window.storyPublishState.requestSubtitles,x=window.storyPublishState.requestTags,S=window.storyPublishState.selectSubtitle,E=window.storyPublishState.selectTag,P=window.storyPublishState.selectMusic,k=window.storyPublishState.ratio,T=window.storyPublishState.positions,_=function(t){return function(e,n){return e?{content:e,style:(0,o.default)(T[t][n]),id:x[E]?x[E].id:null}:null}},j={music_id:P,ratio:k,blog_publish_forms:"subtitle"===window.storyPublishState.selectTextType?g.map((function(t,e){return(0,i.default)({},t,{photo_id:v[e],story_style:[{content:m[e],id:b[S].id,style:b[S].style}]})})).reverse():g.map((function(t,e){var n=y[e]||[];return(0,i.default)({},t,{photo_id:v[e],story_style:[].concat((0,r.default)(n.map(_(e)).filter((function(t){return!!t}))))})})).reverse()};c=(0,o.default)(j),p="/napi/blog/create/photo_story/"}h.ajax({url:p,type:"POST",headers:{"Content-Type":"application/json;charset=utf-8"},data:c,mysuccess:function(t,n){h.G.gaq("/_trc/Post/_/dopostok");var r=I.find("[name=album]").val(),i=I.find(".sgcoll-shw").html();r&&"0"!=r&&(h.Bom.removeCookie("sgt"),h.Bom.setSubCookie("sgt","ai"+h.G.getUSERID(),r,{expires:30}),h.Bom.setSubCookie("sgt","an"+h.G.getUSERID(),i,{expires:30})),M.unshift({id:t.data.id,val:w.val().cut(10,"…")}),M=M.slice(0,5),h(".sgcoll-add-img .uploadify-queue-item").remove();var o=r&&"0"!=r?"/album/?id="+r:"",s="upload"===e.type?"":'<a href="/about/collectit/?from=postcoll" target="_blank">安装糖收集工具, 帮你轻松保存图片</a>',a='<div id="sgcoll-over"><div class="prompt prompt-success"><h3>上传成功！'+(o.lenght>0?'<a href="'+o+'" target="_blank">进入专辑查看 &gt;</a>':"")+'</h3><p></p></div><div class="sgcoll-over-bot lkl"><span></span>'+s+"</div></div>";SUGAR.PopOut.alert([L[e.type],a,""],"m");var u=h("#sgcoll-over").closest(".mask-body").find(".mask-close");if(u.on("click",(function(t){t.stopPropagation(),"story"===type&&window.location.reload(),h(".sgcoll-add-img .uploadify-queue-item").remove(),e.resetPost(),D.find(".abtn").removeClass("disable"),R.find("u").text("发布"),$=[],u.unbind("click"),SUGAR.PopOut.closeMask()})),h("#sgcoll-continue").click((function(t){"story"===type&&window.location.reload(),e.resetType(e.type,!0),e.repop(),h(".sgcoll-add-img .uploadify-queue-item").remove(),e.resetPost(),D.find(".abtn").removeClass("disable"),R.find("u").text("发布"),$=[]})),h.isFunction(O))O(t);else if(h("#dymcare").length){var l=h.History.getHash();""!=l&&"!dym"!=l?h.History.setHash("!dym"):h("#dymcare").click()}(type="story")&&h(".mask-body").width(484)},myfailure:function(t,e){var n=h.G.mergeServerMessage(t.message);h.G.gaq("/_trc/Post/_/"+n),h.SGAlert.show(n),D.find("#sgcoll-abtnpost u").text("重新发布")},myerror:function(){h.SGAlert.show("网络出问题了，请稍后再试")}}).always((function(){n.removeClass("abtn-no"),"normal"===type&&($=$.reverse()),a.hide()}))}}else h.SGAlert.show("没有选择专辑无法发布哟",4e3);else h.SGAlert.show("没有图片无法发布哟",4e3);else h.G.blinkIt((function(){w.css({backgroundColor:"#ffffcc"})}),(function(){w.css({backgroundColor:"transparent"})}),(function(){w.focus()}),4,200)}))},showLabel:function(t,e,n){var r=h(t);h(e).css("display",""!==h.trim(r.val())||n?"none":"block")},showTagLabel:function(t,e,n){var r=h(t),i=r.find("input");h(e).css("display",r.find(".added-tag").length||h.trim(i.val())||n?"none":"block")},resetPost:function(){b.find("#sgcoll-add-img").html(""),w.val(""),S.css("display","block"),A.find(".added-tag").remove(),C.val(""),F.val(""),P.css("display","block"),k.find(".locked").removeClass("locked"),h("#sgcoll-sourcetitle").val(""),h("#sgcoll-sourcelink").val(""),"upload"===this.type?E.attr("name","photo_id"):"fetch"===this.type&&E.attr("name","image_src"),E.val(""),N.find("[name=source]").attr("value",this.type),_.click()},resetType:function(t,e){"upload"===t?this.resetUpload():"fetch"===t&&this.resetFetch(e)},resetFetch:function(t){this.type="fetch",h("#sgcoll-up-in,#sgcoll-uploaded,#sgcoll-fetching").addClass("dn"),h("#sgcoll-fetch-in").removeClass("dn").find(".sgcoll-fetch-normal").removeClass("dn"),t&&y.val("http://")},resetUpload:function(){this.type="upload",h("#sgcoll-fetch-in,#sgcoll-uploaded,#sgcoll-uploading").addClass("dn"),h("#sgcoll-up-in,#sgcoll-upbtn,#sgcoll-up-mess").removeClass("dn abtn-no"),this.resetFile()},resetFile:function(){var t=h("#form-sgcoll-upic input[type=file]");t.after(t.clone(!0).val("")),t.remove()}})},function(t,e,n){var r=function(){return this}()||Function("return this")(),i=r.regeneratorRuntime&&Object.getOwnPropertyNames(r).indexOf("regeneratorRuntime")>=0,o=i&&r.regeneratorRuntime;if(r.regeneratorRuntime=void 0,t.exports=n(330),i)r.regeneratorRuntime=o;else try{delete r.regeneratorRuntime}catch(t){r.regeneratorRuntime=void 0}},function(t,e){!function(e){"use strict";var n=Object.prototype,r=n.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",a=i.toStringTag||"@@toStringTag",u="object"==typeof t,l=e.regeneratorRuntime;if(l)u&&(t.exports=l);else{(l=e.regeneratorRuntime=u?t.exports:{}).wrap=g;var c={},h={};h[o]=function(){return this};var f=Object.getPrototypeOf,p=f&&f(f(F([])));p&&p!==n&&r.call(p,o)&&(h=p);var d=b.prototype=m.prototype=Object.create(h);y.prototype=d.constructor=b,b.constructor=y,b[a]=y.displayName="GeneratorFunction",l.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},l.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,a in t||(t[a]="GeneratorFunction")),t.prototype=Object.create(d),t},l.awrap=function(t){return{__await:t}},w(x.prototype),x.prototype[s]=function(){return this},l.AsyncIterator=x,l.async=function(t,e,n,r){var i=new x(g(t,e,n,r));return l.isGeneratorFunction(e)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},w(d),d[a]="Generator",d[o]=function(){return this},d.toString=function(){return"[object Generator]"},l.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},l.values=F,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(A),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(n,r){return s.type="throw",s.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],s=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var a=r.call(o,"catchLoc"),u=r.call(o,"finallyLoc");if(a&&u){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var s=o?o.completion:{};return s.type=t,s.arg=e,o?(this.method="next",this.next=o.finallyLoc,c):this.complete(s)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),c},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),A(n),c}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;A(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:F(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),c}}}function g(t,e,n,r){var i=e&&e.prototype instanceof m?e:m,o=Object.create(i.prototype),s=new C(r||[]);return o._invoke=function(t,e,n){var r="suspendedStart";return function(i,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw o;return P()}for(n.method=i,n.arg=o;;){var s=n.delegate;if(s){var a=S(s,n);if(a){if(a===c)continue;return a}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=v(t,e,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===c)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}(t,n,s),o}function v(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}function m(){}function y(){}function b(){}function w(t){["next","throw","return"].forEach((function(e){t[e]=function(t){return this._invoke(e,t)}}))}function x(t){var e;this._invoke=function(n,i){function o(){return new Promise((function(e,o){!function e(n,i,o,s){var a=v(t[n],t,i);if("throw"!==a.type){var u=a.arg,l=u.value;return l&&"object"==typeof l&&r.call(l,"__await")?Promise.resolve(l.__await).then((function(t){e("next",t,o,s)}),(function(t){e("throw",t,o,s)})):Promise.resolve(l).then((function(t){u.value=t,o(u)}),s)}s(a.arg)}(n,i,e,o)}))}return e=e?e.then(o,o):o()}}function S(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,S(t,e),"throw"===e.method))return c;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return c}var r=v(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,c;var i=r.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,c):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,c)}function E(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function A(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function C(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(E,this),this.reset(!0)}function F(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,i=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return{next:P}}function P(){return{value:void 0,done:!0}}}(function(){return this}()||Function("return this")())},function(t,e){var n,r;n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",r={rotl:function(t,e){return t<<e|t>>>32-e},rotr:function(t,e){return t<<32-e|t>>>e},endian:function(t){if(t.constructor==Number)return 16711935&r.rotl(t,8)|4278255360&r.rotl(t,24);for(var e=0;e<t.length;e++)t[e]=r.endian(t[e]);return t},randomBytes:function(t){for(var e=[];t>0;t--)e.push(Math.floor(256*Math.random()));return e},bytesToWords:function(t){for(var e=[],n=0,r=0;n<t.length;n++,r+=8)e[r>>>5]|=t[n]<<24-r%32;return e},wordsToBytes:function(t){for(var e=[],n=0;n<32*t.length;n+=8)e.push(t[n>>>5]>>>24-n%32&255);return e},bytesToHex:function(t){for(var e=[],n=0;n<t.length;n++)e.push((t[n]>>>4).toString(16)),e.push((15&t[n]).toString(16));return e.join("")},hexToBytes:function(t){for(var e=[],n=0;n<t.length;n+=2)e.push(parseInt(t.substr(n,2),16));return e},bytesToBase64:function(t){for(var e=[],r=0;r<t.length;r+=3)for(var i=t[r]<<16|t[r+1]<<8|t[r+2],o=0;o<4;o++)8*r+6*o<=8*t.length?e.push(n.charAt(i>>>6*(3-o)&63)):e.push("=");return e.join("")},base64ToBytes:function(t){t=t.replace(/[^A-Z0-9+\/]/gi,"");for(var e=[],r=0,i=0;r<t.length;i=++r%4)0!=i&&e.push((n.indexOf(t.charAt(r-1))&Math.pow(2,-2*i+8)-1)<<2*i|n.indexOf(t.charAt(r))>>>6-2*i);return e}},t.exports=r},function(t,e){function n(t){return!!t.constructor&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)}
/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
t.exports=function(t){return null!=t&&(n(t)||function(t){return"function"==typeof t.readFloatLE&&"function"==typeof t.slice&&n(t.slice(0,0))}(t)||!!t._isBuffer)}},function(t,e,n){t.exports={default:n(334),__esModule:!0}},function(t,e,n){n(86),n(70),t.exports=n(335)},function(t,e,n){var r=n(109),i=n(21)("iterator"),o=n(71);t.exports=n(7).isIterable=function(t){var e=Object(t);return void 0!==e[i]||"@@iterator"in e||o.hasOwnProperty(r(e))}},function(t,e,n){t.exports={default:n(337),__esModule:!0}},function(t,e,n){n(86),n(70),t.exports=n(338)},function(t,e,n){var r=n(49),i=n(140);t.exports=n(7).getIterator=function(t){var e=i(t);if("function"!=typeof e)throw TypeError(t+" is not iterable!");return r(e.call(t))}},function(t,e,n){n(340),t.exports=n(7).Object.entries},function(t,e,n){var r=n(11),i=n(341)(!0);r(r.S,"Object",{entries:function(t){return i(t)}})},function(t,e,n){var r=n(37),i=n(72),o=n(63),s=n(88).f;t.exports=function(t){return function(e){for(var n,a=o(e),u=i(a),l=u.length,c=0,h=[];l>c;)n=u[c++],r&&!s.call(a,n)||h.push(t?[n,a[n]]:a[n]);return h}}},function(t,e,n){"use strict";n(143),$.SGAlert=$.SGAlert||{},$.SGAlert.show=function(t,e,n,r){n=n||".mask-body:visible";var i=$(n);r=r||{visibility:"hidden",position:"absolute",zIndex:999999999,width:"auto",padding:"4px 12px",margin:"4px 0 0",lineHeight:"21px",fontSize:"12px",background:"#4c4c4c",borderRadius:"4px",color:"#fff"},i.length||(i=$("body"));var o=parseInt(i.css("width"))||i.outerWidth(),s=i.find(".SGAlert-holder");s.length||(s=$('<div class="SGAlert-holder"></div>').appendTo(i)),s.css(r).html(t),window.clearTimeout(s.data("timer"));var a=s.outerWidth(),u=s.outerHeight(!0);s.css({top:-u,visibility:"visible",left:(o-a)/2}).animate({top:0,opacity:1},200),e&&e>0&&s.data("timer",window.setTimeout((function(){s.animate({top:-u,opacity:0},200,(function(){s.css("visibility","hidden")}))}),e))},$.SGAlert.clean=function(){$(".SGAlert-holder").remove()}},function(t,e,n){"use strict";var r=u(n(76)),i=u(n(10)),o=u(n(77)),s=u(n(74)),a=u(n(39));function u(t){return t&&t.__esModule?t:{default:t}}var l=n(5).uploadImage;!function(t){t.fn.Huploadify=function(e){var n=this,u={fileTypeExts:"*.*",uploader:"",auto:!1,method:"post",multi:!0,formData:null,fileObjName:"file",fileSizeLimit:2048,showUploadedPercent:!0,showUploadedSize:!1,buttonText:"选择文件",removeTimeout:1e3,itemTemplate:'<div id="${fileID}" class="uploadify-queue-item"><div class="uploadify-progress"><div class="uploadify-progress-bar"></div></div><span class="up_filename">${fileName}</span><a href="javascript:void(0);" class="uploadbtn">上传</a><a href="javascript:void(0);" class="delfilebtn">删除</a></div>',onUploadStart:null,onUploadSuccess:null,onUploadComplete:null,onUploadError:null,onInit:null,onCancel:null,onClearQueue:null,onDestroy:null,onSelect:null,onQueueComplete:null},c=t.extend(u,e),h=function(t,e){return t=t>1048576&&!e?(Math.round(100*t/1048576)/100).toString()+"MB":(Math.round(100*t/1024)/100).toString()+"KB"},f=function(t){for(var e=[],n=t.split(";"),r=0,i=n.length;r<i;r++)e.push(n[r].split(".").pop());return e},p=function(t,e){for(var n=0;n<e.length;n++)if(e[n].index==t)return e[n];return null},d=[],g=[];return this.each((function(e,n){var u,v=t(n),m=t(".uploadify").length+1;g[e]={container:v,filteredFiles:[],showCalled:!1,init:function(){var n='<input id="select_btn_'+m+'" class="selectbtn" style="display:none;" type="file" name="fileselect[]"';n+=c.multi?" multiple":"",n+=' accept="',n+=f(c.fileTypeExts).join(","),n+='"/>',n+='<a id="file_upload_'+m+'-button" href="javascript:void(0)" class="uploadify-button">',n+=c.buttonText,n+="</a>";var r='<div id="file_upload_'+m+'-queue" class="uploadify-queue"></div>';v.append(n+r),d[e]={instanceNumber:m,upload:function(t){if("*"===t)for(var n=0,r=g[e].filteredFiles.length;n<r;n++)g[e]._uploadFile(g[e].filteredFiles[n]);else{var i=p(t,g[e].filteredFiles);i&&g[e]._uploadFile(i)}},cancel:function(t){if("*"===t){for(var n=g[e].filteredFiles.length,r=n-1;r>=0;r--)g[e]._deleteFile(g[e].filteredFiles[r]);c.onClearQueue&&c.onClearQueue(n)}else{var i=p(t,g[e].filteredFiles);i&&g[e]._deleteFile(i)}},disable:function(e){t(e?"file_upload_"+e+"-button":"body").find(".uploadify-button").css("background-color","#888").off("click")},ennable:function(e){var n=t(e?"file_upload_"+e+"-button":"body");n.find(".uploadify-button").css("background-color","#707070").on("click",(function(){n.find(".selectbtn").trigger("click")}))},destroy:function(){g[e].container.html(""),g[e]=null,c.onDestroy&&c.onDestroy()},settings:function(e,n){if(1==arguments.length)return c[e];"formData"==e?c.formData=t.extend(c.formData,n):c[e]=n},Huploadify:function(){var t=arguments[0];t in this&&(Array.prototype.splice.call(arguments,0,1),this[t].apply(this[t],arguments))}};var i=this._getInputBtn();i.length>0&&i.change((function(t){g[e]._getFiles(t)})),v.find(".uploadify-button").on("click",(function(){v.find(".selectbtn").trigger("click")})),c.onInit&&c.onInit(d[e])},_filter:function(n){var r=[],i=f(c.fileTypeExts);if(i.length>0)for(var o=0,s=n.length;o<s;o++){var a=n[o];parseInt(h(a.size,!0))<=c.fileSizeLimit?t.inArray("*",i)>=0||t.inArray(a.name.split(".").pop(),i)>=0?r.push(a):alert('文件 "'+a.name+'" 类型不允许！'):alert('文件 "'+a.name+'" 大小超出限制！')}var u=g[e]._getFileList().find(".uploadify-queue-item").length;if(r.length+u>9){var l=9-u;if(r.length>l)r=r.slice(0,l)}return r},_getInputBtn:function(){return v.find(".selectbtn")},_getFileList:function(){return v.find(".uploadify-queue")},_renderFile:function(n){var r=t(c.itemTemplate.replace(/\${fileID}/g,"fileupload_"+m+"_"+n.index).replace(/\${fileName}/g,n.name).replace(/\${fileSize}/g,h(n.size)).replace(/\${instanceID}/g,v.attr("id")));if(c.auto||r.find(".uploadbtn").css("display","inline-block"),t("body").find(".uploadify-queue").prepend(r),c.showUploadedSize){var i='<span class="progressnum"><span class="uploadedsize">0KB</span>/<span class="totalsize">${fileSize}</span></span>'.replace(/\${fileSize}/g,h(n.size));r.find(".uploadify-progress").after(i)}if(c.showUploadedPercent){r.find(".uploadify-progress").after('<span class="up_percent">0%</span>')}c.onSelect&&c.onSelect(n),c.auto?(g[e]._uploadFile(n),r.find(".uploadbtn").on("click",(function(){g[e]._uploadFile(n)}))):(g[e]._showFile(n),r.find(".uploadbtn").on("click",(function(){t(this).hasClass(".disabledbtn")||(t(this).addClass(".disabledbtn"),g[e]._uploadFile(n))}))),r.find(".delfilebtn").on("click",(function(){t(this).hasClass(".disabledbtn")||(t(this).addClass(".disabledbtn"),g[e]._deleteFile(n))}))},_getFiles:function(n){var r=n.target.files;r=g[e]._filter(r);var i=v.find(".uploadify-queue .uploadify-queue-item").length,o=v.find(".uploadify-queue .uploadify-queue-item"),s=[];o.length>0&&o.each((function(e,n){var r=t(n).attr("id").split("fileupload_1_")[1];s.push(parseInt(r))})),0!==s.length&&(i=Math.max.apply(Math,s));for(var a=0,u=r.length;a<u;a++){r[a].index=++i,r[a].indexAfterSort=r[a].index,r[a].status=0,g[e].filteredFiles.push(r[a]);var l=g[e].filteredFiles.length;g[e]._renderFile(g[e].filteredFiles[l-1])}},_deleteFile:function(t){for(var n=0,r=g[e].filteredFiles.length;n<r;n++){if(g[e].filteredFiles[n].index==t.index){g[e].filteredFiles.splice(n,1),v.find("#fileupload_"+m+"_"+t.index).fadeOut(),c.onCancel&&c.onCancel(t);break}}},_regulateView:function(t){var e=v.find("#fileupload_"+m+"_"+t.index);e.find(".uploadify-progress-bar").css("width","100%"),c.showUploadedSize&&e.find(".uploadedsize").text(e.find(".totalsize").text()),c.showUploadedPercent&&e.find(".up_percent").text("100%")},onProgress:function(t,e,n){var r=v.find("#fileupload_"+m+"_"+t.index+" .uploadify-progress"),i=(e/n*100).toFixed(2)+"%";c.showUploadedSize&&(r.nextAll(".progressnum .uploadedsize").text(h(e)),r.nextAll(".progressnum .totalsize").text(h(n))),c.showUploadedPercent&&r.nextAll(".up_percent").text(i),r.find(".uploadify-progress-bar").css("width",i)},_allFilesShowed:function(){for(var t=0,n=g[e].filteredFiles.length;t<n;t++){if(4!==g[e].filteredFiles[t].status)return!1}return!0},_allFilesUploaded:function(){for(var t={uploadsSuccessful:0,uploadsErrored:0},n=0,r=g[e].filteredFiles.length;n<r;n++){var i=g[e].filteredFiles[n].status;if(0===i||1===i||4===i){t=!1;break}2===i?t.uploadsSuccessful++:3===i&&t.uploadsErrored++}return t},_showFile:function(){g[e].showCalled||(g[e].showCalled=!0,a.default.resolve().then((function(){g[e].showCalled=!1;var t=g[e].filteredFiles.reduce((function(t,e){return 0===e.status&&(e.status=4),[].concat((0,s.default)(t),[window.URL.createObjectURL(e)])}),[]);c.onShow&&c.onShow(t),g[e]._allFilesShowed()&&c.onQueueComplete&&c.onQueueComplete(g[e].filteredFiles)})))},_uploadFile:(u=(0,o.default)(r.default.mark((function t(n){return r.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(0!==n.status&&4!==n.status&&3!==n.status){t.next=3;break}return n.status=1,t.abrupt("return",l(n,{type:c.type,onApplyForToken:function(t){c.onUploadStart&&c.onUploadStart(n,t)},onprogress:function(t){g[e].onProgress(n,t.loaded,t.total)}}).then((function(t){g[e]._regulateView(n),n.status=2,console.log(n),c.onUploadSuccess&&c.onUploadSuccess(n,(0,i.default)(t))})).catch((function(t){n.status=3,c.onUploadError&&c.onUploadError(n,t)})).finally((function(t){c.onUploadComplete&&c.onUploadComplete(n,t),c.auto&&g[e]._allFilesUploaded()&&c.onQueueUploadSuccess&&c.onQueueUploadSuccess(),g[e]._getInputBtn().val("")})));case 3:case"end":return t.stop()}}),t,this)}))),function(t){return u.apply(this,arguments)})},g[e].init()})),{doUploadMap:g.map((function(t){return function(){return new a.default((e=(0,o.default)(r.default.mark((function e(i,o){return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.default.all(t.filteredFiles.map((function(e){return t._uploadFile(e)})));case 2:t._allFilesUploaded()?(c.onQueueUploadSuccess&&c.onQueueUploadSuccess(),i()):o();case 4:case"end":return e.stop()}}),e,n)}))),function(t,n){return e.apply(this,arguments)}));var e}})),returnObjs:d}}}(jQuery)},function(t,e,n){"use strict";var r=h(n(217)),i=h(n(147)),o=h(n(39)),s=h(n(76)),a=h(n(64)),u=h(n(77)),l=n(5),c=h(n(219));function h(t){return t&&t.__esModule?t:{default:t}}var f=n(145).CutImageByCanvas,p=n(347).dataURItoBlob,d=n(225),g=n(22);n(351);var v=n(352),m=v(3,""),y=v(4,""),b=[],w=[],x=[],S=[],E=[],A=[],C=!0,F=[],P=[],k=[],T=[],_=[],I=0,D=[],N=void 0,R=void 0,O=void 0,j=void 0,B={subtitle:0,tag:1},H={0:"subtitle",1:"tag"},L=function(){return{left:(.5*R-25)/R,top:(.5*O-25)/O}};window.storyPublishState={selectTextType:"subtitle",positions:[],imageIdList:[],imageUploadUrlList:[],imageSubtitles:[],imageTags:[],requestSubtitles:[],requestTags:[],selectSubtitle:0,selectTag:0,selectMusic:void 0,ratio:void 0};var M=!1;function U(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments[1];if("tag"===window.storyPublishState.selectTextType){var n=$(".tag-textarea"),r=$(".tag-add-button"),i=$(".tag-edit");e&&(j||0===j)?(n.css({width:"210px"}),r.hide(),i.removeClass("disable")):(n.css({width:"240px"}),r.show(),i.addClass("disable")),n.val(t)}}function V(t){return(t=""+t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")}function q(t){var e=$(".music-select-item"),n=e[N].querySelector(".music-status"),r=e[N].querySelector("audio");"on"===t?(n.textContent="试听中",e[N].classList.add("activity"),r.play()):"off"===t&&(n.textContent="试听",e[N].classList.remove("activity"),r.pause(),r.load())}function K(t,e,n,r,i){if((n||0===n)&&(t.src=e[n]),r&&i){var o=new Image;o.addEventListener("load",(function(){var e=r/i,n=o.width/o.height;t.style.width=(n>e?n*i:r)+"px",t.style.height=(n>e?i:r/n)+"px"})),o.src=e[n]}else t.style.width="100%",t.style.height="100%"}function z(t){var e,n;e=window.storyPublishState.selectTextType,(n=$(".text-content-select-item")).removeClass("activity"),$(n[B[e]||0]).addClass("activity"),function(t){var e=window.storyPublishState.selectTextType,n=$(".text-content textarea"),r=$(".tag-add-button"),i=$(".tag-edit"),o=t||{},s=o.subtitleInput,a=o.tagInput,u=o.preventTagClear,l=(s||{}).subtitleText,c=(a||{}).text;if("subtitle"===e){$(n[0]).show(),$(n[1]).hide(),r.hide();var h=l||window.storyPublishState.imageSubtitles[I]||"";n[0].value=h}else if("tag"===e&&(i.addClass("disable"),$(n[1]).show(),r.show(),$(n[0]).hide(),!u)){var f=c||"";n[1].value=f}}(t),("subtitle"!==window.storyPublishState.selectTextType||!window.storyPublishState.selectSubtitle&&0!==window.storyPublishState.selectSubtitle)&&"tag"===window.storyPublishState.selectTextType&&(window.storyPublishState.selectTag||window.storyPublishState.selectTag),G(),Y(),W("subtitle"===window.storyPublishState.selectTextType?{selector:".subtitle-select-item",index:window.storyPublishState.selectSubtitle}:{selector:".tag-select-item",index:window.storyPublishState.selectTag})}function G(){var t=window.storyPublishState.selectTextType,e={subtitle:60,tag:10},n=$(".text-content textarea"),r=$(".tip");r.hide();var o=$(".tip>#rest-number"),s=(0,i.default)(e).indexOf(t);if(0===s){var a=n[s].value,u=e[t]-a.length<=0?0:e[t]-a.length;u<=9&&(o.text(u),r.show())}}function W(t){var e=$(".subtitle-select-item"),n=$(".tag-select-item");e.css({display:"none"}),n.css({display:"none"});var r=t.selector,i=t.index,o=$(r);o.css({display:"flex"}),o.each((function(t,e){e=$(e),t===i?e.addClass("activity"):e.removeClass("activity")}))}function Y(){var t=$(".story-publish-image-wrapper"),e=t.width(),n=t.height();if("subtitle"===window.storyPublishState.selectTextType&&(window.storyPublishState.selectSubtitle||0===window.storyPublishState.selectSubtitle)){var r=window.storyPublishState.requestSubtitles[window.storyPublishState.selectSubtitle]?window.storyPublishState.requestSubtitles[window.storyPublishState.selectSubtitle].style:"",o=V(window.storyPublishState.imageSubtitles[I]||""),s=$("#preview-subtitle");s[0]&&s.remove();var u=$(".preview-tag");return u[0]&&u.remove(),void(o&&t.append('<div id="preview-subtitle" style="'+d(e+"px")(n+"px")(JSON.parse(r))+'"><span class="preview-subtitle-text">'+o+'</span>\x3c!--<span class="style-delete" onclick="deleteSelectStyle(\'subtitle\')"></span>--\x3e</div>'))}if("tag"!==window.storyPublishState.selectTextType||!window.storyPublishState.selectTag&&0!==window.storyPublishState.selectTag)var l,c;else{var h=window.storyPublishState.requestTags[window.storyPublishState.selectTag]?window.storyPublishState.requestTags[window.storyPublishState.selectTag].style:"{}",f=window.storyPublishState.imageTags[I]||[],p=$("#preview-subtitle");p[0]&&p.remove();var g=$(".preview-tag");if(g[0]&&g.remove(),f.length){var v=[/tag-fixed/i,/^height$/i],m=function(t){return v.some((function(e){return e.test(t)}))},y=JSON.parse(h),b=(0,i.default)(y).reduce((function(t,e){return m(e)||(t[e]=y[e]),t}),{}),w=(0,i.default)(y).reduce((function(t,e){return m(e)&&(t[e]=y[e]),t}),{});f.forEach((function(r,i){X(i),t.append('<div class="preview-tag" style="'+d(e+"px")(n+"px")((0,a.default)({},b,window.storyPublishState.positions[I][i]),{position:"absolute","box-sizing":"border-box","z-index":997,"white-space":"nowrap"})+'">'+V(r||"")+'<span style="'+d(e+"px")(n+"px")((0,a.default)({},w),{"border-style":"solid",top:0,bottom:0,left:0,right:0,margin:"auto","z-index":-1})+'"></span></div>'),function(t){var e=$($(".preview-tag")[t]);$(".story-publish-image-wrapper").commonMoveable({target:".preview-tag",index:t,moveType:"INNER",cbk:function(n){X(e.data("index")||t,{top:n.y?-n.y/O:0,left:n.x?-n.x/R:0})}})}(i)})),l=[],c=$(".preview-tag"),$.each(c,(function(t,e){var n=$(e);l[t]=$(e),c.css("z-index",1),n.data("index",t);var r=!0;n.on("mousedown",(function(){var t=n.data("index"),e=window.storyPublishState.imageTags[I].length;if(r=!0,t!==e-1){var i=window.storyPublishState.imageTags[I].splice(t,1);window.storyPublishState.imageTags[I].push(i[0]);var o=window.storyPublishState.positions[I].splice(t,1);window.storyPublishState.positions[I].push(o[0]);var s=l.splice(t,1);l.push(s[0]),l.forEach((function(t,e){t.data("index",e),t.css("z-index",e+1)}))}})),n.on("mousemove",(function(){r=!1})),n.on("mouseup",(function(t){if(t.stopPropagation(),r){var e=t.target;window.storyPublishState.selectTextType="tag",j=Number($(e).data("index")),U(e.textContent,!0)}}))}))}}}function X(t,e){storyPublishState.positions[I]?e?storyPublishState.positions[I][t]=e:storyPublishState.positions[I][t]||(storyPublishState.positions[I][t]=L()):(storyPublishState.positions[I]=[],storyPublishState.positions[I][t]=e||L())}function J(){var t=$(".story-publish"),e=$(".story-publish-image-replace"),n=t.find(".prev"),r=t.find(".next"),i=$(".story-publish-image-replace"),o=$(".preview-action-story"),s=$(".preview-slider-story a"),a=$(".image-toast"),u=(t.find(".image-text"),t.find(".image-area"));o.hide(),i.hide(),s.css({left:0}),n.removeClass("disable"),r.removeClass("disable"),e.css({left:0,top:0}),a.hide(),$(".story-publish-image-replace").css({top:0,left:0,width:"100%",height:"100%"}),u.removeClass("disable")}function Q(){var t=$(".story-publish-control"),e=$(".story-publish-text-control"),n=$(".story-publish-music-control"),r=$(".story-publish-submit"),i=$(".story-publish-image-list"),o=$(".story-publish-image-wrapper"),s=$(".back-wrapper"),a=$(".prev"),u=$(".next");o.removeClass("activity"),i.removeClass("activity"),t.show(),e.show(),n.show(),r.show(),a.show(),u.show(),s.hide()}t.exports=function(){var t=$("#story-atlas-input");M||(M=!0,t.on("change",(function(){(function(t){var e=[],n=[];if(t)return"undified"==typeof FileReader?(alert("您的浏览器版本过低"),new o.default((function(t,e){e("version")}))):o.default.all((0,r.default)(t).slice(0,9).map((function(t,r){return new o.default((function(i,o){if(t){P[r]=t.type.split("/")[1];var s=new FileReader;s.readAsDataURL(t),s.onload=function(t){var o=this.result,s=new Image;s.src=o,s.onload=function(){var t={url:o,width:this.width,height:this.height};e[r]=o,n[r]=t,i({imageList:e,imageSizeList:n})}}}else o("empty")}))})));reject("empty")})(t[0].files).then((function(t){var e=t.length;F=t[e-1].imageList,k=F.map((function(t){return p(t)})),T=t[e-1].imageSizeList,function(t){var e=document.createElement("div");e.classList.add("story-publish-wrapper");var n=document.querySelector(".blockUI.blockMsg.blockPage"),r=$(".mask-body");e.style.cssText="position: relative; background: #fff;",r[0]&&r.css("display","none"),n&&(e.innerHTML=t,n.appendChild(e))}('\n    <div class="story-publish">\n        <div class="back-wrapper">\n          <span class="back-icon"></span>\n          <span>返回</span>\n        </div>\n        <span class="close-btn"></span>\n        <h1 class="story-publish-title">编辑图片电影</h1>\n        \x3c!-- 图片切换 --\x3e\n        <div class="story-publish-image-list">\n            <span class="image-toast">拖拽图片调整位置</span>\n            <span class="toast"></span>\n            <span class="slide-count"></span>\n            <span class="prev"></span>\n            <div class="story-publish-image-wrapper">\n              <img class="story-publish-image" />\n              <img class="people-header story-publish-image-replace" draggable="true" />\n            </div>\n            <span class="next"></span>\n        </div>\n        \x3c!-- 调整图片大小 添加文字 --\x3e\n        <div class="story-publish-control">\n          <span class="image-area-icon"></span>\n          <span class="image-area">调整图片</span>\n        </div>\n        \x3c!-- 图片大小控制 --\x3e\n        <div class="story-publish-area-control preview-action-story">\n          <div class="control-wrapper">\n            <div class="preview-desc-story">图片大小：</div>\n            <div class="preview-slider-wrap-story">\n              <a class="preview-min-story" href="javascript:;">小</a>\n              <div class="preview-slider-story">\n                  <a href="javascript:;"></a>\n              </div>\n              <a class="preview-max-story" href="javascript:;">大</a>\n            </div>\n          </div>\n          <div class="preview-ok-story" href="javascript:;">保存</div>\n        </div>\n        \x3c!-- 文字控制 --\x3e\n        <div class="story-publish-text-control">\n          <div class="text-content-select">\n            <span class="text-content-select-desc">文字模式：</span>\n            <div class="text-content-select-item">\n              <span class="text-content-select-item-text">字幕</span>\n              <span class="text-content-select-item-icon"></span>\n            </div>\n            <div class="text-content-select-item">\n              <span class="text-content-select-item-text">便签</span>\n              <span class="text-content-select-item-icon"></span>\n            </div>\n          </div>\n          <div class="text-content-wrapper">\n            <div class="text-content">\n              <textarea class="subtitle-textarea" placeholder="最多输入60字" maxlength="60"></textarea>\n              <textarea class="tag-textarea" placeholder="最多添加5条便签哦" maxlength="10"></textarea>\n              <div class="tag-add-button disable">添加</div>\n              <div class="tag-edit disable">\n                <span class="delete">删除</span>\n                <span class="change">修改</span>\n              </div>\n              </div>\n            <div class="tip">还可输入<span id="rest-number">60</span>字符</div>\n          </div>\n          <div class="text-style-wrapper">\n            <div class="text-style-desc column">文字样式：</div>\n            <div class="text-style">\n              <div id="subtitle"></div>\n              <div id="tag"></div>\n            </div>\n          </div>\n          \x3c!-- <div class="add-btn">\n            <button id="add-btn">确定</button>\n          </div> --\x3e\n        </div>\n        \x3c!-- 背景音乐 --\x3e\n        <div class="story-publish-music-control">\n          <div class="story-publish-music-desc">添加音乐：</div>\n          <div class="story-publish-music-content">\n            <div class="story-publish-music-select">\n              <span class="select-music-name">无</span>\n              <span class="select-icon"></span>\n              <div class="select-list" data-status="off">\n                <div class="content"></div>\n                <div class="add-music-btn">\x3c!-- <span class="remove">取消</span><span class="add">添加</span> --\x3e</div>\n              </div>\n            </div>\n          </div>\n        </div>\n        \x3c!-- 下一步: 发布多图故事 --\x3e\n        <div class="story-publish-submit">\n            <button class="disable" id="next-btn">下一步</button>\n        </div>\n    </div>\n'),$("#sgcoll-up").closest(".mask-body").find(".mask-close").on("click",(function(){window.location.reload()})),setTimeout((function(){var t=$(".story-publish"),e=t.find(".prev"),n=t.find(".next"),r=t.find(".story-publish-image-wrapper"),i=t.find(".story-publish-image"),h=t.find(".image-area"),p=t.find(".image-text"),d=(t.find(".story-publish-back"),$(".story-publish-music-select")),v=$(".select-list"),D=$("#next-btn"),B=t.find(".close-btn"),L=$(".text-content-select-item"),M=$(".tag-add-button"),V=$(".tag-textarea"),W=$(".tag-edit>.delete"),X=$(".tag-edit>.change"),Z=$(".back-wrapper"),tt=T[0].width/T[0].height,et=330/(tt>=3/4&&tt<=16/9?tt:tt>16/9?16/9:3/4);R=330,O=et;var nt,rt=Math.round(330/et*1e3)/1e3;function it(){var t=$(".slide-count"),e=F.length,n=I+1;t.show(),t.text(n+"/"+e)}function ot(){var t=$(".slide-count");t.text(""),t.hide()}function st(t){window.storyPublishState.imageTags[I]&&window.storyPublishState.imageTags[I].splice(t,1),window.storyPublishState.positions[I]&&window.storyPublishState.positions[I].splice(t,1)}function at(t,e,n,r){var i=$(".toast");e&&!sessionStorage.getItem(e)?(sessionStorage.setItem(e,"1"),t&&i.text(t),"function"==typeof n&&n(),i.fadeIn(),setTimeout((function(){"function"==typeof r&&r(),i.fadeOut()}),3e3)):e||(t&&i.text(t),"function"==typeof n&&n(),i.fadeIn(),setTimeout((function(){"function"==typeof r&&r(),i.fadeOut()}),3e3))}function ut(){(N||0===N)&&(q("off"),N="");var e=$(".story-publish").height()||0;t.hide();var n=document.querySelector(".blockUI.blockMsg.blockPage>.mask-body"),r=$(".blockUI.blockMsg.blockPage");r[0]&&(r[0].style.transform="translateY("+(e-376)+"px)"),n.setAttribute("style","width: 484px;display: inline-block !important;");var i=$("#sgcoll-up-in"),o=$("#sgcoll-uploaded");$(".tt-s>span").text("发布图片电影"),i.hide(),o[0].setAttribute("style","display:block !important")}function lt(){var t=$("#sortable");$("#file_upload_1-button").remove(),t.append(window.storyPublishState.imageUploadUrlList.reduce((function(t,e,n){return t+'<div id="fileupload_1_'+(n+1)+'" class="uploadify-queue-item" data-path="'+e+'">\n                      <div class="uploadify-thumbnail" style="display: flex;">\n                        <img src="'+DtTools.dtImageTrans("https://c-ssl.dtstatic.com/"+e,!0,200,200,"c")+'">\n                      </div>\n                    </div>'}),"")),setTimeout((function(){var t=document.getElementById("sortable");c.default.create(t,{draggable:".uploadify-queue-item",animation:150,onEnd:function(t){var e=t.oldIndex,n=t.newIndex;!function(t,e,n){Array.isArray(t[0])?t.forEach(ct(e)(n)):ct(e)(n)(t)}([window.storyPublishState.imageIdList,window.storyPublishState.imageSubtitles,window.storyPublishState.imageTags],e,n)}})}),0)}window.storyPublishState.ratio=rt,r[0].style.width="330px",r[0].style.height=et+"px",K(i[0],F,0,330,et),it(),i[0].onload=function(){},F.forEach((function(t,e){if(!_[e]){_[e]=new f(330,et,3);var n=new Image;n.addEventListener("load",(function(){var t=n.width/n.height;E[e]=t>rt?t*et:330,A[e]=t>rt?et:330/t,x[e]=E[e],S[e]=A[e],_[e].initCanvas(n,E[e],A[e],P[e])})),n.src=F[e]}})),Z.on("click",(function(){J(),Q(),it()})),W.on("click",(function(t){t.stopPropagation(),st(j),z(),U("",!1),j=void 0})),X.on("click",(function(t){if(t.stopPropagation(),window.storyPublishState.imageTags[I]){var e=$(".tag-textarea").val();e?window.storyPublishState.imageTags[I][j]=e:st(j)}(z(),U("",!1),j||0===j)&&function(t){var e=$(t),n=e.position().left,r=t.offsetWidth,i=t.parentNode.offsetWidth,o=n+r-i;if(o>0){e.css("left",Number(n)-Number(o)+"px");var s=window.storyPublishState.positions[I][j];s&&(s.left=(Number(n)-Number(o))/R)}}($(".preview-tag")[j]);j=void 0})),V.on("input",(function(t){var e=$(t.target),n=$(".tag-add-button"),r=e.val(),i=window.storyPublishState.imageTags[I]?window.storyPublishState.imageTags[I].length:0;r&&i<5?n.removeClass("disable"):n.addClass("disable")})),V.on("keydown",(function(t){13===t.keyCode&&t.preventDefault()})),M.on("click",(function(t){var e=$(t.target);if(!e.hasClass("disable")){var n=$(".tag-textarea"),r=n.val();if(r){e.addClass("disable"),n.val(""),window.storyPublishState.imageTags[I]||(window.storyPublishState.imageTags[I]=[]);var i=window.storyPublishState.imageTags[I].length;if(i<5)window.storyPublishState.imageTags[I].push(r),at("拖拽便签调整位置，点击可编辑或删除","addTagToast",ot,it);else if(i>=5)return;Y()}}})),L.on("click",(function(t){var e=L.index(this),n=H[e];window.storyPublishState.selectTextType=n,z(),function(t){var e={0:function(){at("字幕和标签不能同时添加哦","toggleTagToSubtitle",ot,it)},1:function(){at("字幕和标签不能同时添加哦","toggleSubtitleToTag",ot,it)}};e[t]&&e[t]()}(e)})),B.on("click",(function(){window.location.reload()})),e.on("click",(function(){$(this).hasClass("disable")||(I&&(I--,K(i[0],F,I,330,et)),z(),it())})),n.on("click",(function(){$(this).hasClass("disable")||(I<F.length-1&&(I++,K(i[0],F,I,330,et)),z(),it())})),d.on("click",(function(t){t.stopPropagation(),"off"===v.data("status")?(v.data("status","on"),v.show()):"on"===v.data("status")&&(v.data("status","off"),v.hide())})),D.on("click",(nt=(0,u.default)(s.default.mark((function t(e){var n,r;return s.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.preventDefault(),!(n=$("#next-btn")).hasClass("disable")){t.next=5;break}return g.popupMsgThenClose("请先添加音乐"),t.abrupt("return");case 5:if(r=void 0,"subtitle"!==window.storyPublishState.selectTextType){t.next=12;break}return t.next=9,m({msg:window.storyPublishState.imageSubtitles.join(" "),error:"抱歉，字幕含有敏感词，不能发布。"});case 9:r=t.sent,t.next=16;break;case 12:if("tag"!==window.storyPublishState.selectTextType){t.next=16;break}return t.next=15,y({msg:window.storyPublishState.imageTags.reduce((function(t,e){return t+" "+e.join(" ")}),""),error:"抱歉，标签含有敏感词，不能发布。"});case 15:r=t.sent;case 16:if(r){t.next=18;break}return t.abrupt("return");case 18:window.storyPublishState.positions=window.storyPublishState.positions.map((function(t){return t.map((function(t,e){return(0,a.default)({},t,{"z-index":e+1})}))})),n.text("上传中..."),n.addClass("disable"),n.css("background-color","#e3e3e3"),_.forEach((function(t,e){t.hasCut||(k[e]=t.getCutImage("image/"+P[e]),F[e]=t.getCutUrl("image/"+P[e]))})),ht().then((function(){n.removeClass("disable"),n.text("下一步"),n.css("background-image","#ff7e7e"),ut(),lt()})).catch((function(){g.popupMsgThenClose("网络请求失败，请重新上传"),n.removeClass("disable"),n.css("background-color","rgba(255, 126, 126, 1)"),n.text("重新上传")}));case 24:case"end":return t.stop()}}),t,this)}))),function(t){return nt.apply(this,arguments)}));var ct=function(t){return function(e){return function(n){var r=n[t];n.splice(t,1),n.splice(e,0,r)}}};function ht(){$("#next-btn");return o.default.all(k.map((function(t,e){var n=k[e];return(0,l.uploadImage)(n,{type:"BLOG"}).then((function(t){window.storyPublishState.imageUploadUrlList[e]=t.key,window.storyPublishState.imageIdList[e]=t.photo_id}))})))}function ft(t){x[I]=330,S[I]=et;var e=$(".story-publish").find(".story-publish-image");k[I]=t.getCutImage("image/"+P[I]),F[I]=t.getCutUrl("image/"+P[I]),K(e[0],F,I),J(),it()}var pt=$(document),dt=$(".story-publish-image-replace"),gt=$(".story-publish-image-wrapper"),vt=".preview-slider-story a",mt=!1,yt=$(".preview-slider-story").width()-10,bt=void 0,wt=function(){var t=+$(vt).css("left").slice(0,-2)/$(".preview-slider-story").width()+1,e=t*(dt.data("width")||x[I]),n=t*(dt.data("height")||S[I]),r=dt.position().left,i=dt.position().top,o=dt.last().css("margin-left"),s="auto"===o?0:o.slice(0,-2),a=(dt.width()-e)/2+r,u=(dt.width()-n)/2+i,l=gt.width()-e-s,c=+s,h=gt.height()-n;a<l?a=l:a>c&&(a=c),u<h?u=h:u>0&&(u=0),dt.css({width:e,height:n,top:u,left:a}),b[I]=a,w[I]=u,E[I]=e,A[I]=n,_[I].changeCutRange(b[I],w[I],E[I],A[I])};document.body.ondrop=function(t){t.preventDefault(),t.stopPropagation()},pt.on("mousedown",vt,(function(t){mt=!0,bt=t.pageX})),pt.on("mouseup",(function(t){mt=!1})),pt.on("mousemove",(function(t){if(mt){t.preventDefault();var e=$(vt),n=t.pageX-bt,r=+e.css("left").slice(0,-2)+n;r>=0&&r<=yt&&(e.css({left:r}),wt()),bt=t.pageX}})),pt.on("click",".preview-slider-story",(function(t){"A"!==t.target.nodeName&&(t.preventDefault(),$(vt).stop(),$(vt).animate({left:(void 0===t.offsetX?t.pageX-$(this).offset().left:t.offsetX)-10},{duration:200,step:function(){wt()}}))})),pt.on("click",".preview-min-story",(function(){$(vt).stop(),$(vt).animate({left:0},{duration:200,step:function(){wt()}})})),pt.on("click",".preview-max-story",(function(){$(vt).stop(),$(vt).animate({left:yt},{duration:200,step:function(){wt()}})})),pt.on("click",".preview-ok-story",(function(t){ft(_[I]),Q()})),pt.on("click",(function(t){var e=t.target,n=$(e);["tag-textarea","preview-tag","text-select-item"].some((function(t){return n.hasClass(t)}))||U("",!1)})),h.on("click",(function(){if(h.hasClass("disable"))return h.removeClass("disable"),ft(_[I]),Q(),void it();!function(){var t=$(".story-publish-control"),e=$(".story-publish-text-control"),n=$(".story-publish-music-control"),r=$(".story-publish-submit"),i=$(".story-publish-image-list"),o=$(".story-publish-image-wrapper"),s=$(".back-wrapper"),a=$(".prev"),u=$(".next");o.addClass("activity"),i.addClass("activity"),t.hide(),e.hide(),n.hide(),r.hide(),a.hide(),u.hide(),s.show(),s.css("display","flex")}(),ot();var e=$(".preview-action-story"),n=$(".story-publish-image-replace"),r=t.find(".prev"),i=t.find(".next"),o=$(".image-toast");p.removeClass("disable"),r.addClass("disable"),i.addClass("disable"),h.addClass("disable"),K(n[0],F,I,330,et),e.show(),o.show(),n.show(),C&&$(".story-publish-image-wrapper").commonMoveable({target:".story-publish-image-replace",cbk:function(t){(t.x||0===t.x)&&(b[I]=-t.x),(t.y||0===t.y)&&(w[I]=-t.y),_[I].changeCutRange(b[I],w[I],E[I],A[I])}}),C=!1})),$(".text-content textarea").on("input",(function(t){if("subtitle"===window.storyPublishState.selectTextType){var e=t.target.value;if(e.length>60)return;window.storyPublishState.imageSubtitles[I]=e,G(window.storyPublishState.selectTextType),Y()}})),z(),t.on("click",(function(){v.data("status","off"),v.hide()})),v.on("click",(function(t){t.stopPropagation()}))}),0)})).then((function(){return o.default.all([new o.default((function(t){$.ajax({type:"GET",url:"/napi/blog/style/detail/list/",success:function(e){if(1===e.status){var n=e.data.object_list;window.storyPublishState.requestSubtitles=[],n.forEach((function(t){"CAPTION"===t.type&&window.storyPublishState.requestSubtitles.push(t)})),$("#subtitle").html(window.storyPublishState.requestSubtitles.reduce((function(t,e,n){return t+'<span class="text-select-item subtitle-select-item" style="display: none;" data-status="off" onclick="selectStyle(\'subtitle\', '+n+')">'+(e.name||"字幕"+(n+1))+"</span>"}),"")),t()}},complete:function(){t()}})})),new o.default((function(t){$.ajax({type:"GET",url:"/napi/blog/style/detail/list/label/",success:function(e){if(1===e.status){var n=e.data.object_list;window.storyPublishState.requestTags=[],n.forEach((function(t){"LABEL"===t.type&&window.storyPublishState.requestTags.push(t)})),$("#tag").html(window.storyPublishState.requestTags.reduce((function(t,e,n){return t+'<span class="text-select-item tag-select-item" style="display: none;" data-status="off" onclick="selectStyle(\'tag\', '+n+')">'+(e.name||"便签"+(n+1))+"</span>"}),"")),t()}},complete:function(){t()}})})),new o.default((function(t){$.ajax({type:"GET",url:"/napi/music/classify/list/",data:{start:0,limit:80},success:function(t){1===t.status&&(D=t.data.object_list,$(".select-list>.content").append(D.reduce((function(t,e,n){return t+'<div class="music-select-item" status="off" onclick="handelselectMusic('+n+",\n                        "+e.id+')">\n                          <span class="music-name">'+(e.name.length>15?e.name.slice(0,14)+"...":e.name)+'</span>\n                          <div class="music-listen-wrapper" onclick="listenMusic('+n+')">\n                            <span class="music-listen-icon"></span>\n                            <span class="music-status">试听</span>\n                            <audio src="'+e.source_link+'" preload="auto" loop></audio>\n                          </div>\n                        </div>'}),"")))},complete:function(){t()}})}))]).then((function(){z()}))}))}))),t.click()},window.listenMusic=function(t){(N||0===N)&&q("off"),N!==t?(N=t,q("on")):N=""},window.handelselectMusic=function(t,e){var n,r,i=$(".music-select-item")[t].querySelector(".music-name").textContent,o=$(".select-music-name");window.storyPublishState.selectMusic=e,o.text(i),(n=$(".select-list")).data("status","off"),n.hide(),r=$("#next-btn"),window.storyPublishState.selectMusic||0===window.storyPublishState.selectMusic?r.removeClass("disable"):r.addClass("disable")},window.selectStyle=function(t,e){var n=window.event||arguments.callee.caller.arguments[0],r=$(n.target);if("subtitle"===t){var i=$(".subtitle-select-item");"off"===r.data("status")&&(i.data("status","off"),r.data("status","on"),window.storyPublishState.selectSubtitle=e,W({selector:".subtitle-select-item",index:window.storyPublishState.selectSubtitle}))}else if("tag"===t){var o=$(".tag-select-item");"off"===r.data("status")&&(o.data("status","off"),r.data("status","on"),window.storyPublishState.selectTag=e,W({selector:".tag-select-item",index:window.storyPublishState.selectTag}))}Y()},window.deleteSelectStyle=function(t){"subtitle"===t&&(window.storyPublishState.imageSubtitles[I]="",function(t){if("subtitle"===t){$("#preview-subtitle").remove()}if("tag"===t){$(".added-tag").remove()}}("subtitle"),$(".text-content textarea")[0].value="")}},function(t,e,n){n(346),t.exports=n(7).Object.keys},function(t,e,n){var r=n(73),i=n(72);n(148)("keys",(function(){return function(t){return i(r(t))}}))},function(t,e,n){"use strict";var r={dataURItoBlob:function(t){for(var e=t.split(",")[0].split(":")[1].split(";")[0],n=atob(t.split(",")[1]),r=new ArrayBuffer(n.length),i=new Uint8Array(r),o=0;o<n.length;o++)i[o]=n.charCodeAt(o);return new Blob([i],{type:e})},getPath:function(){new Date;var t=new Date,e=t.getFullYear(),n=t.getMonth()+1,r=t.getDate(),i=t.getHours(),o=t.getMinutes(),s=t.getSeconds();n>=1&&n<=9&&(n="0"+n),r>=0&&r<=9&&(r="0"+r),o>=0&&o<=9&&(o="0"+o),s>=0&&s<=9&&(s="0"+s);for(var a=e.toString()+n.toString()+r.toString()+i.toString()+o.toString()+s.toString(),u=["2","3","4","5","8","a","c","d","e","f","h","i","j","k","l","m","n","r","s","t","u","v","w","x","y","z","A","V","C","E","F","G","H","J","K","L","M","N","P","Q","R","S","T","U","V","W","X","Y","Z"],l="",c=0;c<5;c++){l+=u[Math.floor(49*Math.random())]}return"uploads/item/"+e.toString()+n.toString()+"/"+r+"/"+a+"_"+l}};t.exports=r},function(t,e,n){var r=n(349);"string"==typeof r&&(r=[[t.i,r,""]]);var i={hmr:!0,transform:void 0};n(111)(r,i);r.locals&&(t.exports=r.locals)},function(t,e,n){(t.exports=n(110)(!1)).push([t.i,"#pop-center-msg {\n  display: block;\n  position: fixed;\n  z-index: 9999;\n  left: 50%;\n  top: 45%;\n  height: auto;\n  padding: 20px 15px;\n  visibility: visible;\n  border-radius: 8px;\n  text-align: center;\n  font-size: 16px;\n  color: white;\n  -ms-transform: translate(-50%, -50%);\n      transform: translate(-50%, -50%);\n  background-color: black; }\n  #pop-center-msg .pop-center-msg-loading {\n    zoom: 1.4;\n    margin: 0 auto; }\n  #pop-center-msg .pop-center-loading-wrap {\n    width: 40px;\n    height: 40px;\n    margin: 0 auto; }\n  #pop-center-msg .pop-center-loading-inner {\n    position: relative;\n    height: 30px;\n    width: 30px;\n    margin: 5px auto;\n    -ms-transform: translate(-15px, -15px) scale(0.15) translate(15px, 15px);\n        transform: translate(-15px, -15px) scale(0.15) translate(15px, 15px); }\n    #pop-center-msg .pop-center-loading-inner div {\n      left: 94px;\n      top: 48px;\n      position: absolute;\n      animation: animation-lds-spinner linear 1s infinite;\n      background: #fff;\n      width: 12px;\n      height: 24px;\n      border-radius: 40%;\n      -ms-transform-origin: 6px 52px;\n          transform-origin: 6px 52px; }\n      #pop-center-msg .pop-center-loading-inner div:nth-child(1) {\n        -ms-transform: rotate(0deg);\n            transform: rotate(0deg);\n        animation-delay: -0.916666666666667s; }\n      #pop-center-msg .pop-center-loading-inner div:nth-child(2) {\n        -ms-transform: rotate(30deg);\n            transform: rotate(30deg);\n        animation-delay: -0.833333333333333s; }\n      #pop-center-msg .pop-center-loading-inner div:nth-child(3) {\n        -ms-transform: rotate(60deg);\n            transform: rotate(60deg);\n        animation-delay: -0.75s; }\n      #pop-center-msg .pop-center-loading-inner div:nth-child(4) {\n        -ms-transform: rotate(90deg);\n            transform: rotate(90deg);\n        animation-delay: -0.666666666666667s; }\n      #pop-center-msg .pop-center-loading-inner div:nth-child(5) {\n        -ms-transform: rotate(120deg);\n            transform: rotate(120deg);\n        animation-delay: -0.583333333333333s; }\n      #pop-center-msg .pop-center-loading-inner div:nth-child(6) {\n        -ms-transform: rotate(150deg);\n            transform: rotate(150deg);\n        animation-delay: -0.5s; }\n      #pop-center-msg .pop-center-loading-inner div:nth-child(7) {\n        -ms-transform: rotate(180deg);\n            transform: rotate(180deg);\n        animation-delay: -0.416666666666667s; }\n      #pop-center-msg .pop-center-loading-inner div:nth-child(8) {\n        -ms-transform: rotate(210deg);\n            transform: rotate(210deg);\n        animation-delay: -0.333333333333333s; }\n      #pop-center-msg .pop-center-loading-inner div:nth-child(9) {\n        -ms-transform: rotate(240deg);\n            transform: rotate(240deg);\n        animation-delay: -0.25s; }\n      #pop-center-msg .pop-center-loading-inner div:nth-child(10) {\n        -ms-transform: rotate(270deg);\n            transform: rotate(270deg);\n        animation-delay: -0.166666666666667s; }\n      #pop-center-msg .pop-center-loading-inner div:nth-child(11) {\n        -ms-transform: rotate(300deg);\n            transform: rotate(300deg);\n        animation-delay: -0.083333333333333s; }\n      #pop-center-msg .pop-center-loading-inner div:nth-child(12) {\n        -ms-transform: rotate(330deg);\n            transform: rotate(330deg);\n        animation-delay: 0s; }\n\n#pop-center-mask {\n  display: block;\n  position: fixed;\n  z-index: 9999;\n  top: 0px;\n  left: 0px;\n  width: 100%;\n  height: 100%;\n  opacity: 0;\n  visibility: visible;\n  background-color: black; }\n\n@keyframes animation-lds-spinner {\n  0% {\n    opacity: 1; }\n  100% {\n    opacity: 0; } }\n",""])},function(t,e){t.exports=function(t){var e="undefined"!=typeof window&&window.location;if(!e)throw new Error("fixUrls requires window.location");if(!t||"string"!=typeof t)return t;var n=e.protocol+"//"+e.host,r=n+e.pathname.replace(/\/[^\/]*$/,"/");return t.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,(function(t,e){var i,o=e.trim().replace(/^"(.*)"$/,(function(t,e){return e})).replace(/^'(.*)'$/,(function(t,e){return e}));return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/)/i.test(o)?t:(i=0===o.indexOf("//")?o:0===o.indexOf("/")?n+o:r+o.replace(/^\.\//,""),"url("+JSON.stringify(i)+")")}))}},function(t,e,n){"use strict";var r,i=n(64),o=(r=i)&&r.__esModule?r:{default:r};var s=$(document),a=void 0,u=!1,l=void 0,c=void 0,h=void 0;s.on("mouseup",(function(t){a=!1})),s.on("mousemove",(function(t){if(a&&!u){t.preventDefault(),u=!0;$(this);var e=l.target,n=t.pageX,r=t.pageY,i=n-c,s=r-h,f=e.position().top,p=e.position().left,d=e.last().css("margin-left"),g="auto"===d?0:d.slice(0,-2),v=f+s,m=p+i,y=$(l.area).innerWidth()-e.innerWidth()-g,b=+g,w=$(l.area).innerHeight()-e.innerHeight();if(0===y&&0===w)return c=t.pageX,h=t.pageY,void setTimeout((function(){u=!1}),20);l.limit?"OUTER"!==l.moveType&&l.moveType?"INNER"===l.moveType&&((m>l.limit[0]||m<l.limit[1])&&(m=p),(v>l.limit[2]||v<l.limit[3])&&(v=f)):((m<l.limit[0]||m>l.limit[1])&&(m=p),(v<l.limit[2]||v>l.limit[3])&&(v=f)):("OUTER"!==l.moveType&&l.moveType?"INNER"===l.moveType&&((m>y-2||m<b)&&(m=p),(v>w||v<0)&&(v=f)):((m<y||m>b)&&(m=p),(v<w||v>0)&&(v=f)),function(t,n){var r=(0,o.default)({},l);t&&(r.x=-t,e.css({left:t})),n&&(r.y=-n,e.css({top:n})),l.cbk&&l.cbk(r)}(m,v)),c=t.pageX,h=t.pageY,setTimeout((function(){u=!1}),20)}})),$.fn.extend({commonMoveable:function(t){!function(t){var e=$(void 0!==t.index?$(t.target)[t.index]:t.target);t.target=e,e.on("mousedown",(function(e){e.preventDefault();$(this);l=t,c=e.pageX,h=e.pageY,a=!0})),e.on("mouseup",(function(){a=!1}))}(t=$.extend({target:this.selector+" img",area:this.selector},t))}})},function(t,e,n){"use strict";var r=a(n(76)),i=a(n(10)),o=a(n(39)),s=a(n(77));function a(t){return t&&t.__esModule?t:{default:t}}var u=n(22);t.exports=function(t,e){return n=(0,s.default)(r.default.mark((function n(){for(var s=arguments.length,a=Array(s),l=0;l<s;l++)a[l]=arguments[l];return r.default.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(0!==(a=a.filter((function(t){return t.msg.trim()}))).length){n.next=5;break}return n.abrupt("return",!0);case 5:return n.next=7,o.default.all(a.map((function(e){var n=e.msg,r=e.error;return new o.default((function(e,o){$.ajax({url:"/napi/blog/front_ban/",type:"POST",contentType:"application/json;charset=utf-8",dataType:"json",data:(0,i.default)({msg:n.trim(),type:t}),success:function(t){1===t.status?e(!0):4===t.status?e(t.message||r):o(null)},error:function(t){o(null)}})})).catch((function(t){return t}))}))).then((function(t){var n=t.filter((function(t){return!0!==t}));return!(n.length>0&&(1===n.length?null===n[0]?u.popMsgThenClose("网络请求错误"):u.popMsgThenClose(n[0]):n.some((function(t){return null===t}))?u.popMsgThenClose("网络请求错误"):u.popMsgThenClose(e||""),1))}));case 7:return n.abrupt("return",n.sent);case 8:case"end":return n.stop()}}),n,this)}))),function(){return n.apply(this,arguments)};var n}},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}}]);